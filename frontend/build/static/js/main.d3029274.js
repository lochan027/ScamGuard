/*! For license information please see main.d3029274.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,n)=>{e.exports=n(202)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,s={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:u,ref:c,props:s,_owner:a.current}}t.Fragment=s,t.jsx=u,t.jsxs=u},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=w.prototype=new v;b.constructor=w,m(b,y.prototype),b.isPureReactComponent=!0;var _=Array.isArray,E=Object.prototype.hasOwnProperty,x={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:x.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function N(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function I(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+N(l,0):s,_(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),I(o,t,i,"",function(e){return e})):null!=o&&(C(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",_(e))for(var u=0;u<e.length;u++){var c=s+N(a=e[u],u);l+=I(a,t,i,c,o)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=I(a=a.value,t,i,c=s+N(a,u++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function A(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",function(e){return t.call(n,e,i++)}),r}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},R={transition:null},P={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:R,ReactCurrentOwner:x};function L(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:A,forEach:function(e,t,n){A(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return A(e,function(){t++}),t},toArray:function(e){return A(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=w,t.StrictMode=s,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.act=L,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=x.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)E.call(t,u)&&!S.hasOwnProperty(u)&&(i[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)i.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=L,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>s(l,n))u<i&&0>s(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<i&&0>s(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],h=1,f=null,d=3,p=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(g=!1,b(e),!m)if(null!==r(u))m=!0,R(E);else{var t=r(c);null!==t&&P(_,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,v(C),C=-1),p=!0;var s=d;try{for(b(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!I());){var o=f.callback;if("function"===typeof o){f.callback=null,d=f.priorityLevel;var a=o(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?f.callback=a:f===r(u)&&i(u),b(n)}else i(u);f=r(u)}if(null!==f)var l=!0;else{var h=r(c);null!==h&&P(_,h.startTime-n),l=!1}return l}finally{f=null,d=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,S=!1,k=null,C=-1,T=5,N=-1;function I(){return!(t.unstable_now()-N<T)}function A(){if(null!==k){var e=t.unstable_now();N=e;var n=!0;try{n=k(!0,e)}finally{n?x():(S=!1,k=null)}}else S=!1}if("function"===typeof w)x=function(){w(A)};else if("undefined"!==typeof MessageChannel){var D=new MessageChannel,M=D.port2;D.port1.onmessage=A,x=function(){M.postMessage(null)}}else x=function(){y(A,0)};function R(e){k=e,S||(S=!0,x())}function P(e,n){C=y(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,R(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(c,e),null===r(u)&&e===r(c)&&(g?(v(C),C=-1):g=!0,P(_,s-o))):(e.sortIndex=a,n(u,e),m||p||(m=!0,R(E))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},579:(e,t,n)=>{e.exports=n(153)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){g[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){g[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){g[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){g[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){g[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(d,e)&&(f.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),E=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),T=Symbol.for("react.context"),N=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var O,j=Object.assign;function F(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var z=!1;function V(e,t){if(!e||z)return"";z=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(at){var r=at}Reflect.construct(e,[],t)}else{try{t.call()}catch(at){r=at}e.call(t.prototype)}else{try{throw Error()}catch(at){r=at}e()}}catch(at){if(at&&r&&"string"===typeof at.stack){for(var i=at.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{z=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function U(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case E:return"Portal";case k:return"Profiler";case S:return"StrictMode";case I:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case D:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Q(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function W(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(xs){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function J(e,t){$(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n)})}:e}(function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},de=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach(function(e){de.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]})});var ge=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var _e=null,Ee=null,xe=null;function Se(e){if(e=xi(e)){if("function"!==typeof _e)throw Error(s(280));var t=e.stateNode;t&&(t=ki(t),_e(e.stateNode,e.type,t))}}function ke(e){Ee?xe?xe.push(e):xe=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=xe;if(xe=Ee=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Te(e,t){return e(t)}function Ne(){}var Ie=!1;function Ae(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Te(e,t,n)}finally{Ie=!1,(null!==Ee||null!==xe)&&(Ne(),Ce())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=ki(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Me=!1;if(c)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Me=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(uc){Me=!1}function Pe(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(Cy){this.onError(Cy)}}var Le=!1,Oe=null,je=!1,Fe=null,ze={onError:function(e){Le=!0,Oe=e}};function Ve(e,t,n,r,i,s,o,a,l){Le=!1,Oe=null,Pe.apply(ze,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ue(e)!==e)throw Error(s(188))}function He(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return qe(i),e;if(o===r)return qe(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Qe=i.unstable_scheduleCallback,We=i.unstable_cancelCallback,Ge=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Xe=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Je=i.unstable_ImmediatePriority,Ze=i.unstable_UserBlockingPriority,et=i.unstable_NormalPriority,tt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ut|0)|0},lt=Math.log,ut=Math.LN2;var ct=64,ht=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ft(a):0!==(s&=o)&&(r=ft(s))}else 0!==(o=n&~i)?r=ft(o):0!==s&&(r=ft(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function mt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function yt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function vt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function wt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function _t(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Et=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var St,kt,Ct,Tt,Nt,It=!1,At=[],Dt=null,Mt=null,Rt=null,Pt=new Map,Lt=new Map,Ot=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ft(e,t){switch(e){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Mt=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function zt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=xi(t))&&kt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Vt(e){var t=Ei(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void Nt(e.priority,function(){Ct(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=xi(n))&&kt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Bt(e,t,n){Ut(e)&&n.delete(t)}function qt(){It=!1,null!==Dt&&Ut(Dt)&&(Dt=null),null!==Mt&&Ut(Mt)&&(Mt=null),null!==Rt&&Ut(Rt)&&(Rt=null),Pt.forEach(Bt),Lt.forEach(Bt)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,It||(It=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,qt)))}function Kt(e){function t(t){return Ht(t,e)}if(0<At.length){Ht(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Dt&&Ht(Dt,e),null!==Mt&&Ht(Mt,e),null!==Rt&&Ht(Rt,e),Pt.forEach(t),Lt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Vt(n),null===n.blockedOn&&Ot.shift()}var Qt=b.ReactCurrentBatchConfig,Wt=!0;function Gt(e,t,n,r){var i=Et,s=Qt.transition;Qt.transition=null;try{Et=1,Xt(e,t,n,r)}finally{Et=i,Qt.transition=s}}function Yt(e,t,n,r){var i=Et,s=Qt.transition;Qt.transition=null;try{Et=4,Xt(e,t,n,r)}finally{Et=i,Qt.transition=s}}function Xt(e,t,n,r){if(Wt){var i=Jt(e,t,n,r);if(null===i)Gr(e,t,r,$t,n),Ft(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Dt=zt(Dt,e,t,n,r,i),!0;case"dragenter":return Mt=zt(Mt,e,t,n,r,i),!0;case"mouseover":return Rt=zt(Rt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,zt(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Lt.set(s,zt(Lt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ft(e,r),4&t&&-1<jt.indexOf(e)){for(;null!==i;){var s=xi(i);if(null!==s&&St(s),null===(s=Jt(e,t,n,r))&&Gr(e,t,r,$t,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Gr(e,t,r,null,n)}}var $t=null;function Jt(e,t,n,r){if($t=null,null!==(e=Ei(e=be(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Zt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Je:return 1;case Ze:return 4;case et:case tt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var en=null,tn=null,nn=null;function rn(){if(nn)return nn;var e,t,n=tn,r=n.length,i="value"in en?en.value:en.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return nn=i.slice(e,1<t?1-t:void 0)}function sn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function on(){return!0}function an(){return!1}function ln(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?on:an,this.isPropagationStopped=an,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=on)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=on)},persist:function(){},isPersistent:on}),t}var un,cn,hn,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=ln(fn),pn=j({},fn,{view:0,detail:0}),mn=ln(pn),gn=j({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Nn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==hn&&(hn&&"mousemove"===e.type?(un=e.screenX-hn.screenX,cn=e.screenY-hn.screenY):cn=un=0,hn=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),yn=ln(gn),vn=ln(j({},gn,{dataTransfer:0})),wn=ln(j({},pn,{relatedTarget:0})),bn=ln(j({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),_n=j({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),En=ln(_n),xn=ln(j({},fn,{data:0})),Sn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Nn(){return Tn}var In=j({},pn,{key:function(e){if(e.key){var t=Sn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=sn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?kn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Nn,charCode:function(e){return"keypress"===e.type?sn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?sn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=ln(In),Dn=ln(j({},gn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=ln(j({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Nn})),Rn=ln(j({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},gn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=ln(Pn),On=[9,13,27,32],jn=c&&"CompositionEvent"in window,Fn=null;c&&"documentMode"in document&&(Fn=document.documentMode);var zn=c&&"TextEvent"in window&&!Fn,Vn=c&&(!jn||Fn&&8<Fn&&11>=Fn),Un=String.fromCharCode(32),Bn=!1;function qn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Qn=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function Yn(e,t,n,r){ke(r),0<(t=Xr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Xn=null,$n=null;function Jn(e){Br(e,0)}function Zn(e){if(W(Si(e)))return e}function er(e,t){if("change"===e)return t}var tr=!1;if(c){var nr;if(c){var rr="oninput"in document;if(!rr){var ir=document.createElement("div");ir.setAttribute("oninput","return;"),rr="function"===typeof ir.oninput}nr=rr}else nr=!1;tr=nr&&(!document.documentMode||9<document.documentMode)}function sr(){Xn&&(Xn.detachEvent("onpropertychange",or),$n=Xn=null)}function or(e){if("value"===e.propertyName&&Zn($n)){var t=[];Yn(t,$n,e,be(e)),Ae(Jn,t)}}function ar(e,t,n){"focusin"===e?(sr(),$n=n,(Xn=t).attachEvent("onpropertychange",or)):"focusout"===e&&sr()}function lr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Zn($n)}function ur(e,t){if("click"===e)return Zn(t)}function cr(e,t){if("input"===e||"change"===e)return Zn(t)}var hr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function fr(e,t){if(hr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!hr(e[i],t[i]))return!1}return!0}function dr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function pr(e,t){var n,r=dr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=dr(r)}}function mr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?mr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function gr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function yr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function vr(e){var t=gr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&mr(n.ownerDocument.documentElement,n)){if(null!==r&&yr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=pr(n,s);var o=pr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var wr=c&&"documentMode"in document&&11>=document.documentMode,br=null,_r=null,Er=null,xr=!1;function Sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;xr||null==br||br!==G(r)||("selectionStart"in(r=br)&&yr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},Er&&fr(Er,r)||(Er=r,0<(r=Xr(_r,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=br)))}function kr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Cr={animationend:kr("Animation","AnimationEnd"),animationiteration:kr("Animation","AnimationIteration"),animationstart:kr("Animation","AnimationStart"),transitionend:kr("Transition","TransitionEnd")},Tr={},Nr={};function Ir(e){if(Tr[e])return Tr[e];if(!Cr[e])return e;var t,n=Cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return Tr[e]=n[t];return e}c&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);var Ar=Ir("animationend"),Dr=Ir("animationiteration"),Mr=Ir("animationstart"),Rr=Ir("transitionend"),Pr=new Map,Lr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Or(e,t){Pr.set(e,t),l(t,[e])}for(var jr=0;jr<Lr.length;jr++){var Fr=Lr[jr];Or(Fr.toLowerCase(),"on"+(Fr[0].toUpperCase()+Fr.slice(1)))}Or(Ar,"onAnimationEnd"),Or(Dr,"onAnimationIteration"),Or(Mr,"onAnimationStart"),Or("dblclick","onDoubleClick"),Or("focusin","onFocus"),Or("focusout","onBlur"),Or(Rr,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var zr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vr=new Set("cancel close invalid load scroll toggle".split(" ").concat(zr));function Ur(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,u){if(Ve.apply(this,arguments),Le){if(!Le)throw Error(s(198));var c=Oe;Le=!1,Oe=null,je||(je=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function Br(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Ur(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Ur(i,a,u),s=l}}}if(je)throw e=Fe,je=!1,Fe=null,e}function qr(e,t){var n=t[wi];void 0===n&&(n=t[wi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function Hr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Kr="_reactListening"+Math.random().toString(36).slice(2);function Qr(e){if(!e[Kr]){e[Kr]=!0,o.forEach(function(t){"selectionchange"!==t&&(Vr.has(t)||Hr(t,!1,e),Hr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Kr]||(t[Kr]=!0,Hr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Zt(t)){case 1:var i=Gt;break;case 4:i=Yt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Gr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=Ei(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Ae(function(){var r=s,i=be(n),o=[];e:{var a=Pr.get(e);if(void 0!==a){var l=dn,u=e;switch(e){case"keypress":if(0===sn(n))break e;case"keydown":case"keyup":l=An;break;case"focusin":u="focus",l=wn;break;case"focusout":u="blur",l=wn;break;case"beforeblur":case"afterblur":l=wn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=yn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mn;break;case Ar:case Dr:case Mr:l=bn;break;case Rr:l=Rn;break;case"scroll":l=mn;break;case"wheel":l=Ln;break;case"copy":case"cut":case"paste":l=En;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Dn}var c=0!==(4&t),h=!c&&"scroll"===e,f=c?null!==a?a+"Capture":null:a;c=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&(null!=(m=De(p,f))&&c.push(Yr(p,m,d)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!Ei(u)&&!u[vi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ei(u):null)&&(u!==(h=Ue(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=yn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Dn,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==l?a:Si(l),d=null==u?a:Si(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=d,m=null,Ei(i)===r&&((c=new c(f,p+"enter",u,n,i)).target=d,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(f=u,p=0,d=c=l;d;d=$r(d))p++;for(d=0,m=f;m;m=$r(m))d++;for(;0<p-d;)c=$r(c),p--;for(;0<d-p;)f=$r(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break e;c=$r(c),f=$r(f)}c=null}else c=null;null!==l&&Jr(o,a,l,c,!1),null!==u&&null!==h&&Jr(o,h,u,c,!0)}if("select"===(l=(a=r?Si(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=er;else if(Gn(a))if(tr)g=cr;else{g=lr;var y=ar}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ur);switch(g&&(g=g(e,r))?Yn(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?Si(r):window,e){case"focusin":(Gn(y)||"true"===y.contentEditable)&&(br=y,_r=r,Er=null);break;case"focusout":Er=_r=br=null;break;case"mousedown":xr=!0;break;case"contextmenu":case"mouseup":case"dragend":xr=!1,Sr(o,n,i);break;case"selectionchange":if(wr)break;case"keydown":case"keyup":Sr(o,n,i)}var v;if(jn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Qn?qn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Vn&&"ko"!==n.locale&&(Qn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Qn&&(v=rn()):(tn="value"in(en=i)?en.value:en.textContent,Qn=!0)),0<(y=Xr(r,w)).length&&(w=new xn(w,e,null,n,i),o.push({event:w,listeners:y}),v?w.data=v:null!==(v=Kn(n))&&(w.data=v))),(v=zn?function(e,t){switch(e){case"compositionend":return Kn(t);case"keypress":return 32!==t.which?null:(Bn=!0,Un);case"textInput":return(e=t.data)===Un&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Qn)return"compositionend"===e||!jn&&qn(e,t)?(e=rn(),nn=tn=en=null,Qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Xr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}Br(o,t)})}function Yr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Xr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=De(e,n))&&r.unshift(Yr(e,s,i)),null!=(s=De(e,t))&&r.push(Yr(e,s,i))),e=e.return}return r}function $r(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Jr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=De(n,s))&&o.unshift(Yr(n,l,a)):i||null!=(l=De(n,s))&&o.push(Yr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Zr=/\r\n?/g,ei=/\u0000|\uFFFD/g;function ti(e){return("string"===typeof e?e:""+e).replace(Zr,"\n").replace(ei,"")}function ni(e,t,n){if(t=ti(t),ti(e)!==t&&n)throw Error(s(425))}function ri(){}var ii=null,si=null;function oi(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ai="function"===typeof setTimeout?setTimeout:void 0,li="function"===typeof clearTimeout?clearTimeout:void 0,ui="function"===typeof Promise?Promise:void 0,ci="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ui?function(e){return ui.resolve(null).then(e).catch(hi)}:ai;function hi(e){setTimeout(function(){throw e})}function fi(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Kt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Kt(t)}function di(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function pi(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var mi=Math.random().toString(36).slice(2),gi="__reactFiber$"+mi,yi="__reactProps$"+mi,vi="__reactContainer$"+mi,wi="__reactEvents$"+mi,bi="__reactListeners$"+mi,_i="__reactHandles$"+mi;function Ei(e){var t=e[gi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[vi]||n[gi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=pi(e);null!==e;){if(n=e[gi])return n;e=pi(e)}return t}n=(e=n).parentNode}return null}function xi(e){return!(e=e[gi]||e[vi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Si(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function ki(e){return e[yi]||null}var Ci=[],Ti=-1;function Ni(e){return{current:e}}function Ii(e){0>Ti||(e.current=Ci[Ti],Ci[Ti]=null,Ti--)}function Ai(e,t){Ti++,Ci[Ti]=e.current,e.current=t}var Di={},Mi=Ni(Di),Ri=Ni(!1),Pi=Di;function Li(e,t){var n=e.type.contextTypes;if(!n)return Di;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Oi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function ji(){Ii(Ri),Ii(Mi)}function Fi(e,t,n){if(Mi.current!==Di)throw Error(s(168));Ai(Mi,t),Ai(Ri,n)}function zi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return j({},n,r)}function Vi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Di,Pi=Mi.current,Ai(Mi,e),Ai(Ri,Ri.current),!0}function Ui(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=zi(e,t,Pi),r.__reactInternalMemoizedMergedChildContext=e,Ii(Ri),Ii(Mi),Ai(Mi,e)):Ii(Ri),Ai(Ri,n)}var Bi=null,qi=!1,Hi=!1;function Ki(e){null===Bi?Bi=[e]:Bi.push(e)}function Qi(){if(!Hi&&null!==Bi){Hi=!0;var e=0,t=Et;try{var n=Bi;for(Et=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Bi=null,qi=!1}catch(i){throw null!==Bi&&(Bi=Bi.slice(e+1)),Qe(Je,Qi),i}finally{Et=t,Hi=!1}}return null}var Wi=[],Gi=0,Yi=null,Xi=0,$i=[],Ji=0,Zi=null,es=1,ts="";function ns(e,t){Wi[Gi++]=Xi,Wi[Gi++]=Yi,Yi=e,Xi=t}function rs(e,t,n){$i[Ji++]=es,$i[Ji++]=ts,$i[Ji++]=Zi,Zi=e;var r=es;e=ts;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,es=1<<32-ot(t)+i|n<<i|r,ts=s+e}else es=1<<s|n<<i|r,ts=e}function is(e){null!==e.return&&(ns(e,1),rs(e,1,0))}function ss(e){for(;e===Yi;)Yi=Wi[--Gi],Wi[Gi]=null,Xi=Wi[--Gi],Wi[Gi]=null;for(;e===Zi;)Zi=$i[--Ji],$i[Ji]=null,ts=$i[--Ji],$i[Ji]=null,es=$i[--Ji],$i[Ji]=null}var os=null,as=null,ls=!1,us=null;function cs(e,t){var n=Ou(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function hs(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,os=e,as=di(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,os=e,as=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Zi?{id:es,overflow:ts}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ou(18,null,null,0)).stateNode=t,n.return=e,e.child=n,os=e,as=null,!0);default:return!1}}function fs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ds(e){if(ls){var t=as;if(t){var n=t;if(!hs(e,t)){if(fs(e))throw Error(s(418));t=di(n.nextSibling);var r=os;t&&hs(e,t)?cs(r,n):(e.flags=-4097&e.flags|2,ls=!1,os=e)}}else{if(fs(e))throw Error(s(418));e.flags=-4097&e.flags|2,ls=!1,os=e}}}function ps(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;os=e}function ms(e){if(e!==os)return!1;if(!ls)return ps(e),ls=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!oi(e.type,e.memoizedProps)),t&&(t=as)){if(fs(e))throw gs(),Error(s(418));for(;t;)cs(e,t),t=di(t.nextSibling)}if(ps(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){as=di(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}as=null}}else as=os?di(e.stateNode.nextSibling):null;return!0}function gs(){for(var e=as;e;)e=di(e.nextSibling)}function ys(){as=os=null,ls=!1}function vs(e){null===us?us=[e]:us.push(e)}var ws=b.ReactCurrentBatchConfig;function bs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function _s(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Es(e){return(0,e._init)(e._payload)}function Ss(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Fu(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Bu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,r){var s=n.type;return s===x?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===M&&Es(s)===t.type)?((r=i(t,n.props)).ref=bs(e,t,n),r.return=e,r):((r=zu(n.type,n.key,n.props,null,e.mode,r)).ref=bs(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Vu(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Bu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=zu(t.type,t.key,t.props,null,e.mode,n)).ref=bs(e,null,t),n.return=e,n;case E:return(t=qu(t,e.mode,n)).return=e,t;case M:return f(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Vu(t,e.mode,n,null)).return=e,t;_s(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?u(e,t,n,r):null;case E:return n.key===i?c(e,t,n,r):null;case M:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:h(e,t,n,r,null);_s(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case M:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return h(t,e=e.get(n)||null,r,i,null);_s(t,r)}return null}function m(i,s,a,l){for(var u=null,c=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=d(i,h,a[m],l);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(i,h),s=o(y,s,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===a.length)return n(i,h),ls&&ns(i,m),u;if(null===h){for(;m<a.length;m++)null!==(h=f(i,a[m],l))&&(s=o(h,s,m),null===c?u=h:c.sibling=h,c=h);return ls&&ns(i,m),u}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach(function(e){return t(i,e)}),ls&&ns(i,m),u}function g(i,a,l,u){var c=L(l);if("function"!==typeof c)throw Error(s(150));if(null==(l=c.call(l)))throw Error(s(151));for(var h=c=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var w=d(i,m,v.value,u);if(null===w){null===m&&(m=y);break}e&&m&&null===w.alternate&&t(i,m),a=o(w,a,g),null===h?c=w:h.sibling=w,h=w,m=y}if(v.done)return n(i,m),ls&&ns(i,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=f(i,v.value,u))&&(a=o(v,a,g),null===h?c=v:h.sibling=v,h=v);return ls&&ns(i,g),c}for(m=r(i,m);!v.done;g++,v=l.next())null!==(v=p(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=o(v,a,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach(function(e){return t(i,e)}),ls&&ns(i,g),c}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===x&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case _:e:{for(var u=o.key,c=s;null!==c;){if(c.key===u){if((u=o.type)===x){if(7===c.tag){n(r,c.sibling),(s=i(c,o.props.children)).return=r,r=s;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===M&&Es(u)===c.type){n(r,c.sibling),(s=i(c,o.props)).ref=bs(r,c,o),s.return=r,r=s;break e}n(r,c);break}t(r,c),c=c.sibling}o.type===x?((s=Vu(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=zu(o.type,o.key,o.props,null,r.mode,l)).ref=bs(r,s,o),l.return=r,r=l)}return a(r);case E:e:{for(c=o.key;null!==s;){if(s.key===c){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=qu(o,r.mode,l)).return=r,r=s}return a(r);case M:return e(r,s,(c=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(L(o))return g(r,s,o,l);_s(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Bu(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var ks=Ss(!0),Cs=Ss(!1),Ts=Ni(null),Ns=null,Is=null,As=null;function Ds(){As=Is=Ns=null}function Ms(e){var t=Ts.current;Ii(Ts),e._currentValue=t}function Rs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ps(e,t){Ns=e,As=Is=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Sa=!0),e.firstContext=null)}function Ls(e){var t=e._currentValue;if(As!==e)if(e={context:e,memoizedValue:t,next:null},null===Is){if(null===Ns)throw Error(s(308));Is=e,Ns.dependencies={lanes:0,firstContext:e}}else Is=Is.next=e;return t}var Os=null;function js(e){null===Os?Os=[e]:Os.push(e)}function Fs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,js(t)):(n.next=i.next,i.next=n),t.interleaved=n,zs(e,r)}function zs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Vs=!1;function Us(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Bs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function qs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Rl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,zs(e,n)}return null===(i=r.interleaved)?(t.next=t,js(r)):(t.next=i.next,i.next=t),r.interleaved=t,zs(e,n)}function Ks(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_t(e,n)}}function Qs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ws(e,t,n,r){var i=e.updateQueue;Vs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var f=a.lane,d=a.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:d,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(f=t,d=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(d,h,f);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(f="function"===typeof(p=m.payload)?p.call(d,h,f):p)||void 0===f)break e;h=j({},h,f);break e;case 2:Vs=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(f=i.effects)?i.effects=[a]:f.push(a))}else d={eventTime:d,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=d,l=h):c=c.next=d,o|=f;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(f=a).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ul|=o,e.lanes=o,e.memoizedState=h}}function Gs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Ys={},Xs=Ni(Ys),$s=Ni(Ys),Js=Ni(Ys);function Zs(e){if(e===Ys)throw Error(s(174));return e}function eo(e,t){switch(Ai(Js,t),Ai($s,e),Ai(Xs,Ys),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Xs),Ai(Xs,t)}function to(){Ii(Xs),Ii($s),Ii(Js)}function no(e){Zs(Js.current);var t=Zs(Xs.current),n=le(t,e.type);t!==n&&(Ai($s,e),Ai(Xs,n))}function ro(e){$s.current===e&&(Ii(Xs),Ii($s))}var io=Ni(0);function so(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var oo=[];function ao(){for(var e=0;e<oo.length;e++)oo[e]._workInProgressVersionPrimary=null;oo.length=0}var lo=b.ReactCurrentDispatcher,uo=b.ReactCurrentBatchConfig,co=0,ho=null,fo=null,po=null,mo=!1,go=!1,yo=0,vo=0;function wo(){throw Error(s(321))}function bo(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!hr(e[n],t[n]))return!1;return!0}function _o(e,t,n,r,i,o){if(co=o,ho=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,lo.current=null===e||null===e.memoizedState?ia:sa,e=n(r,i),go){o=0;do{if(go=!1,yo=0,25<=o)throw Error(s(301));o+=1,po=fo=null,t.updateQueue=null,lo.current=oa,e=n(r,i)}while(go)}if(lo.current=ra,t=null!==fo&&null!==fo.next,co=0,po=fo=ho=null,mo=!1,t)throw Error(s(300));return e}function Eo(){var e=0!==yo;return yo=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===po?ho.memoizedState=po=e:po=po.next=e,po}function So(){if(null===fo){var e=ho.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===po?ho.memoizedState:po.next;if(null!==t)po=t,fo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===po?ho.memoizedState=po=e:po=po.next=e}return po}function ko(e,t){return"function"===typeof t?t(e):t}function Co(e){var t=So(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,u=null,c=o;do{var h=c.lane;if((co&h)===h)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,a=r):u=u.next=f,ho.lanes|=h,Ul|=h}c=c.next}while(null!==c&&c!==o);null===u?a=r:u.next=l,hr(r,t.memoizedState)||(Sa=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,ho.lanes|=o,Ul|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function To(e){var t=So(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);hr(o,t.memoizedState)||(Sa=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function No(){}function Io(e,t){var n=ho,r=So(),i=t(),o=!hr(r.memoizedState,i);if(o&&(r.memoizedState=i,Sa=!0),r=r.queue,Uo(Mo.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==po&&1&po.memoizedState.tag){if(n.flags|=2048,Oo(9,Do.bind(null,n,r,i,t),void 0,null),null===Pl)throw Error(s(349));0!==(30&co)||Ao(n,t,i)}return i}function Ao(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ho.updateQueue)?(t={lastEffect:null,stores:null},ho.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Do(e,t,n,r){t.value=n,t.getSnapshot=r,Ro(t)&&Po(e)}function Mo(e,t,n){return n(function(){Ro(t)&&Po(e)})}function Ro(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!hr(e,n)}catch(r){return!0}}function Po(e){var t=zs(e,1);null!==t&&au(t,e,1,-1)}function Lo(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ko,lastRenderedState:e},t.queue=e,e=e.dispatch=Zo.bind(null,ho,e),[t.memoizedState,e]}function Oo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ho.updateQueue)?(t={lastEffect:null,stores:null},ho.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function jo(){return So().memoizedState}function Fo(e,t,n,r){var i=xo();ho.flags|=e,i.memoizedState=Oo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=So();r=void 0===r?null:r;var s=void 0;if(null!==fo){var o=fo.memoizedState;if(s=o.destroy,null!==r&&bo(r,o.deps))return void(i.memoizedState=Oo(t,n,s,r))}ho.flags|=e,i.memoizedState=Oo(1|t,n,s,r)}function Vo(e,t){return Fo(8390656,8,e,t)}function Uo(e,t){return zo(2048,8,e,t)}function Bo(e,t){return zo(4,2,e,t)}function qo(e,t){return zo(4,4,e,t)}function Ho(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ko(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Ho.bind(null,t,e),n)}function Qo(){}function Wo(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=So();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&bo(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Yo(e,t,n){return 0===(21&co)?(e.baseState&&(e.baseState=!1,Sa=!0),e.memoizedState=n):(hr(n,t)||(n=yt(),ho.lanes|=n,Ul|=n,e.baseState=!0),t)}function Xo(e,t){var n=Et;Et=0!==n&&4>n?n:4,e(!0);var r=uo.transition;uo.transition={};try{e(!1),t()}finally{Et=n,uo.transition=r}}function $o(){return So().memoizedState}function Jo(e,t,n){var r=ou(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ea(e))ta(t,n);else if(null!==(n=Fs(e,t,n,r))){au(n,e,r,su()),na(n,t,r)}}function Zo(e,t,n){var r=ou(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ea(e))ta(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,hr(a,o)){var l=t.interleaved;return null===l?(i.next=i,js(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(at){}null!==(n=Fs(e,t,i,r))&&(au(n,e,r,i=su()),na(n,t,r))}}function ea(e){var t=e.alternate;return e===ho||null!==t&&t===ho}function ta(e,t){go=mo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function na(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,_t(e,n)}}var ra={readContext:Ls,useCallback:wo,useContext:wo,useEffect:wo,useImperativeHandle:wo,useInsertionEffect:wo,useLayoutEffect:wo,useMemo:wo,useReducer:wo,useRef:wo,useState:wo,useDebugValue:wo,useDeferredValue:wo,useTransition:wo,useMutableSource:wo,useSyncExternalStore:wo,useId:wo,unstable_isNewReconciler:!1},ia={readContext:Ls,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Ls,useEffect:Vo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4194308,4,Ho.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Jo.bind(null,ho,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Lo,useDebugValue:Qo,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Lo(!1),t=e[0];return e=Xo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ho,i=xo();if(ls){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Pl)throw Error(s(349));0!==(30&co)||Ao(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Vo(Mo.bind(null,r,o,e),[e]),r.flags|=2048,Oo(9,Do.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Pl.identifierPrefix;if(ls){var n=ts;t=":"+t+"R"+(n=(es&~(1<<32-ot(es)-1)).toString(32)+n),0<(n=yo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=vo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},sa={readContext:Ls,useCallback:Wo,useContext:Ls,useEffect:Uo,useImperativeHandle:Ko,useInsertionEffect:Bo,useLayoutEffect:qo,useMemo:Go,useReducer:Co,useRef:jo,useState:function(){return Co(ko)},useDebugValue:Qo,useDeferredValue:function(e){return Yo(So(),fo.memoizedState,e)},useTransition:function(){return[Co(ko)[0],So().memoizedState]},useMutableSource:No,useSyncExternalStore:Io,useId:$o,unstable_isNewReconciler:!1},oa={readContext:Ls,useCallback:Wo,useContext:Ls,useEffect:Uo,useImperativeHandle:Ko,useInsertionEffect:Bo,useLayoutEffect:qo,useMemo:Go,useReducer:To,useRef:jo,useState:function(){return To(ko)},useDebugValue:Qo,useDeferredValue:function(e){var t=So();return null===fo?t.memoizedState=e:Yo(t,fo.memoizedState,e)},useTransition:function(){return[To(ko)[0],So().memoizedState]},useMutableSource:No,useSyncExternalStore:Io,useId:$o,unstable_isNewReconciler:!1};function aa(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function la(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ua={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=su(),i=ou(e),s=qs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Hs(e,s,i))&&(au(t,e,i,r),Ks(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=su(),i=ou(e),s=qs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Hs(e,s,i))&&(au(t,e,i,r),Ks(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=su(),r=ou(e),i=qs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Hs(e,i,r))&&(au(t,e,r,n),Ks(t,e,r))}};function ca(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,s))}function ha(e,t,n){var r=!1,i=Di,s=t.contextType;return"object"===typeof s&&null!==s?s=Ls(s):(i=Oi(t)?Pi:Mi.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Li(e,i):Di),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ua,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function fa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ua.enqueueReplaceState(t,t.state,null)}function da(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Us(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Ls(s):(s=Oi(t)?Pi:Mi.current,i.context=Li(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(la(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ua.enqueueReplaceState(i,i.state,null),Ws(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function pa(e,t){try{var n="",r=t;do{n+=U(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ma(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ga(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ya="function"===typeof WeakMap?WeakMap:Map;function va(e,t,n){(n=qs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Yl||(Yl=!0,Xl=r),ga(0,t)},n}function wa(e,t,n){(n=qs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ga(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ga(0,t),"function"!==typeof r&&(null===$l?$l=new Set([this]):$l.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ba(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ya;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Au.bind(null,e,t,n),t.then(e,e))}function _a(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ea(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=qs(-1,1)).tag=2,Hs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var xa=b.ReactCurrentOwner,Sa=!1;function ka(e,t,n,r){t.child=null===e?Cs(t,null,n,r):ks(t,e.child,n,r)}function Ca(e,t,n,r,i){n=n.render;var s=t.ref;return Ps(t,i),r=_o(e,t,n,r,s,i),n=Eo(),null===e||Sa?(ls&&n&&is(t),t.flags|=1,ka(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ya(e,t,i))}function Ta(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||ju(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zu(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Na(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:fr)(o,r)&&e.ref===t.ref)return Ya(e,t,i)}return t.flags|=1,(e=Fu(s,r)).ref=t.ref,e.return=t,t.child=e}function Na(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(fr(s,r)&&e.ref===t.ref){if(Sa=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ya(e,t,i);0!==(131072&e.flags)&&(Sa=!0)}}return Da(e,t,n,r,i)}function Ia(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ai(Fl,jl),jl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ai(Fl,jl),jl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ai(Fl,jl),jl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ai(Fl,jl),jl|=r;return ka(e,t,i,n),t.child}function Aa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Da(e,t,n,r,i){var s=Oi(n)?Pi:Mi.current;return s=Li(t,s),Ps(t,i),n=_o(e,t,n,r,s,i),r=Eo(),null===e||Sa?(ls&&r&&is(t),t.flags|=1,ka(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ya(e,t,i))}function Ma(e,t,n,r,i){if(Oi(n)){var s=!0;Vi(t)}else s=!1;if(Ps(t,i),null===t.stateNode)Ga(e,t),ha(t,n,r),da(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ls(u):u=Li(t,u=Oi(n)?Pi:Mi.current);var c=n.getDerivedStateFromProps,h="function"===typeof c||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==u)&&fa(t,o,r,u),Vs=!1;var f=t.memoizedState;o.state=f,Ws(t,r,o,i),l=t.memoizedState,a!==r||f!==l||Ri.current||Vs?("function"===typeof c&&(la(t,n,c,r),l=t.memoizedState),(a=Vs||ca(t,n,a,r,f,l,u))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Bs(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:aa(t.type,a),o.props=u,h=t.pendingProps,f=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ls(l):l=Li(t,l=Oi(n)?Pi:Mi.current);var d=n.getDerivedStateFromProps;(c="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||f!==l)&&fa(t,o,r,l),Vs=!1,f=t.memoizedState,o.state=f,Ws(t,r,o,i);var p=t.memoizedState;a!==h||f!==p||Ri.current||Vs?("function"===typeof d&&(la(t,n,d,r),p=t.memoizedState),(u=Vs||ca(t,n,u,r,f,p,l)||!1)?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Ra(e,t,n,r,s,i)}function Ra(e,t,n,r,i,s){Aa(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Ui(t,n,!1),Ya(e,t,s);r=t.stateNode,xa.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=ks(t,e.child,null,s),t.child=ks(t,null,a,s)):ka(e,t,a,s),t.memoizedState=r.state,i&&Ui(t,n,!0),t.child}function Pa(e){var t=e.stateNode;t.pendingContext?Fi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fi(0,t.context,!1),eo(e,t.containerInfo)}function La(e,t,n,r,i){return ys(),vs(i),t.flags|=256,ka(e,t,n,r),t.child}var Oa,ja,Fa,za,Va={dehydrated:null,treeContext:null,retryLane:0};function Ua(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ba(e,t,n){var r,i=t.pendingProps,o=io.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ai(io,1&o),null===e)return ds(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Uu(l,i,0,null),e=Vu(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ua(n),t.memoizedState=Va,e):qa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ha(e,t,a,r=ma(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=Uu({mode:"visible",children:r.children},i,0,null),(o=Vu(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&ks(t,e.child,null,a),t.child.memoizedState=Ua(a),t.memoizedState=Va,o);if(0===(1&t.mode))return Ha(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ha(e,t,a,r=ma(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),Sa||l){if(null!==(r=Pl)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,zs(e,i),au(r,e,i,-1))}return bu(),Ha(e,t,a,r=ma(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Mu.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,as=di(i.nextSibling),os=t,ls=!0,us=null,null!==e&&($i[Ji++]=es,$i[Ji++]=ts,$i[Ji++]=Zi,es=e.id,ts=e.overflow,Zi=t),t=qa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var u={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=u,t.deletions=null):(i=Fu(o,u)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Fu(r,a):(a=Vu(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?Ua(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Va,i}return e=(a=e.child).sibling,i=Fu(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function qa(e,t){return(t=Uu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ha(e,t,n,r){return null!==r&&vs(r),ks(t,e.child,null,n),(e=qa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ka(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Rs(e.return,t,n)}function Qa(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Wa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ka(e,t,r.children,n),0!==(2&(r=io.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ka(e,n,t);else if(19===e.tag)Ka(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ai(io,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===so(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Qa(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===so(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Qa(t,!0,n,null,s);break;case"together":Qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ga(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ya(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ul|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Fu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Xa(e,t){if(!ls)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $a(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ja(e,t,n){var r=t.pendingProps;switch(ss(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $a(t),null;case 1:case 17:return Oi(t.type)&&ji(),$a(t),null;case 3:return r=t.stateNode,to(),Ii(Ri),Ii(Mi),ao(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ms(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==us&&(hu(us),us=null))),ja(e,t),$a(t),null;case 5:ro(t);var i=Zs(Js.current);if(n=t.type,null!==e&&null!=t.stateNode)Fa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return $a(t),null}if(e=Zs(Xs.current),ms(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[gi]=t,r[yi]=o,e=0!==(1&t.mode),n){case"dialog":qr("cancel",r),qr("close",r);break;case"iframe":case"object":case"embed":qr("load",r);break;case"video":case"audio":for(i=0;i<zr.length;i++)qr(zr[i],r);break;case"source":qr("error",r);break;case"img":case"image":case"link":qr("error",r),qr("load",r);break;case"details":qr("toggle",r);break;case"input":X(r,o),qr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},qr("invalid",r);break;case"textarea":ie(r,o),qr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var u=o[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==o.suppressHydrationWarning&&ni(r.textContent,u,e),i=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==o.suppressHydrationWarning&&ni(r.textContent,u,e),i=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&qr("scroll",r)}switch(n){case"input":Q(r),Z(r,o,!0);break;case"textarea":Q(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=ri)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[gi]=t,e[yi]=r,Oa(e,t,!1,!1),t.stateNode=e;e:{switch(l=ve(n,r),n){case"dialog":qr("cancel",e),qr("close",e),i=r;break;case"iframe":case"object":case"embed":qr("load",e),i=r;break;case"video":case"audio":for(i=0;i<zr.length;i++)qr(zr[i],e);i=r;break;case"source":qr("error",e),i=r;break;case"img":case"image":case"link":qr("error",e),qr("load",e),i=r;break;case"details":qr("toggle",e),i=r;break;case"input":X(e,r),i=Y(e,r),qr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),qr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),qr("invalid",e)}for(o in ye(n,i),u=i)if(u.hasOwnProperty(o)){var c=u[o];"style"===o?me(e,c):"dangerouslySetInnerHTML"===o?null!=(c=c?c.__html:void 0)&&ce(e,c):"children"===o?"string"===typeof c?("textarea"!==n||""!==c)&&he(e,c):"number"===typeof c&&he(e,""+c):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=c&&"onScroll"===o&&qr("scroll",e):null!=c&&w(e,o,c,l))}switch(n){case"input":Q(e),Z(e,r,!1);break;case"textarea":Q(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=ri)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $a(t),null;case 6:if(e&&null!=t.stateNode)za(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Zs(Js.current),Zs(Xs.current),ms(t)){if(r=t.stateNode,n=t.memoizedProps,r[gi]=t,(o=r.nodeValue!==n)&&null!==(e=os))switch(e.tag){case 3:ni(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ni(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[gi]=t,t.stateNode=r}return $a(t),null;case 13:if(Ii(io),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ls&&null!==as&&0!==(1&t.mode)&&0===(128&t.flags))gs(),ys(),t.flags|=98560,o=!1;else if(o=ms(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[gi]=t}else ys(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$a(t),o=!1}else null!==us&&(hu(us),us=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&io.current)?0===zl&&(zl=3):bu())),null!==t.updateQueue&&(t.flags|=4),$a(t),null);case 4:return to(),ja(e,t),null===e&&Qr(t.stateNode.containerInfo),$a(t),null;case 10:return Ms(t.type._context),$a(t),null;case 19:if(Ii(io),null===(o=t.memoizedState))return $a(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Xa(o,!1);else{if(0!==zl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=so(e))){for(t.flags|=128,Xa(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ai(io,1&io.current|2),t.child}e=e.sibling}null!==o.tail&&Xe()>Wl&&(t.flags|=128,r=!0,Xa(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=so(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Xa(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ls)return $a(t),null}else 2*Xe()-o.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Xa(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Xe(),t.sibling=null,n=io.current,Ai(io,r?1&n|2:1&n),t):($a(t),null);case 22:case 23:return gu(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&jl)&&($a(t),6&t.subtreeFlags&&(t.flags|=8192)):$a(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Za(e,t){switch(ss(t),t.tag){case 1:return Oi(t.type)&&ji(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return to(),Ii(Ri),Ii(Mi),ao(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ro(t),null;case 13:if(Ii(io),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ys()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(io),null;case 4:return to(),null;case 10:return Ms(t.type._context),null;case 22:case 23:return gu(),null;default:return null}}Oa=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},ja=function(){},Fa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Zs(Xs.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=ri)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var l=i[c];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(s in l)!l.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&l[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(o=o||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(o=o||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&qr("scroll",e),o||l===u||(o=[])):(o=o||[]).push(c,u))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}},za=function(e,t,n,r){n!==r&&(t.flags|=4)};var el=!1,tl=!1,nl="function"===typeof WeakSet?WeakSet:Set,rl=null;function il(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Iu(e,t,r)}else n.current=null}function sl(e,t,n){try{n()}catch(r){Iu(e,t,r)}}var ol=!1;function al(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&sl(t,n,s)}i=i.next}while(i!==r)}}function ll(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ul(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function cl(e){var t=e.alternate;null!==t&&(e.alternate=null,cl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[gi],delete t[yi],delete t[wi],delete t[bi],delete t[_i])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function hl(e){return 5===e.tag||3===e.tag||4===e.tag}function fl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||hl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function dl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=ri));else if(4!==r&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}function pl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(pl(e,t,n),e=e.sibling;null!==e;)pl(e,t,n),e=e.sibling}var ml=null,gl=!1;function yl(e,t,n){for(n=n.child;null!==n;)vl(e,t,n),n=n.sibling}function vl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:tl||il(n,t);case 6:var r=ml,i=gl;ml=null,yl(e,t,n),gl=i,null!==(ml=r)&&(gl?(e=ml,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):ml.removeChild(n.stateNode));break;case 18:null!==ml&&(gl?(e=ml,n=n.stateNode,8===e.nodeType?fi(e.parentNode,n):1===e.nodeType&&fi(e,n),Kt(e)):fi(ml,n.stateNode));break;case 4:r=ml,i=gl,ml=n.stateNode.containerInfo,gl=!0,yl(e,t,n),ml=r,gl=i;break;case 0:case 11:case 14:case 15:if(!tl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&sl(n,t,o),i=i.next}while(i!==r)}yl(e,t,n);break;case 1:if(!tl&&(il(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Iu(n,t,a)}yl(e,t,n);break;case 21:yl(e,t,n);break;case 22:1&n.mode?(tl=(r=tl)||null!==n.memoizedState,yl(e,t,n),tl=r):yl(e,t,n);break;default:yl(e,t,n)}}function wl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new nl),t.forEach(function(t){var r=Ru.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function bl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:ml=l.stateNode,gl=!1;break e;case 3:case 4:ml=l.stateNode.containerInfo,gl=!0;break e}l=l.return}if(null===ml)throw Error(s(160));vl(o,a,i),ml=null,gl=!1;var u=i.alternate;null!==u&&(u.return=null),i.return=null}catch(at){Iu(i,t,at)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)_l(t,e),t=t.sibling}function _l(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(bl(t,e),El(e),4&r){try{al(3,e,e.return),ll(3,e)}catch(g){Iu(e,e.return,g)}try{al(5,e,e.return)}catch(g){Iu(e,e.return,g)}}break;case 1:bl(t,e),El(e),512&r&&null!==n&&il(n,n.return);break;case 5:if(bl(t,e),El(e),512&r&&null!==n&&il(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Iu(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(i,o),ve(l,a);var c=ve(l,o);for(a=0;a<u.length;a+=2){var h=u[a],f=u[a+1];"style"===h?me(i,f):"dangerouslySetInnerHTML"===h?ce(i,f):"children"===h?he(i,f):w(i,h,f,c)}switch(l){case"input":J(i,o);break;case"textarea":se(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[yi]=o}catch(g){Iu(e,e.return,g)}}break;case 6:if(bl(t,e),El(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Iu(e,e.return,g)}}break;case 3:if(bl(t,e),El(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Kt(t.containerInfo)}catch(g){Iu(e,e.return,g)}break;case 4:default:bl(t,e),El(e);break;case 13:bl(t,e),El(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(Ql=Xe())),4&r&&wl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(tl=(c=tl)||h,bl(t,e),tl=c):bl(t,e),El(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!h&&0!==(1&e.mode))for(rl=e,h=e.child;null!==h;){for(f=rl=h;null!==rl;){switch(p=(d=rl).child,d.tag){case 0:case 11:case 14:case 15:al(4,d,d.return);break;case 1:il(d,d.return);var m=d.stateNode;if("function"===typeof m.componentWillUnmount){r=d,n=d.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Iu(r,n,g)}}break;case 5:il(d,d.return);break;case 22:if(null!==d.memoizedState){Cl(f);continue}}null!==p?(p.return=d,rl=p):Cl(f)}h=h.sibling}e:for(h=null,f=e;;){if(5===f.tag){if(null===h){h=f;try{i=f.stateNode,c?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=f.stateNode,a=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=pe("display",a))}catch(g){Iu(e,e.return,g)}}}else if(6===f.tag){if(null===h)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Iu(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:bl(t,e),El(e),4&r&&wl(e);case 21:}}function El(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(hl(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),pl(e,fl(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;dl(e,fl(e),o);break;default:throw Error(s(161))}}catch(rt){Iu(e,e.return,rt)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){rl=e,Sl(e,t,n)}function Sl(e,t,n){for(var r=0!==(1&e.mode);null!==rl;){var i=rl,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||el;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||tl;a=el;var u=tl;if(el=o,(tl=l)&&!u)for(rl=i;null!==rl;)l=(o=rl).child,22===o.tag&&null!==o.memoizedState?Tl(i):null!==l?(l.return=o,rl=l):Tl(i);for(;null!==s;)rl=s,Sl(s,t,n),s=s.sibling;rl=i,el=a,tl=u}kl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,rl=s):kl(e)}}function kl(e){for(;null!==rl;){var t=rl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:tl||ll(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!tl)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:aa(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Gs(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Gs(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var h=c.memoizedState;if(null!==h){var f=h.dehydrated;null!==f&&Kt(f)}}}break;default:throw Error(s(163))}tl||512&t.flags&&ul(t)}catch(gt){Iu(t,t.return,gt)}}if(t===e){rl=null;break}if(null!==(n=t.sibling)){n.return=t.return,rl=n;break}rl=t.return}}function Cl(e){for(;null!==rl;){var t=rl;if(t===e){rl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,rl=n;break}rl=t.return}}function Tl(e){for(;null!==rl;){var t=rl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ll(4,t)}catch(rt){Iu(t,n,rt)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(rt){Iu(t,i,rt)}}var s=t.return;try{ul(t)}catch(rt){Iu(t,s,rt)}break;case 5:var o=t.return;try{ul(t)}catch(rt){Iu(t,o,rt)}}}catch(rt){Iu(t,t.return,rt)}if(t===e){rl=null;break}var a=t.sibling;if(null!==a){a.return=t.return,rl=a;break}rl=t.return}}var Nl,Il=Math.ceil,Al=b.ReactCurrentDispatcher,Dl=b.ReactCurrentOwner,Ml=b.ReactCurrentBatchConfig,Rl=0,Pl=null,Ll=null,Ol=0,jl=0,Fl=Ni(0),zl=0,Vl=null,Ul=0,Bl=0,ql=0,Hl=null,Kl=null,Ql=0,Wl=1/0,Gl=null,Yl=!1,Xl=null,$l=null,Jl=!1,Zl=null,eu=0,tu=0,nu=null,ru=-1,iu=0;function su(){return 0!==(6&Rl)?Xe():-1!==ru?ru:ru=Xe()}function ou(e){return 0===(1&e.mode)?1:0!==(2&Rl)&&0!==Ol?Ol&-Ol:null!==ws.transition?(0===iu&&(iu=yt()),iu):0!==(e=Et)?e:e=void 0===(e=window.event)?16:Zt(e.type)}function au(e,t,n,r){if(50<tu)throw tu=0,nu=null,Error(s(185));wt(e,n,r),0!==(2&Rl)&&e===Pl||(e===Pl&&(0===(2&Rl)&&(Bl|=n),4===zl&&fu(e,Ol)),lu(e,r),1===n&&0===Rl&&0===(1&t.mode)&&(Wl=Xe()+500,qi&&Qi()))}function lu(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=pt(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Pl?Ol:0);if(0===r)null!==n&&We(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&We(n),1===t)0===e.tag?function(e){qi=!0,Ki(e)}(du.bind(null,e)):Ki(du.bind(null,e)),ci(function(){0===(6&Rl)&&Qi()}),n=null;else{switch(xt(r)){case 1:n=Je;break;case 4:n=Ze;break;case 16:default:n=et;break;case 536870912:n=nt}n=Pu(n,uu.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function uu(e,t){if(ru=-1,iu=0,0!==(6&Rl))throw Error(s(327));var n=e.callbackNode;if(Tu()&&e.callbackNode!==n)return null;var r=dt(e,e===Pl?Ol:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=_u(e,r);else{t=r;var i=Rl;Rl|=2;var o=wu();for(Pl===e&&Ol===t||(Gl=null,Wl=Xe()+500,yu(e,t));;)try{xu();break}catch(l){vu(e,l)}Ds(),Al.current=o,Rl=i,null!==Ll?t=0:(Pl=null,Ol=0,t=zl)}if(0!==t){if(2===t&&(0!==(i=mt(e))&&(r=i,t=cu(e,i))),1===t)throw n=Vl,yu(e,0),fu(e,r),lu(e,Xe()),n;if(6===t)fu(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!hr(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=_u(e,r))&&(0!==(o=mt(e))&&(r=o,t=cu(e,o))),1===t))throw n=Vl,yu(e,0),fu(e,r),lu(e,Xe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Cu(e,Kl,Gl);break;case 3:if(fu(e,r),(130023424&r)===r&&10<(t=Ql+500-Xe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){su(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ai(Cu.bind(null,e,Kl,Gl),t);break}Cu(e,Kl,Gl);break;case 4:if(fu(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Il(r/1960))-r)){e.timeoutHandle=ai(Cu.bind(null,e,Kl,Gl),r);break}Cu(e,Kl,Gl);break;default:throw Error(s(329))}}}return lu(e,Xe()),e.callbackNode===n?uu.bind(null,e):null}function cu(e,t){var n=Hl;return e.current.memoizedState.isDehydrated&&(yu(e,t).flags|=256),2!==(e=_u(e,t))&&(t=Kl,Kl=n,null!==t&&hu(t)),e}function hu(e){null===Kl?Kl=e:Kl.push.apply(Kl,e)}function fu(e,t){for(t&=~ql,t&=~Bl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function du(e){if(0!==(6&Rl))throw Error(s(327));Tu();var t=dt(e,0);if(0===(1&t))return lu(e,Xe()),null;var n=_u(e,t);if(0!==e.tag&&2===n){var r=mt(e);0!==r&&(t=r,n=cu(e,r))}if(1===n)throw n=Vl,yu(e,0),fu(e,t),lu(e,Xe()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cu(e,Kl,Gl),lu(e,Xe()),null}function pu(e,t){var n=Rl;Rl|=1;try{return e(t)}finally{0===(Rl=n)&&(Wl=Xe()+500,qi&&Qi())}}function mu(e){null!==Zl&&0===Zl.tag&&0===(6&Rl)&&Tu();var t=Rl;Rl|=1;var n=Ml.transition,r=Et;try{if(Ml.transition=null,Et=1,e)return e()}finally{Et=r,Ml.transition=n,0===(6&(Rl=t))&&Qi()}}function gu(){jl=Fl.current,Ii(Fl)}function yu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,li(n)),null!==Ll)for(n=Ll.return;null!==n;){var r=n;switch(ss(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&ji();break;case 3:to(),Ii(Ri),Ii(Mi),ao();break;case 5:ro(r);break;case 4:to();break;case 13:case 19:Ii(io);break;case 10:Ms(r.type._context);break;case 22:case 23:gu()}n=n.return}if(Pl=e,Ll=e=Fu(e.current,null),Ol=jl=t,zl=0,Vl=null,ql=Bl=Ul=0,Kl=Hl=null,null!==Os){for(t=0;t<Os.length;t++)if(null!==(r=(n=Os[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}Os=null}return e}function vu(e,t){for(;;){var n=Ll;try{if(Ds(),lo.current=ra,mo){for(var r=ho.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}mo=!1}if(co=0,po=fo=ho=null,go=!1,yo=0,Dl.current=null,null===n||null===n.return){zl=1,Vl=t,Ll=null;break}e:{var o=e,a=n.return,l=n,u=t;if(t=Ol,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,h=l,f=h.tag;if(0===(1&h.mode)&&(0===f||11===f||15===f)){var d=h.alternate;d?(h.updateQueue=d.updateQueue,h.memoizedState=d.memoizedState,h.lanes=d.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=_a(a);if(null!==p){p.flags&=-257,Ea(p,a,l,0,t),1&p.mode&&ba(o,c,t),u=c;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){ba(o,c,t),bu();break e}u=Error(s(426))}else if(ls&&1&l.mode){var y=_a(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),Ea(y,a,l,0,t),vs(pa(u,l));break e}}o=u=pa(u,l),4!==zl&&(zl=2),null===Hl?Hl=[o]:Hl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Qs(o,va(0,u,t));break e;case 1:l=u;var v=o.type,w=o.stateNode;if(0===(128&o.flags)&&("function"===typeof v.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===$l||!$l.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t,Qs(o,wa(o,l,t));break e}}o=o.return}while(null!==o)}ku(n)}catch(bt){t=bt,Ll===n&&null!==n&&(Ll=n=n.return);continue}break}}function wu(){var e=Al.current;return Al.current=ra,null===e?ra:e}function bu(){0!==zl&&3!==zl&&2!==zl||(zl=4),null===Pl||0===(268435455&Ul)&&0===(268435455&Bl)||fu(Pl,Ol)}function _u(e,t){var n=Rl;Rl|=2;var r=wu();for(Pl===e&&Ol===t||(Gl=null,yu(e,t));;)try{Eu();break}catch(i){vu(e,i)}if(Ds(),Rl=n,Al.current=r,null!==Ll)throw Error(s(261));return Pl=null,Ol=0,zl}function Eu(){for(;null!==Ll;)Su(Ll)}function xu(){for(;null!==Ll&&!Ge();)Su(Ll)}function Su(e){var t=Nl(e.alternate,e,jl);e.memoizedProps=e.pendingProps,null===t?ku(e):Ll=t,Dl.current=null}function ku(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ja(n,t,jl)))return void(Ll=n)}else{if(null!==(n=Za(n,t)))return n.flags&=32767,void(Ll=n);if(null===e)return zl=6,void(Ll=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ll=t);Ll=t=e}while(null!==t);0===zl&&(zl=5)}function Cu(e,t,n){var r=Et,i=Ml.transition;try{Ml.transition=null,Et=1,function(e,t,n,r){do{Tu()}while(null!==Zl);if(0!==(6&Rl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Pl&&(Ll=Pl=null,Ol=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Jl||(Jl=!0,Pu(et,function(){return Tu(),null})),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Ml.transition,Ml.transition=null;var a=Et;Et=1;var l=Rl;Rl|=4,Dl.current=null,function(e,t){if(ii=Wt,yr(e=gr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(Hn){n=null;break e}var a=0,l=-1,u=-1,c=0,h=0,f=e,d=null;t:for(;;){for(var p;f!==n||0!==i&&3!==f.nodeType||(l=a+i),f!==o||0!==r&&3!==f.nodeType||(u=a+r),3===f.nodeType&&(a+=f.nodeValue.length),null!==(p=f.firstChild);)d=f,f=p;for(;;){if(f===e)break t;if(d===n&&++c===i&&(l=a),d===o&&++h===r&&(u=a),null!==(p=f.nextSibling))break;d=(f=d).parentNode}f=p}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(si={focusedElem:e,selectionRange:n},Wt=!1,rl=t;null!==rl;)if(e=(t=rl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,rl=e;else for(;null!==rl;){t=rl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,w=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:aa(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(Hn){Iu(t,t.return,Hn)}if(null!==(e=t.sibling)){e.return=t.return,rl=e;break}rl=t.return}m=ol,ol=!1}(e,n),_l(n,e),vr(si),Wt=!!ii,si=ii=null,e.current=n,xl(n,e,i),Ye(),Rl=l,Et=a,Ml.transition=o}else e.current=n;if(Jl&&(Jl=!1,Zl=e,eu=i),o=e.pendingLanes,0===o&&($l=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),lu(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Yl)throw Yl=!1,e=Xl,Xl=null,e;0!==(1&eu)&&0!==e.tag&&Tu(),o=e.pendingLanes,0!==(1&o)?e===nu?tu++:(tu=0,nu=e):tu=0,Qi()}(e,t,n,r)}finally{Ml.transition=i,Et=r}return null}function Tu(){if(null!==Zl){var e=xt(eu),t=Ml.transition,n=Et;try{if(Ml.transition=null,Et=16>e?16:e,null===Zl)var r=!1;else{if(e=Zl,Zl=null,eu=0,0!==(6&Rl))throw Error(s(331));var i=Rl;for(Rl|=4,rl=e.current;null!==rl;){var o=rl,a=o.child;if(0!==(16&rl.flags)){var l=o.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(rl=c;null!==rl;){var h=rl;switch(h.tag){case 0:case 11:case 15:al(8,h,o)}var f=h.child;if(null!==f)f.return=h,rl=f;else for(;null!==rl;){var d=(h=rl).sibling,p=h.return;if(cl(h),h===c){rl=null;break}if(null!==d){d.return=p,rl=d;break}rl=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}rl=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,rl=a;else e:for(;null!==rl;){if(0!==(2048&(o=rl).flags))switch(o.tag){case 0:case 11:case 15:al(9,o,o.return)}var v=o.sibling;if(null!==v){v.return=o.return,rl=v;break e}rl=o.return}}var w=e.current;for(rl=w;null!==rl;){var b=(a=rl).child;if(0!==(2064&a.subtreeFlags)&&null!==b)b.return=a,rl=b;else e:for(a=w;null!==rl;){if(0!==(2048&(l=rl).flags))try{switch(l.tag){case 0:case 11:case 15:ll(9,l)}}catch(bt){Iu(l,l.return,bt)}if(l===a){rl=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,rl=_;break e}rl=l.return}}if(Rl=i,Qi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(bt){}r=!0}return r}finally{Et=n,Ml.transition=t}}return!1}function Nu(e,t,n){e=Hs(e,t=va(0,t=pa(n,t),1),1),t=su(),null!==e&&(wt(e,1,t),lu(e,t))}function Iu(e,t,n){if(3===e.tag)Nu(e,e,n);else for(;null!==t;){if(3===t.tag){Nu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===$l||!$l.has(r))){t=Hs(t,e=wa(t,e=pa(n,e),1),1),e=su(),null!==t&&(wt(t,1,e),lu(t,e));break}}t=t.return}}function Au(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=su(),e.pingedLanes|=e.suspendedLanes&n,Pl===e&&(Ol&n)===n&&(4===zl||3===zl&&(130023424&Ol)===Ol&&500>Xe()-Ql?yu(e,0):ql|=n),lu(e,t)}function Du(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ht,0===(130023424&(ht<<=1))&&(ht=4194304)));var n=su();null!==(e=zs(e,t))&&(wt(e,t,n),lu(e,n))}function Mu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Du(e,n)}function Ru(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Du(e,n)}function Pu(e,t){return Qe(e,t)}function Lu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ou(e,t,n,r){return new Lu(e,t,n,r)}function ju(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fu(e,t){var n=e.alternate;return null===n?((n=Ou(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zu(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)ju(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case x:return Vu(n.children,i,o,t);case S:a=8,i|=8;break;case k:return(e=Ou(12,n,t,2|i)).elementType=k,e.lanes=o,e;case I:return(e=Ou(13,n,t,i)).elementType=I,e.lanes=o,e;case A:return(e=Ou(19,n,t,i)).elementType=A,e.lanes=o,e;case R:return Uu(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:a=10;break e;case T:a=9;break e;case N:a=11;break e;case D:a=14;break e;case M:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Ou(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Vu(e,t,n,r){return(e=Ou(7,e,r,t)).lanes=n,e}function Uu(e,t,n,r){return(e=Ou(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Bu(e,t,n){return(e=Ou(6,e,null,t)).lanes=n,e}function qu(e,t,n){return(t=Ou(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Hu(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vt(0),this.expirationTimes=vt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ku(e,t,n,r,i,s,o,a,l){return e=new Hu(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Ou(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Us(s),e}function Qu(e){if(!e)return Di;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Oi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Oi(n))return zi(e,n,t)}return t}function Wu(e,t,n,r,i,s,o,a,l){return(e=Ku(n,r,!0,e,0,s,0,a,l)).context=Qu(null),n=e.current,(s=qs(r=su(),i=ou(n))).callback=void 0!==t&&null!==t?t:null,Hs(n,s,i),e.current.lanes=i,wt(e,i,r),lu(e,r),e}function Gu(e,t,n,r){var i=t.current,s=su(),o=ou(i);return n=Qu(n),null===t.context?t.context=n:t.pendingContext=n,(t=qs(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Hs(i,t,o))&&(au(e,i,o,s),Ks(e,i,o)),o}function Yu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Xu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function $u(e,t){Xu(e,t),(e=e.alternate)&&Xu(e,t)}Nl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ri.current)Sa=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return Sa=!1,function(e,t,n){switch(t.tag){case 3:Pa(t),ys();break;case 5:no(t);break;case 1:Oi(t.type)&&Vi(t);break;case 4:eo(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ai(Ts,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ai(io,1&io.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ba(e,t,n):(Ai(io,1&io.current),null!==(e=Ya(e,t,n))?e.sibling:null);Ai(io,1&io.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ai(io,io.current),r)break;return null;case 22:case 23:return t.lanes=0,Ia(e,t,n)}return Ya(e,t,n)}(e,t,n);Sa=0!==(131072&e.flags)}else Sa=!1,ls&&0!==(1048576&t.flags)&&rs(t,Xi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ga(e,t),e=t.pendingProps;var i=Li(t,Mi.current);Ps(t,n),i=_o(null,t,r,e,i,n);var o=Eo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Oi(r)?(o=!0,Vi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Us(t),i.updater=ua,t.stateNode=i,i._reactInternals=t,da(t,r,e,n),t=Ra(null,t,r,!0,o,n)):(t.tag=0,ls&&o&&is(t),ka(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ga(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return ju(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===D)return 14}return 2}(r),e=aa(r,e),i){case 0:t=Da(null,t,r,e,n);break e;case 1:t=Ma(null,t,r,e,n);break e;case 11:t=Ca(null,t,r,e,n);break e;case 14:t=Ta(null,t,r,aa(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Da(e,t,r,i=t.elementType===r?i:aa(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ma(e,t,r,i=t.elementType===r?i:aa(r,i),n);case 3:e:{if(Pa(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Bs(e,t),Ws(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=La(e,t,r,n,i=pa(Error(s(423)),t));break e}if(r!==i){t=La(e,t,r,n,i=pa(Error(s(424)),t));break e}for(as=di(t.stateNode.containerInfo.firstChild),os=t,ls=!0,us=null,n=Cs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ys(),r===i){t=Ya(e,t,n);break e}ka(e,t,r,n)}t=t.child}return t;case 5:return no(t),null===e&&ds(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,oi(r,i)?a=null:null!==o&&oi(r,o)&&(t.flags|=32),Aa(e,t),ka(e,t,a,n),t.child;case 6:return null===e&&ds(t),null;case 13:return Ba(e,t,n);case 4:return eo(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ks(t,null,r,n):ka(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ca(e,t,r,i=t.elementType===r?i:aa(r,i),n);case 7:return ka(e,t,t.pendingProps,n),t.child;case 8:case 12:return ka(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,Ai(Ts,r._currentValue),r._currentValue=a,null!==o)if(hr(o.value,a)){if(o.children===i.children&&!Ri.current){t=Ya(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===o.tag){(u=qs(-1,n&-n)).tag=2;var c=o.updateQueue;if(null!==c){var h=(c=c.shared).pending;null===h?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}o.lanes|=n,null!==(u=o.alternate)&&(u.lanes|=n),Rs(o.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Rs(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}ka(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ps(t,n),r=r(i=Ls(i)),t.flags|=1,ka(e,t,r,n),t.child;case 14:return i=aa(r=t.type,t.pendingProps),Ta(e,t,r,i=aa(r.type,i),n);case 15:return Na(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:aa(r,i),Ga(e,t),t.tag=1,Oi(r)?(e=!0,Vi(t)):e=!1,Ps(t,n),ha(t,r,i),da(t,r,i,n),Ra(null,t,r,!0,e,n);case 19:return Wa(e,t,n);case 22:return Ia(e,t,n)}throw Error(s(156,t.tag))};var Ju="function"===typeof reportError?reportError:function(e){console.error(e)};function Zu(e){this._internalRoot=e}function ec(e){this._internalRoot=e}function tc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function nc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function rc(){}function ic(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Yu(o);a.call(e)}}Gu(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Yu(o);s.call(e)}}var o=Wu(t,r,e,0,null,!1,0,"",rc);return e._reactRootContainer=o,e[vi]=o.current,Qr(8===e.nodeType?e.parentNode:e),mu(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Yu(l);a.call(e)}}var l=Ku(e,0,!1,null,0,!1,0,"",rc);return e._reactRootContainer=l,e[vi]=l.current,Qr(8===e.nodeType?e.parentNode:e),mu(function(){Gu(t,l,n,r)}),l}(n,t,e,i,r);return Yu(o)}ec.prototype.render=Zu.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Gu(e,t,null,null)},ec.prototype.unmount=Zu.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;mu(function(){Gu(null,e,null,null)}),t[vi]=null}},ec.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Vt(e)}},St=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(_t(t,1|n),lu(t,Xe()),0===(6&Rl)&&(Wl=Xe()+500,Qi()))}break;case 13:mu(function(){var t=zs(e,1);if(null!==t){var n=su();au(t,e,1,n)}}),$u(e,1)}},kt=function(e){if(13===e.tag){var t=zs(e,134217728);if(null!==t)au(t,e,134217728,su());$u(e,134217728)}},Ct=function(e){if(13===e.tag){var t=ou(e),n=zs(e,t);if(null!==n)au(n,e,t,su());$u(e,t)}},Tt=function(){return Et},Nt=function(e,t){var n=Et;try{return Et=e,t()}finally{Et=n}},_e=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ki(r);if(!i)throw Error(s(90));W(r),J(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=pu,Ne=mu;var sc={usingClientEntryPoint:!1,Events:[xi,Si,ki,ke,Ce,pu]},oc={findFiberByHostInstance:Ei,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ac={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{it=lc.inject(ac),st=lc}catch(uc){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!tc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!tc(e))throw Error(s(299));var n=!1,r="",i=Ju;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Ku(e,1,!1,null,0,n,0,r,i),e[vi]=t.current,Qr(8===e.nodeType?e.parentNode:e),new Zu(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return mu(e)},t.hydrate=function(e,t,n){if(!nc(t))throw Error(s(200));return ic(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!tc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Ju;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=Wu(t,null,e,1,null!=n?n:null,i,0,o,a),e[vi]=t.current,Qr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new ec(t)},t.render=function(e,t,n){if(!nc(t))throw Error(s(200));return ic(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!nc(e))throw Error(s(40));return!!e._reactRootContainer&&(mu(function(){ic(null,null,e,!1,function(){e._reactRootContainer=null,e[vi]=null})}),!0)},t.unstable_batchedUpdates=pu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!nc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return ic(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{e.exports=n(234)},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}();var r=n(43),i=n(391);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function o(e){var t=function(e,t){if("object"!=s(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=s(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==s(t)?t:t+""}function a(e,t,n){return(t=o(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){a(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const h=["color","size","strokeWidth","absoluteStrokeWidth","children"],f=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();var d=(e,t)=>{const n=(0,r.forwardRef)((n,i)=>{let{color:s="currentColor",size:o=24,strokeWidth:a=2,absoluteStrokeWidth:l,children:d}=n,p=function(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(n,h);return(0,r.createElement)("svg",u(u({ref:i},c),{},{width:o,height:o,stroke:s,strokeWidth:l?24*Number(a)/Number(o):a,className:"lucide lucide-".concat(f(e))},p),[...t.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...(Array.isArray(d)?d:[d])||[]])});return n.displayName="".concat(e),n};const p=d("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),m=d("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),g=d("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),y=d("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),v=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},w={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,u=t>>2,c=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,f=63&l;a||(f=64,s||(h=64)),r.push(n[u],n[c],n[h],n[f])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(v(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new b;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class b extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _=function(e){return function(e){const t=v(e);return w.encodeByteArray(t,!0)}(e).replace(/\./g,"")},E=function(e){try{return w.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};const x=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,S=()=>{try{return x()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://scammerdetectionnetwork.netlify.app/.netlify/functions",REACT_APP_FIREBASE_API_KEY:"AIzaSyDoTztz2TVK_s1Jm1m4x8U6GtLqWnce2kE",REACT_APP_FIREBASE_AUTH_DOMAIN:"scammerdetection.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"scammerdetection",REACT_APP_FIREBASE_STORAGE_BUCKET:"scammerdetection.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"747621991332",REACT_APP_FIREBASE_APP_ID:"1:747621991332:web:9d0dc613f839503c447731",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-Z5GKXFDL78"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&E(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},k=e=>{const t=(e=>{var t,n;return null===(n=null===(t=S())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]})(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},C=()=>{var e;return null===(e=S())||void 0===e?void 0:e.config};class T{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function N(){try{return"object"===typeof indexedDB}catch(e){return!1}}class I extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,I.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A.prototype.create)}}class A{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(D,(e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")})}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new I(n,s,t)}}const D=/\{\$([^}]+)}/g;function M(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(R(n)&&R(s)){if(!M(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function R(e){return null!==e&&"object"===typeof e}function P(e){return e&&e._delegate?e._delegate:e}class L{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const O="[DEFAULT]";class j{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new T;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:O})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===O?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O;return this.component?this.component.multipleInstances?e:O:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class F{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new j(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const z=[];var V;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(V||(V={}));const U={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},B=V.INFO,q={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},H=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=q[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class K{constructor(e){this.name=e,this._logLevel=B,this._logHandler=H,this._userLogHandler=null,z.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in V))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?U[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...t),this._logHandler(this,V.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...t),this._logHandler(this,V.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,V.INFO,...t),this._logHandler(this,V.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,V.WARN,...t),this._logHandler(this,V.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,V.ERROR,...t),this._logHandler(this,V.ERROR,...t)}}let Q,W;const G=new WeakMap,Y=new WeakMap,X=new WeakMap,$=new WeakMap,J=new WeakMap;let Z={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Y.get(e);if("objectStoreNames"===t)return e.objectStoreNames||X.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ne(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function ee(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(W||(W=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(re(this),n),ne(G.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ne(e.apply(re(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(re(this),t,...r);return X.set(s,t.sort?t.sort():[t]),ne(s)}}function te(e){return"function"===typeof e?ee(e):(e instanceof IDBTransaction&&function(e){if(Y.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)});Y.set(e,t)}(e),t=e,(Q||(Q=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>t instanceof e)?new Proxy(e,Z):e);var t}function ne(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(ne(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)});return t.then(t=>{t instanceof IDBCursor&&G.set(t,e)}).catch(()=>{}),J.set(t,e),t}(e);if($.has(e))return $.get(e);const t=te(e);return t!==e&&($.set(e,t),J.set(t,e)),t}const re=e=>J.get(e);const ie=["get","getKey","getAll","getAllKeys","count"],se=["put","add","delete","clear"],oe=new Map;function ae(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(oe.get(t))return oe.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=se.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ie.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return oe.set(t,s),s}Z=(e=>u(u({},e),{},{get:(t,n,r)=>ae(t,n)||e.get(t,n,r),has:(t,n)=>!!ae(t,n)||e.has(t,n)}))(Z);class le{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null}).filter(e=>e).join(" ")}}const ue="@firebase/app",ce="0.9.13",he=new K("@firebase/app"),fe="@firebase/app-compat",de="@firebase/analytics-compat",pe="@firebase/analytics",me="@firebase/app-check-compat",ge="@firebase/app-check",ye="@firebase/auth",ve="@firebase/auth-compat",we="@firebase/database",be="@firebase/database-compat",_e="@firebase/functions",Ee="@firebase/functions-compat",xe="@firebase/installations",Se="@firebase/installations-compat",ke="@firebase/messaging",Ce="@firebase/messaging-compat",Te="@firebase/performance",Ne="@firebase/performance-compat",Ie="@firebase/remote-config",Ae="@firebase/remote-config-compat",De="@firebase/storage",Me="@firebase/storage-compat",Re="@firebase/firestore",Pe="@firebase/firestore-compat",Le="firebase",Oe="[DEFAULT]",je={[ue]:"fire-core",[fe]:"fire-core-compat",[pe]:"fire-analytics",[de]:"fire-analytics-compat",[ge]:"fire-app-check",[me]:"fire-app-check-compat",[ye]:"fire-auth",[ve]:"fire-auth-compat",[we]:"fire-rtdb",[be]:"fire-rtdb-compat",[_e]:"fire-fn",[Ee]:"fire-fn-compat",[xe]:"fire-iid",[Se]:"fire-iid-compat",[ke]:"fire-fcm",[Ce]:"fire-fcm-compat",[Te]:"fire-perf",[Ne]:"fire-perf-compat",[Ie]:"fire-rc",[Ae]:"fire-rc-compat",[De]:"fire-gcs",[Me]:"fire-gcs-compat",[Re]:"fire-fst",[Pe]:"fire-fst-compat","fire-js":"fire-js",[Le]:"fire-js-all"},Fe=new Map,ze=new Map;function Ve(e,t){try{e.container.addComponent(t)}catch(n){he.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ue(e){const t=e.name;if(ze.has(t))return he.debug("There were multiple attempts to register component ".concat(t,".")),!1;ze.set(t,e);for(const n of Fe.values())Ve(n,e);return!0}function Be(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const qe=new A("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class He{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new L("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw qe.create("app-deleted",{appName:this._name})}}function Ke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Oe,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw qe.create("bad-app-name",{appName:String(i)});if(n||(n=C()),!n)throw qe.create("no-options");const s=Fe.get(i);if(s){if(M(n,s.options)&&M(r,s.config))return s;throw qe.create("duplicate-app",{appName:i})}const o=new F(i);for(const l of ze.values())o.addComponent(l);const a=new He(n,r,o);return Fe.set(i,a),a}function Qe(e,t,n){var r;let i=null!==(r=je[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void he.warn(e.join(" "))}Ue(new L("".concat(i,"-version"),()=>({library:i,version:t}),"VERSION"))}const We="firebase-heartbeat-store";let Ge=null;function Ye(){return Ge||(Ge=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=ne(o);return r&&o.addEventListener("upgradeneeded",e=>{r(ne(o.result),e.oldVersion,e.newVersion,ne(o.transaction),e)}),n&&o.addEventListener("blocked",e=>n(e.oldVersion,e.newVersion,e)),a.then(e=>{s&&e.addEventListener("close",()=>s()),i&&e.addEventListener("versionchange",e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),a}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(We)}}).catch(e=>{throw qe.create("idb-open",{originalErrorMessage:e.message})})),Ge}async function Xe(e,t){try{const n=(await Ye()).transaction(We,"readwrite"),r=n.objectStore(We);await r.put(t,$e(e)),await n.done}catch(n){if(n instanceof I)he.warn(n.message);else{const e=qe.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});he.warn(e.message)}}}function $e(e){return"".concat(e.name,"!").concat(e.options.appId)}class Je{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new et(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=Ze();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some(e=>e.date===t))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=Ze(),{heartbeatsToSend:t,unsentEntries:n}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),tt(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),tt(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=_(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Ze(){return(new Date).toISOString().substring(0,10)}class et{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!N()&&new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}).then(()=>!0).catch(()=>!1)}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=await Ye();return await t.transaction(We).objectStore(We).get($e(e))}catch(t){if(t instanceof I)he.warn(t.message);else{const e=qe.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});he.warn(e.message)}}}(this.app);return e||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Xe(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Xe(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function tt(e){return _(JSON.stringify({version:2,heartbeats:e})).length}var nt;nt="",Ue(new L("platform-logger",e=>new le(e),"PRIVATE")),Ue(new L("heartbeat",e=>new Je(e),"PRIVATE")),Qe(ue,ce,nt),Qe(ue,ce,"esm2017"),Qe("fire-js","");Qe("firebase","9.23.0","app");var rt,it="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},st={},ot=ot||{},at=it||self;function lt(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function ut(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var ct="closure_uid_"+(1e9*Math.random()>>>0),ht=0;function ft(e,t,n){return e.call.apply(e.bind,arguments)}function dt(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function pt(e,t,n){return(pt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ft:dt).apply(null,arguments)}function mt(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function gt(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function yt(){this.s=this.s,this.o=this.o}yt.prototype.s=!1,yt.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function(e){Object.prototype.hasOwnProperty.call(e,ct)&&e[ct]||(e[ct]=++ht)}(this)},yt.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const vt=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function wt(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function bt(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(lt(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function _t(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}_t.prototype.h=function(){this.defaultPrevented=!0};var Et=function(){if(!at.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{at.addEventListener("test",()=>{},t),at.removeEventListener("test",()=>{},t)}catch(n){}return e}();function xt(e){return/^[\s\xa0]*$/.test(e)}function St(){var e=at.navigator;return e&&(e=e.userAgent)?e:""}function kt(e){return-1!=St().indexOf(e)}function Ct(e){return Ct[" "](e),e}Ct[" "]=function(){};var Tt,Nt,It=kt("Opera"),At=kt("Trident")||kt("MSIE"),Dt=kt("Edge"),Mt=Dt||At,Rt=kt("Gecko")&&!(-1!=St().toLowerCase().indexOf("webkit")&&!kt("Edge"))&&!(kt("Trident")||kt("MSIE"))&&!kt("Edge"),Pt=-1!=St().toLowerCase().indexOf("webkit")&&!kt("Edge");function Lt(){var e=at.document;return e?e.documentMode:void 0}e:{var Ot="",jt=function(){var e=St();return Rt?/rv:([^\);]+)(\)|;)/.exec(e):Dt?/Edge\/([\d\.]+)/.exec(e):At?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Pt?/WebKit\/(\S+)/.exec(e):It?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(jt&&(Ot=jt?jt[1]:""),At){var Ft=Lt();if(null!=Ft&&Ft>parseFloat(Ot)){Tt=String(Ft);break e}}Tt=Ot}if(at.document&&At){var zt=Lt();Nt=zt||(parseInt(Tt,10)||void 0)}else Nt=void 0;var Vt=Nt;function Ut(e,t){if(_t.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Rt){e:{try{Ct(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Bt[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ut.$.h.call(this)}}gt(Ut,_t);var Bt={2:"touch",3:"pen",4:"mouse"};Ut.prototype.h=function(){Ut.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var qt="closure_listenable_"+(1e6*Math.random()|0),Ht=0;function Kt(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++Ht,this.fa=this.ia=!1}function Qt(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Wt(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Gt(e){const t={};for(const n in e)t[n]=e[n];return t}const Yt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Xt(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Yt.length;t++)n=Yt[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function $t(e){this.src=e,this.g={},this.h=0}function Jt(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=vt(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Qt(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Zt(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}$t.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Zt(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new Kt(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var en="closure_lm_"+(1e6*Math.random()|0),tn={};function nn(e,t,n,r,i){if(r&&r.once)return sn(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)nn(e,t[s],n,r,i);return null}return n=fn(n),e&&e[qt]?e.O(t,n,ut(r)?!!r.capture:!!r,i):rn(e,t,n,!1,r,i)}function rn(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=ut(i)?!!i.capture:!!i,a=cn(e);if(a||(e[en]=a=new $t(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=un;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Et||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(ln(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function sn(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)sn(e,t[s],n,r,i);return null}return n=fn(n),e&&e[qt]?e.P(t,n,ut(r)?!!r.capture:!!r,i):rn(e,t,n,!0,r,i)}function on(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)on(e,t[s],n,r,i);else r=ut(r)?!!r.capture:!!r,n=fn(n),e&&e[qt]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Zt(s=e.g[t],n,r,i))&&(Qt(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=cn(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Zt(t,n,r,i)),(n=-1<e?t[e]:null)&&an(n))}function an(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[qt])Jt(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(ln(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=cn(t))?(Jt(n,e),0==n.h&&(n.src=null,t[en]=null)):Qt(e)}}}function ln(e){return e in tn?tn[e]:tn[e]="on"+e}function un(e,t){if(e.fa)e=!0;else{t=new Ut(t,this);var n=e.listener,r=e.la||e.src;e.ia&&an(e),e=n.call(r,t)}return e}function cn(e){return(e=e[en])instanceof $t?e:null}var hn="__closure_events_fn_"+(1e9*Math.random()>>>0);function fn(e){return"function"===typeof e?e:(e[hn]||(e[hn]=function(t){return e.handleEvent(t)}),e[hn])}function dn(){yt.call(this),this.i=new $t(this),this.S=this,this.J=null}function pn(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new _t(t,e);else if(t instanceof _t)t.target=t.target||e;else{var i=t;Xt(t=new _t(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=mn(o,r,!0,t)&&i}if(i=mn(o=t.g=e,r,!0,t)&&i,i=mn(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=mn(o=t.g=n[s],r,!1,t)&&i}function mn(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Jt(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}gt(dn,yt),dn.prototype[qt]=!0,dn.prototype.removeEventListener=function(e,t,n,r){on(this,e,t,n,r)},dn.prototype.N=function(){if(dn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Qt(n[r]);delete t.g[e],t.h--}}this.J=null},dn.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},dn.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var gn=at.JSON.stringify;function yn(){var e=Sn;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var vn=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new wn,e=>e.reset());class wn{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function bn(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function _n(e){at.setTimeout(()=>{throw e},0)}let En,xn=!1,Sn=new class{constructor(){this.h=this.g=null}add(e,t){const n=vn.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},kn=()=>{const e=at.Promise.resolve(void 0);En=()=>{e.then(Cn)}};var Cn=()=>{for(var e;e=yn();){try{e.h.call(e.g)}catch(n){_n(n)}var t=vn;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}xn=!1};function Tn(e,t){dn.call(this),this.h=e||1,this.g=t||at,this.j=pt(this.qb,this),this.l=Date.now()}function Nn(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function In(e,t,n){if("function"===typeof e)n&&(e=pt(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=pt(e.handleEvent,e)}return 2147483647<Number(t)?-1:at.setTimeout(e,t||0)}function An(e){e.g=In(()=>{e.g=null,e.i&&(e.i=!1,An(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}gt(Tn,dn),(rt=Tn.prototype).ga=!1,rt.T=null,rt.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),pn(this,"tick"),this.ga&&(Nn(this),this.start()))}},rt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rt.N=function(){Tn.$.N.call(this),Nn(this),delete this.g};class Dn extends yt{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:An(this)}N(){super.N(),this.g&&(at.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Mn(e){yt.call(this),this.h=e,this.g={}}gt(Mn,yt);var Rn=[];function Pn(e,t,n,r){Array.isArray(n)||(n&&(Rn[0]=n.toString()),n=Rn);for(var i=0;i<n.length;i++){var s=nn(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Ln(e){Wt(e.g,function(e,t){this.g.hasOwnProperty(t)&&an(e)},e),e.g={}}function On(){this.g=!0}function jn(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return gn(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}Mn.prototype.N=function(){Mn.$.N.call(this),Ln(this)},Mn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},On.prototype.Ea=function(){this.g=!1},On.prototype.info=function(){};var Fn={},zn=null;function Vn(){return zn=zn||new dn}function Un(e){_t.call(this,Fn.Ta,e)}function Bn(e){const t=Vn();pn(t,new Un(t))}function qn(e,t){_t.call(this,Fn.STAT_EVENT,e),this.stat=t}function Hn(e){const t=Vn();pn(t,new qn(t,e))}function Kn(e,t){_t.call(this,Fn.Ua,e),this.size=t}function Qn(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return at.setTimeout(function(){e()},t)}Fn.Ta="serverreachability",gt(Un,_t),Fn.STAT_EVENT="statevent",gt(qn,_t),Fn.Ua="timingevent",gt(Kn,_t);var Wn={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Gn={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Yn(){}function Xn(e){return e.h||(e.h=e.i())}function $n(){}Yn.prototype.h=null;var Jn,Zn={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function er(){_t.call(this,"d")}function tr(){_t.call(this,"c")}function nr(){}function rr(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Mn(this),this.P=sr,e=Mt?125:void 0,this.V=new Tn(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new ir}function ir(){this.i=null,this.g="",this.h=!1}gt(er,_t),gt(tr,_t),gt(nr,Yn),nr.prototype.g=function(){return new XMLHttpRequest},nr.prototype.i=function(){return{}},Jn=new nr;var sr=45e3,or={},ar={};function lr(e,t,n){e.L=1,e.v=Tr(Er(t)),e.s=n,e.S=!0,ur(e,null)}function ur(e,t){e.G=Date.now(),dr(e),e.A=Er(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),Vr(n.i,"t",r),e.C=0,n=e.l.J,e.h=new ir,e.g=Vi(e.l,n?t:null,!e.s),0<e.O&&(e.M=new Dn(pt(e.Pa,e,e.g),e.O)),Pn(e.U,e.g,"readystatechange",e.nb),t=e.I?Gt(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),Bn(),function(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o})}(e.j,e.u,e.A,e.m,e.W,e.s)}function cr(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function hr(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=fr(e,n),r==ar){4==t&&(e.o=4,Hn(14),i=!1),jn(e.j,e.m,null,"[Incomplete Response]");break}if(r==or){e.o=4,Hn(15),jn(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}jn(e.j,e.m,r,null),vr(e,r)}cr(e)&&r!=ar&&r!=or&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Hn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Mi(t),t.M=!0,Hn(11))):(jn(e.j,e.m,n,"[Invalid Chunked Response]"),yr(e),gr(e))}function fr(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ar:(n=Number(t.substring(n,r)),isNaN(n)?or:(r+=1)+n>t.length?ar:(t=t.slice(r,r+n),e.C=r+n,t))}function dr(e){e.Y=Date.now()+e.P,pr(e,e.P)}function pr(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Qn(pt(e.lb,e),t)}function mr(e){e.B&&(at.clearTimeout(e.B),e.B=null)}function gr(e){0==e.l.H||e.J||Li(e.l,e)}function yr(e){mr(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Nn(e.V),Ln(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function vr(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Wr(n.i,e)))if(!e.K&&Wr(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(Cy){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Pi(n),Si(n)}Di(n),Hn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Qn(pt(n.ib,n),6e3));if(1>=Qr(n.i)&&n.oa){try{n.oa()}catch(Cy){}n.oa=void 0}}else ji(n,11)}else if((e.K||n.g==e)&&Pi(n),!xt(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.K=u[1],n.pa=u[2];const t=u[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=u[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"===typeof c&&0<c&&(r=1.5*c,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(Gr(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Cr(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=zi(r,r.J?r.pa:null,r.Y),o.K){Yr(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(mr(a),dr(a)),r.g=o}else Ai(r);0<n.j.length&&Ci(n)}else"stop"!=u[0]&&"close"!=u[0]||ji(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?ji(n,7):xi(n):"noop"!=u[0]&&n.h&&n.h.Aa(u),n.A=0)}Bn()}catch(Cy){}}function wr(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(lt(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(lt(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(lt(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(rt=rr.prototype).setTimeout=function(e){this.P=e},rt.nb=function(e){e=e.target;const t=this.M;t&&3==yi(e)?t.l():this.Pa(e)},rt.Pa=function(e){try{if(e==this.g)e:{const c=yi(this.g);var t=this.g.Ia();this.g.da();if(!(3>c)&&(3!=c||Mt||this.g&&(this.h.h||this.g.ja()||vi(this.g)))){this.J||4!=c||7==t||Bn(),mr(this);var n=this.g.da();this.ca=n;t:if(cr(this)){var r=vi(this.g);e="";var i=r.length,s=4==yi(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){yr(this),gr(this);var o="";break t}this.h.i=new at.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xt(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,Hn(12),yr(this),gr(this);break e}jn(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vr(this,n)}this.S?(hr(this,c,o),Mt&&this.i&&3==c&&(Pn(this.U,this.V,"tick",this.mb),this.V.start())):(jn(this.j,this.m,o,null),vr(this,o)),4==c&&yr(this),this.i&&!this.J&&(4==c?Li(this.l,this):(this.i=!1,dr(this)))}else(function(e){const t={};e=(e.g&&2<=yi(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(xt(e[r]))continue;var n=bn(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,function(e){return e.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Hn(12)):(this.o=0,Hn(13)),yr(this),gr(this)}}}catch(c){}},rt.mb=function(){if(this.g){var e=yi(this.g),t=this.g.ja();this.C<t.length&&(mr(this),hr(this,e,t),this.i&&4!=e&&dr(this))}},rt.cancel=function(){this.J=!0,yr(this)},rt.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.L&&(Bn(),Hn(17)),yr(this),this.o=2,gr(this)):pr(this,this.Y-e)};var br=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _r(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof _r){this.h=e.h,xr(this,e.j),this.s=e.s,this.g=e.g,Sr(this,e.m),this.l=e.l;var t=e.i,n=new Or;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),kr(this,n),this.o=e.o}else e&&(t=String(e).match(br))?(this.h=!1,xr(this,t[1]||"",!0),this.s=Nr(t[2]||""),this.g=Nr(t[3]||"",!0),Sr(this,t[4]),this.l=Nr(t[5]||"",!0),kr(this,t[6]||"",!0),this.o=Nr(t[7]||"")):(this.h=!1,this.i=new Or(null,this.h))}function Er(e){return new _r(e)}function xr(e,t,n){e.j=n?Nr(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Sr(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function kr(e,t,n){t instanceof Or?(e.i=t,function(e,t){t&&!e.j&&(jr(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Fr(this,t),Vr(this,n,e))},e)),e.j=t}(e.i,e.h)):(n||(t=Ir(t,Pr)),e.i=new Or(t,e.h))}function Cr(e,t,n){e.i.set(t,n)}function Tr(e){return Cr(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Nr(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Ir(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,Ar),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Ar(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}_r.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Ir(t,Dr,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Ir(t,Dr,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Ir(n,"/"==n.charAt(0)?Rr:Mr,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Ir(n,Lr)),e.join("")};var Dr=/[#\/\?@]/g,Mr=/[#\?:]/g,Rr=/[#\?]/g,Pr=/[#\?@]/g,Lr=/#/g;function Or(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function jr(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Fr(e,t){jr(e),t=Ur(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function zr(e,t){return jr(e),t=Ur(e,t),e.g.has(t)}function Vr(e,t,n){Fr(e,t),0<n.length&&(e.i=null,e.g.set(Ur(e,t),wt(n)),e.h+=n.length)}function Ur(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(rt=Or.prototype).add=function(e,t){jr(this),this.i=null,e=Ur(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},rt.forEach=function(e,t){jr(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)},rt.ta=function(){jr(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},rt.Z=function(e){jr(this);let t=[];if("string"===typeof e)zr(this,e)&&(t=t.concat(this.g.get(Ur(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},rt.set=function(e,t){return jr(this),this.i=null,zr(this,e=Ur(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},rt.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},rt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var Br=class{constructor(e,t){this.g=e,this.map=t}};function qr(e){this.l=e||Hr,at.PerformanceNavigationTiming?e=0<(e=at.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(at.g&&at.g.Ka&&at.g.Ka()&&at.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Hr=10;function Kr(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Qr(e){return e.h?1:e.g?e.g.size:0}function Wr(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Gr(e,t){e.g?e.g.add(t):e.h=t}function Yr(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Xr(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return wt(e.i)}qr.prototype.cancel=function(){if(this.i=Xr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var $r=class{stringify(e){return at.JSON.stringify(e,void 0)}parse(e){return at.JSON.parse(e,void 0)}};function Jr(){this.g=new $r}function Zr(e,t,n){const r=n||"";try{wr(e,function(e,n){let i=e;ut(e)&&(i=gn(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function ei(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function ti(e){this.l=e.fc||null,this.j=e.ob||!1}function ni(e,t){dn.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=ri,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}gt(ti,Yn),ti.prototype.g=function(){return new ni(this.l,this.j)},ti.prototype.i=function(e){return function(){return e}}({}),gt(ni,dn);var ri=0;function ii(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function si(e){e.readyState=4,e.l=null,e.j=null,e.A=null,oi(e)}function oi(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(rt=ni.prototype).open=function(e,t){if(this.readyState!=ri)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,oi(this)},rt.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||at).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},rt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,si(this)),this.readyState=ri},rt.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,oi(this)),this.g&&(this.readyState=3,oi(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof at.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ii(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},rt.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?si(this):oi(this),3==this.readyState&&ii(this)}},rt.Za=function(e){this.g&&(this.response=this.responseText=e,si(this))},rt.Ya=function(e){this.g&&(this.response=e,si(this))},rt.ka=function(){this.g&&si(this)},rt.setRequestHeader=function(e,t){this.v.append(e,t)},rt.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},rt.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(ni.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var ai=at.JSON.parse;function li(e){dn.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=ui,this.L=this.M=!1}gt(li,dn);var ui="",ci=/^https?$/i,hi=["POST","PUT"];function fi(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,di(e),mi(e)}function di(e){e.F||(e.F=!0,pn(e,"complete"),pn(e,"error"))}function pi(e){if(e.h&&"undefined"!=typeof ot&&(!e.C[1]||4!=yi(e)||2!=e.da()))if(e.v&&4==yi(e))In(e.La,0,e);else if(pn(e,"readystatechange"),4==yi(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(br)[1]||null;!i&&at.self&&at.self.location&&(i=at.self.location.protocol.slice(0,-1)),r=!ci.test(i?i.toLowerCase():"")}n=r}if(n)pn(e,"complete"),pn(e,"success");else{e.m=6;try{var s=2<yi(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",di(e)}}finally{mi(e)}}}function mi(e,t){if(e.g){gi(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||pn(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function gi(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(at.clearTimeout(e.A),e.A=null)}function yi(e){return e.g?e.g.readyState:0}function vi(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case ui:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(xs){return null}}function wi(e){let t="";return Wt(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}function bi(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=wi(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Cr(e,t,n))}function _i(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Ei(e){this.Ga=0,this.j=[],this.l=new On,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=_i("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=_i("baseRetryDelayMs",5e3,e),this.hb=_i("retryDelaySeedMs",1e4,e),this.eb=_i("forwardChannelMaxRetries",2,e),this.xa=_i("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new qr(e&&e.concurrentRequestLimit),this.Ja=new Jr,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function xi(e){if(ki(e),3==e.H){var t=e.W++,n=Er(e.I);if(Cr(n,"SID",e.K),Cr(n,"RID",t),Cr(n,"TYPE","terminate"),Ni(e,n),(t=new rr(e,e.l,t)).L=2,t.v=Tr(Er(n)),n=!1,at.navigator&&at.navigator.sendBeacon)try{n=at.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&at.Image&&((new Image).src=t.v,n=!0),n||(t.g=Vi(t.l,null),t.g.ha(t.v)),t.G=Date.now(),dr(t)}Fi(e)}function Si(e){e.g&&(Mi(e),e.g.cancel(),e.g=null)}function ki(e){Si(e),e.u&&(at.clearTimeout(e.u),e.u=null),Pi(e),e.i.cancel(),e.m&&("number"===typeof e.m&&at.clearTimeout(e.m),e.m=null)}function Ci(e){if(!Kr(e.i)&&!e.m){e.m=!0;var t=e.Na;En||kn(),xn||(En(),xn=!0),Sn.add(t,e),e.C=0}}function Ti(e,t){var n;n=t?t.m:e.W++;const r=Er(e.I);Cr(r,"SID",e.K),Cr(r,"RID",n),Cr(r,"AID",e.V),Ni(e,r),e.o&&e.s&&bi(r,e.o,e.s),n=new rr(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Ii(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),Gr(e.i,n),lr(n,r,t)}function Ni(e,t){e.na&&Wt(e.na,function(e,n){Cr(t,n,e)}),e.h&&wr({},function(e,n){Cr(t,n,e)})}function Ii(e,t,n){n=Math.min(e.j.length,n);var r=e.h?pt(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].g;const a=i[o].map;if(n-=t,0>n)t=Math.max(0,i[o].g-100),s=!1;else try{Zr(a,e,"req"+n+"_")}catch(Ps){r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Ai(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;En||kn(),xn||(En(),xn=!0),Sn.add(t,e),e.A=0}}function Di(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Qn(pt(e.Ma,e),Oi(e,e.A)),e.A++,!0)}function Mi(e){null!=e.B&&(at.clearTimeout(e.B),e.B=null)}function Ri(e){e.g=new rr(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Er(e.wa);Cr(t,"RID","rpc"),Cr(t,"SID",e.K),Cr(t,"AID",e.V),Cr(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Cr(t,"TO",e.qa),Cr(t,"TYPE","xmlhttp"),Ni(e,t),e.o&&e.s&&bi(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Tr(Er(t)),n.s=null,n.S=!0,ur(n,e)}function Pi(e){null!=e.v&&(at.clearTimeout(e.v),e.v=null)}function Li(e,t){var n=null;if(e.g==t){Pi(e),Mi(e),e.g=null;var r=2}else{if(!Wr(e.i,t))return;n=t.F,Yr(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;pn(r=Vn(),new Kn(r,n)),Ci(e)}else Ai(e);else if(3==(i=t.o)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(Qr(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Qn(pt(e.Na,e,t),Oi(e,e.C)),e.C++,!0))}(e,t)||2==r&&Di(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ji(e,5);break;case 4:ji(e,10);break;case 3:ji(e,6);break;default:ji(e,2)}}function Oi(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ji(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=pt(e.pb,e);n||(n=new _r("//www.google.com/images/cleardot.gif"),at.location&&"http"==at.location.protocol||xr(n,"https"),Tr(n)),function(e,t){const n=new On;if(at.Image){const r=new Image;r.onload=mt(ei,n,r,"TestLoadImage: loaded",!0,t),r.onerror=mt(ei,n,r,"TestLoadImage: error",!1,t),r.onabort=mt(ei,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=mt(ei,n,r,"TestLoadImage: timeout",!1,t),at.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Hn(2);e.H=0,e.h&&e.h.za(t),Fi(e),ki(e)}function Fi(e){if(e.H=0,e.ma=[],e.h){const t=Xr(e.i);0==t.length&&0==e.j.length||(bt(e.ma,t),bt(e.ma,e.j),e.i.i.length=0,wt(e.j),e.j.length=0),e.h.ya()}}function zi(e,t,n){var r=n instanceof _r?Er(n):new _r(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Sr(r,r.m);else{var i=at.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new _r(null);r&&xr(s,r),t&&(s.g=t),i&&Sr(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Cr(r,n,t),Cr(r,"VER",e.ra),Ni(e,r),r}function Vi(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new li(new ti({ob:!0})):new li(e.va)).Oa(e.J),t}function Ui(){}function Bi(){if(At&&!(10<=Number(Vt)))throw Error("Environmental error: no available transport.")}function qi(e,t){dn.call(this),this.g=new Ei(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!xt(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!xt(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Qi(this)}function Hi(e){er.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Ki(){tr.call(this),this.status=1}function Qi(e){this.g=e}function Wi(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function Gi(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Yi(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(rt=li.prototype).Oa=function(e){this.M=e},rt.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Jn.g(),this.C=this.u?Xn(this.u):Xn(Jn),this.g.onreadystatechange=pt(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void fi(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find(e=>"content-type"==e.toLowerCase()),i=at.FormData&&e instanceof at.FormData,!(0<=vt(hi,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{gi(this),0<this.B&&((this.L=function(e){return At&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=pt(this.ua,this)):this.A=In(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){fi(this,s)}},rt.ua=function(){"undefined"!=typeof ot&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,pn(this,"timeout"),this.abort(8))},rt.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,pn(this,"complete"),pn(this,"abort"),mi(this))},rt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),mi(this,!0)),li.$.N.call(this)},rt.La=function(){this.s||(this.G||this.v||this.l?pi(this):this.kb())},rt.kb=function(){pi(this)},rt.isActive=function(){return!!this.g},rt.da=function(){try{return 2<yi(this)?this.g.status:-1}catch(e){return-1}},rt.ja=function(){try{return this.g?this.g.responseText:""}catch(e){return""}},rt.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),ai(t)}},rt.Ia=function(){return this.m},rt.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(rt=Ei.prototype).ra=8,rt.H=1,rt.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new rr(this,this.l,e);let s=this.s;if(this.U&&(s?(s=Gt(s),Xt(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Ii(this,i,t),Cr(n=Er(this.I),"RID",e),Cr(n,"CVER",22),this.F&&Cr(n,"X-HTTP-Session-Id",this.F),Ni(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(wi(s)))+"&"+t:this.o&&bi(n,this.o,s)),Gr(this.i,i),this.bb&&Cr(n,"TYPE","init"),this.P?(Cr(n,"$req",t),Cr(n,"SID","null"),i.aa=!0,lr(i,n,null)):lr(i,n,t),this.H=2}}else 3==this.H&&(e?Ti(this,e):0==this.j.length||Kr(this.i)||Ti(this))},rt.Ma=function(){if(this.u=null,Ri(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=Qn(pt(this.jb,this),e)}},rt.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Hn(10),Si(this),Ri(this))},rt.ib=function(){null!=this.v&&(this.v=null,Si(this),Di(this),Hn(19))},rt.pb=function(e){e?(this.l.info("Successfully pinged google.com"),Hn(2)):(this.l.info("Failed to ping google.com"),Hn(1))},rt.isActive=function(){return!!this.h&&this.h.isActive(this)},(rt=Ui.prototype).Ba=function(){},rt.Aa=function(){},rt.za=function(){},rt.ya=function(){},rt.isActive=function(){return!0},rt.Va=function(){},Bi.prototype.g=function(e,t){return new qi(e,t)},gt(qi,dn),qi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;Hn(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=zi(e,null,e.Y),Ci(e)},qi.prototype.close=function(){xi(this.g)},qi.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=gn(e),e=n);t.j.push(new Br(t.fb++,e)),3==t.H&&Ci(t)},qi.prototype.N=function(){this.g.h=null,delete this.j,xi(this.g),delete this.g,qi.$.N.call(this)},gt(Hi,er),gt(Ki,tr),gt(Qi,Ui),Qi.prototype.Ba=function(){pn(this.g,"a")},Qi.prototype.Aa=function(e){pn(this.g,new Hi(e))},Qi.prototype.za=function(e){pn(this.g,new Ki)},Qi.prototype.ya=function(){pn(this.g,"b")},gt(Wi,function(){this.blockSize=-1}),Wi.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Wi.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)Gi(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){Gi(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){Gi(this,r),i=0;break}}this.h=i,this.i+=t},Wi.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var Xi={};function $i(e){return-128<=e&&128>e?function(e,t){var n=Xi;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,function(e){return new Yi([0|e],0>e?-1:0)}):new Yi([0|e],0>e?-1:0)}function Ji(e){if(isNaN(e)||!isFinite(e))return es;if(0>e)return ss(Ji(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Zi;return new Yi(t,0)}var Zi=4294967296,es=$i(0),ts=$i(1),ns=$i(16777216);function rs(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function is(e){return-1==e.h}function ss(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Yi(n,~e.h).add(ts)}function os(e,t){return e.add(ss(t))}function as(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function ls(e,t){this.g=e,this.h=t}function us(e,t){if(rs(t))throw Error("division by zero");if(rs(e))return new ls(es,es);if(is(e))return t=us(ss(e),t),new ls(ss(t.g),ss(t.h));if(is(t))return t=us(e,ss(t)),new ls(ss(t.g),t.h);if(30<e.g.length){if(is(e)||is(t))throw Error("slowDivide_ only works with positive integers.");for(var n=ts,r=t;0>=r.X(e);)n=cs(n),r=cs(r);var i=hs(n,1),s=hs(r,1);for(r=hs(r,2),n=hs(n,2);!rs(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=hs(r,1),n=hs(n,1)}return t=os(e,i.R(t)),new ls(i,t)}for(i=es;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=Ji(n)).R(t);is(o)||0<o.X(e);)o=(s=Ji(n-=r)).R(t);rs(s)&&(s=ts),i=i.add(s),e=os(e,o)}return new ls(i,e)}function cs(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Yi(n,e.h)}function hs(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Yi(i,e.h)}(rt=Yi.prototype).ea=function(){if(is(this))return-ss(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Zi+r)*t,t*=Zi}return e},rt.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(rs(this))return"0";if(is(this))return"-"+ss(this).toString(e);for(var t=Ji(Math.pow(e,6)),n=this,r="";;){var i=us(n,t).g,s=((0<(n=os(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(rs(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},rt.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},rt.X=function(e){return is(e=os(this,e))?-1:rs(e)?0:1},rt.abs=function(){return is(this)?ss(this):this},rt.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Yi(n,-2147483648&n[n.length-1]?-1:0)},rt.R=function(e){if(rs(this)||rs(e))return es;if(is(this))return is(e)?ss(this).R(ss(e)):ss(ss(this).R(e));if(is(e))return ss(this.R(ss(e)));if(0>this.X(ns)&&0>e.X(ns))return Ji(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,as(n,2*r+2*i),n[2*r+2*i+1]+=s*l,as(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,as(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,as(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Yi(n,0)},rt.gb=function(e){return us(this,e).h},rt.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Yi(n,this.h&e.h)},rt.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Yi(n,this.h|e.h)},rt.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Yi(n,this.h^e.h)},Bi.prototype.createWebChannel=Bi.prototype.g,qi.prototype.send=qi.prototype.u,qi.prototype.open=qi.prototype.m,qi.prototype.close=qi.prototype.close,Wn.NO_ERROR=0,Wn.TIMEOUT=8,Wn.HTTP_ERROR=6,Gn.COMPLETE="complete",$n.EventType=Zn,Zn.OPEN="a",Zn.CLOSE="b",Zn.ERROR="c",Zn.MESSAGE="d",dn.prototype.listen=dn.prototype.O,li.prototype.listenOnce=li.prototype.P,li.prototype.getLastError=li.prototype.Sa,li.prototype.getLastErrorCode=li.prototype.Ia,li.prototype.getStatus=li.prototype.da,li.prototype.getResponseJson=li.prototype.Wa,li.prototype.getResponseText=li.prototype.ja,li.prototype.send=li.prototype.ha,li.prototype.setWithCredentials=li.prototype.Oa,Wi.prototype.digest=Wi.prototype.l,Wi.prototype.reset=Wi.prototype.reset,Wi.prototype.update=Wi.prototype.j,Yi.prototype.add=Yi.prototype.add,Yi.prototype.multiply=Yi.prototype.R,Yi.prototype.modulo=Yi.prototype.gb,Yi.prototype.compare=Yi.prototype.X,Yi.prototype.toNumber=Yi.prototype.ea,Yi.prototype.toString=Yi.prototype.toString,Yi.prototype.getBits=Yi.prototype.D,Yi.fromNumber=Ji,Yi.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return ss(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Ji(Math.pow(n,8)),i=es,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=Ji(Math.pow(n,o)),i=i.R(o).add(Ji(a))):i=(i=i.R(r)).add(Ji(a))}return i};var fs=st.createWebChannelTransport=function(){return new Bi},ds=st.getStatEventTarget=function(){return Vn()},ps=st.ErrorCode=Wn,ms=st.EventType=Gn,gs=st.Event=Fn,ys=st.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},vs=st.FetchXmlHttpFactory=ti,ws=st.WebChannel=$n,bs=st.XhrIo=li,_s=st.Md5=Wi,Es=st.Integer=Yi;const xs="@firebase/firestore";class Ss{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ss.UNAUTHENTICATED=new Ss(null),Ss.GOOGLE_CREDENTIALS=new Ss("google-credentials-uid"),Ss.FIRST_PARTY=new Ss("first-party-uid"),Ss.MOCK_USER=new Ss("mock-user");let ks="9.23.0";const Cs=new K("@firebase/firestore");function Ts(){return Cs.logLevel}function Ns(e){if(Cs.logLevel<=V.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ds);Cs.debug("Firestore (".concat(ks,"): ").concat(e),...i)}}function Is(e){if(Cs.logLevel<=V.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ds);Cs.error("Firestore (".concat(ks,"): ").concat(e),...i)}}function As(e){if(Cs.logLevel<=V.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Ds);Cs.warn("Firestore (".concat(ks,"): ").concat(e),...i)}}function Ds(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function Ms(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(ks,") INTERNAL ASSERTION FAILED: ")+e;throw Is(t),new Error(t)}function Rs(e,t){e||Ms()}function Ps(e,t){return e}const Ls={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Os extends I{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class js{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Fs{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class zs{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ss.UNAUTHENTICATED))}shutdown(){}}class Vs{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Us{constructor(e){this.t=e,this.currentUser=Ss.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new js;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new js,e.enqueueRetryable(()=>r(this.currentUser))};const s=()=>{const t=i;e.enqueueRetryable(async()=>{await t.promise,await r(this.currentUser)})},o=e=>{Ns("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>o(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(Ns("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new js)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(Ns("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Rs("string"==typeof t.accessToken),new Fs(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Rs(null===e||"string"==typeof e),new Ss(e)}}class Bs{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=Ss.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class qs{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Bs(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Ss.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Hs{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ks{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&Ns("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.T;return this.T=e.token,Ns("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{Ns("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):Ns("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Rs("string"==typeof e.token),this.T=e.token,new Hs(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Qs(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Ws{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Qs(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Gs(e,t){return e<t?-1:e>t?1:0}function Ys(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}class Xs{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Os(Ls.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Os(Ls.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Os(Ls.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Os(Ls.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Xs.fromMillis(Date.now())}static fromDate(e){return Xs.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Xs(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Gs(this.nanoseconds,e.nanoseconds):Gs(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class $s{constructor(e){this.timestamp=e}static fromTimestamp(e){return new $s(e)}static min(){return new $s(new Xs(0,0))}static max(){return new $s(new Xs(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Js{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ms(),void 0===n?n=e.length-t:n>e.length-t&&Ms(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Js.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Js?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Zs extends Js{construct(e,t,n){return new Zs(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Os(Ls.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter(e=>e.length>0))}return new Zs(e)}static emptyPath(){return new Zs([])}}const eo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class to extends Js{construct(e,t,n){return new to(e,t,n)}static isValidIdentifier(e){return eo.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),to.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new to(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Os(Ls.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Os(Ls.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Os(Ls.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Os(Ls.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new to(t)}static emptyPath(){return new to([])}}class no{constructor(e){this.path=e}static fromPath(e){return new no(Zs.fromString(e))}static fromName(e){return new no(Zs.fromString(e).popFirst(5))}static empty(){return new no(Zs.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Zs.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Zs.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new no(new Zs(e.slice()))}}class ro{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}ro.UNKNOWN_ID=-1;function io(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=$s.fromTimestamp(1e9===r?new Xs(n+1,0):new Xs(n,r));return new oo(i,no.empty(),t)}function so(e){return new oo(e.readTime,e.key,-1)}class oo{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new oo($s.min(),no.empty(),-1)}static max(){return new oo($s.max(),no.empty(),-1)}}function ao(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=no.comparator(e.documentKey,t.documentKey),0!==n?n:Gs(e.largestBatchId,t.largestBatchId))}const lo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class uo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}async function co(e){if(e.code!==Ls.FAILED_PRECONDITION||e.message!==lo)throw e;Ns("LocalStore","Unexpectedly lost primary lease")}class ho{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ms(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ho((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ho?t:ho.resolve(t)}catch(e){return ho.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ho.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ho.reject(t)}static resolve(e){return new ho((t,n)=>{t(e)})}static reject(e){return new ho((t,n)=>{n(e)})}static waitFor(e){return new ho((t,n)=>{let r=0,i=0,s=!1;e.forEach(e=>{++r,e.next(()=>{++i,s&&i===r&&t()},e=>n(e))}),s=!0,i===r&&t()})}static or(e){let t=ho.resolve(!1);for(const n of e)t=t.next(e=>e?ho.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new ho((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next(e=>{s[l]=e,++o,o===i&&n(s)},e=>r(e))}})}static doWhile(e,t){return new ho((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}function fo(e){return"IndexedDbTransactionError"===e.name}class po{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function mo(e){return null==e}function go(e){return 0===e&&1/e==-1/0}function yo(e){return"number"==typeof e&&Number.isInteger(e)&&!go(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}po.ct=-1;const vo=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],wo=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bo=wo;function _o(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Eo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function xo(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class So{constructor(e,t){this.comparator=e,this.root=t||Co.EMPTY}insert(e,t){return new So(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Co.BLACK,null,null))}remove(e){return new So(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Co.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push("".concat(t,":").concat(n)),!1)),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ko(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ko(this.root,e,this.comparator,!1)}getReverseIterator(){return new ko(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ko(this.root,e,this.comparator,!0)}}class ko{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Co{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Co.RED,this.left=null!=r?r:Co.EMPTY,this.right=null!=i?i:Co.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Co(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Co.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Co.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Co.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Co.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ms();if(this.right.isRed())throw Ms();const e=this.left.check();if(e!==this.right.check())throw Ms();return e+(this.isRed()?0:1)}}Co.EMPTY=null,Co.RED=!0,Co.BLACK=!1,Co.EMPTY=new class{constructor(){this.size=0}get key(){throw Ms()}get value(){throw Ms()}get color(){throw Ms()}get left(){throw Ms()}get right(){throw Ms()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Co(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class To{constructor(e){this.comparator=e,this.data=new So(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new No(this.data.getIterator())}getIteratorFrom(e){return new No(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof To))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new To(this.comparator);return t.data=e,t}}class No{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Io{constructor(e){this.fields=e,e.sort(to.comparator)}static empty(){return new Io([])}unionWith(e){let t=new To(to.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Io(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Ys(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class Ao extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Do{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Ao("Invalid base64 string: "+e):e}}(e);return new Do(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Do(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Gs(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Do.EMPTY_BYTE_STRING=new Do("");const Mo=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ro(e){if(Rs(!!e),"string"==typeof e){let t=0;const n=Mo.exec(e);if(Rs(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Po(e.seconds),nanos:Po(e.nanos)}}function Po(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Lo(e){return"string"==typeof e?Do.fromBase64String(e):Do.fromUint8Array(e)}function Oo(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function jo(e){const t=e.mapValue.fields.__previous_value__;return Oo(t)?jo(t):t}function Fo(e){const t=Ro(e.mapValue.fields.__local_write_time__.timestampValue);return new Xs(t.seconds,t.nanos)}class zo{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class Vo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Vo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vo&&e.projectId===this.projectId&&e.database===this.database}}const Uo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Bo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Oo(e)?4:na(e)?9007199254740991:10:Ms()}function qo(e,t){if(e===t)return!0;const n=Bo(e);if(n!==Bo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Fo(e).isEqual(Fo(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ro(e.timestampValue),r=Ro(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Lo(e.bytesValue).isEqual(Lo(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Po(e.geoPointValue.latitude)===Po(t.geoPointValue.latitude)&&Po(e.geoPointValue.longitude)===Po(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Po(e.integerValue)===Po(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Po(e.doubleValue),r=Po(t.doubleValue);return n===r?go(n)===go(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Ys(e.arrayValue.values||[],t.arrayValue.values||[],qo);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(_o(n)!==_o(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!qo(n[i],r[i])))return!1;return!0}(e,t);default:return Ms()}}function Ho(e,t){return void 0!==(e.values||[]).find(e=>qo(e,t))}function Ko(e,t){if(e===t)return 0;const n=Bo(e),r=Bo(t);if(n!==r)return Gs(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Gs(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Po(e.integerValue||e.doubleValue),r=Po(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Qo(e.timestampValue,t.timestampValue);case 4:return Qo(Fo(e),Fo(t));case 5:return Gs(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Lo(e),r=Lo(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Gs(n[i],r[i]);if(0!==e)return e}return Gs(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Gs(Po(e.latitude),Po(t.latitude));return 0!==n?n:Gs(Po(e.longitude),Po(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Ko(n[i],r[i]);if(e)return e}return Gs(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Uo.mapValue&&t===Uo.mapValue)return 0;if(e===Uo.mapValue)return 1;if(t===Uo.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=Gs(r[o],s[o]);if(0!==e)return e;const t=Ko(n[r[o]],i[s[o]]);if(0!==t)return t}return Gs(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Ms()}}function Qo(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Gs(e,t);const n=Ro(e),r=Ro(t),i=Gs(n.seconds,r.seconds);return 0!==i?i:Gs(n.nanos,r.nanos)}function Wo(e){return Go(e)}function Go(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ro(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Lo(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,no.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Go(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Go(e.fields[i]));return n+"}"}(e.mapValue):Ms();var t,n}function Yo(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function Xo(e){return!!e&&"integerValue"in e}function $o(e){return!!e&&"arrayValue"in e}function Jo(e){return!!e&&"nullValue"in e}function Zo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ea(e){return!!e&&"mapValue"in e}function ta(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Eo(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=ta(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=ta(e.arrayValue.values[n]);return t}return Object.assign({},e)}function na(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class ra{constructor(e){this.value=e}static empty(){return new ra({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ea(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ta(t)}setAll(e){let t=to.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=ta(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());ea(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return qo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];ea(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Eo(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new ra(ta(this.value))}}function ia(e){const t=[];return Eo(e.fields,(e,n)=>{const r=new to([e]);if(ea(n)){const e=ia(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Io(t)}class sa{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new sa(e,0,$s.min(),$s.min(),$s.min(),ra.empty(),0)}static newFoundDocument(e,t,n,r){return new sa(e,1,t,$s.min(),n,r,0)}static newNoDocument(e,t){return new sa(e,2,t,$s.min(),$s.min(),ra.empty(),0)}static newUnknownDocument(e,t){return new sa(e,3,t,$s.min(),$s.min(),ra.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual($s.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ra.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ra.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=$s.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof sa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class oa{constructor(e,t){this.position=e,this.inclusive=t}}function aa(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?no.comparator(no.fromName(o.referenceValue),n.key):Ko(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function la(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!qo(e.position[n],t.position[n]))return!1;return!0}class ua{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ca(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class ha{}class fa extends ha{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ba(e,t,n):"array-contains"===t?new Sa(e,n):"in"===t?new ka(e,n):"not-in"===t?new Ca(e,n):"array-contains-any"===t?new Ta(e,n):new fa(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new _a(e,n):new Ea(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ko(t,this.value)):null!==t&&Bo(this.value)===Bo(t)&&this.matchesComparison(Ko(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ms()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class da extends ha{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new da(e,t)}matches(e){return pa(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(e=>e.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function pa(e){return"and"===e.op}function ma(e){return ga(e)&&pa(e)}function ga(e){for(const t of e.filters)if(t instanceof da)return!1;return!0}function ya(e){if(e instanceof fa)return e.field.canonicalString()+e.op.toString()+Wo(e.value);if(ma(e))return e.filters.map(e=>ya(e)).join(",");{const t=e.filters.map(e=>ya(e)).join(",");return"".concat(e.op,"(").concat(t,")")}}function va(e,t){return e instanceof fa?function(e,t){return t instanceof fa&&e.op===t.op&&e.field.isEqual(t.field)&&qo(e.value,t.value)}(e,t):e instanceof da?function(e,t){return t instanceof da&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((e,n,r)=>e&&va(n,t.filters[r]),!0)}(e,t):void Ms()}function wa(e){return e instanceof fa?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Wo(e.value))}(e):e instanceof da?function(e){return e.op.toString()+" {"+e.getFilters().map(wa).join(" ,")+"}"}(e):"Filter"}class ba extends fa{constructor(e,t,n){super(e,t,n),this.key=no.fromName(n.referenceValue)}matches(e){const t=no.comparator(e.key,this.key);return this.matchesComparison(t)}}class _a extends fa{constructor(e,t){super(e,"in",t),this.keys=xa("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Ea extends fa{constructor(e,t){super(e,"not-in",t),this.keys=xa("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function xa(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>no.fromName(e.referenceValue))}class Sa extends fa{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return $o(t)&&Ho(t.arrayValue,this.value)}}class ka extends fa{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ho(this.value.arrayValue,t)}}class Ca extends fa{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ho(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ho(this.value.arrayValue,t)}}class Ta extends fa{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!$o(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>Ho(this.value.arrayValue,e))}}class Na{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.dt=null}}function Ia(e){return new Na(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Aa(e){const t=Ps(e);if(null===t.dt){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>ya(e)).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),mo(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Wo(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Wo(e)).join(",")),t.dt=e}return t.dt}function Da(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ca(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!va(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!la(e.startAt,t.startAt)&&la(e.endAt,t.endAt)}function Ma(e){return no.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Ra{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function Pa(e,t,n,r,i,s,o,a){return new Ra(e,t,n,r,i,s,o,a)}function La(e){return new Ra(e)}function Oa(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function ja(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Fa(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function za(e){return null!==e.collectionGroup}function Va(e){const t=Ps(e);if(null===t.wt){t.wt=[];const e=Fa(t),n=ja(t);if(null!==e&&null===n)e.isKeyField()||t.wt.push(new ua(e)),t.wt.push(new ua(to.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.wt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new ua(to.keyField(),e))}}}return t.wt}function Ua(e){const t=Ps(e);if(!t._t)if("F"===t.limitType)t._t=Ia(t.path,t.collectionGroup,Va(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of Va(t)){const t="desc"===i.dir?"asc":"desc";e.push(new ua(i.field,t))}const n=t.endAt?new oa(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new oa(t.startAt.position,t.startAt.inclusive):null;t._t=Ia(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function Ba(e,t){t.getFirstInequalityField(),Fa(e);const n=e.filters.concat([t]);return new Ra(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function qa(e,t,n){return new Ra(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Ha(e,t){return Da(Ua(e),Ua(t))&&e.limitType===t.limitType}function Ka(e){return"".concat(Aa(Ua(e)),"|lt:").concat(e.limitType)}function Qa(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map(e=>wa(e)).join(", "),"]")),mo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map(e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Wo(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Wo(e)).join(",")),"Target(".concat(t,")")}(Ua(e)),"; limitType=").concat(e.limitType,")")}function Wa(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):no.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Va(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=aa(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Va(e),t))&&!(e.endAt&&!function(e,t,n){const r=aa(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Va(e),t))}(e,t)}function Ga(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Ya(e){return(t,n)=>{let r=!1;for(const i of Va(e)){const e=Xa(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Xa(e,t,n){const r=e.field.isKeyField()?no.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ko(r,i):Ms()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ms()}}class $a{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Eo(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return xo(this.inner)}size(){return this.innerSize}}const Ja=new So(no.comparator);function Za(){return Ja}const el=new So(no.comparator);function tl(){let e=el;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function nl(e){let t=el;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function rl(){return sl()}function il(){return sl()}function sl(){return new $a(e=>e.toString(),(e,t)=>e.isEqual(t))}const ol=new So(no.comparator),al=new To(no.comparator);function ll(){let e=al;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const ul=new To(Gs);function cl(){return ul}function hl(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:go(t)?"-0":t}}function fl(e){return{integerValue:""+e}}function dl(e,t){return yo(t)?fl(t):hl(e,t)}class pl{constructor(){this._=void 0}}function ml(e,t,n){return e instanceof vl?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Oo(t)&&(t=jo(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof wl?bl(e,t):e instanceof _l?El(e,t):function(e,t){const n=yl(e,t),r=Sl(n)+Sl(e.gt);return Xo(n)&&Xo(e.gt)?fl(r):hl(e.serializer,r)}(e,t)}function gl(e,t,n){return e instanceof wl?bl(e,t):e instanceof _l?El(e,t):n}function yl(e,t){return e instanceof xl?Xo(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class vl extends pl{}class wl extends pl{constructor(e){super(),this.elements=e}}function bl(e,t){const n=kl(t);for(const r of e.elements)n.some(e=>qo(e,r))||n.push(r);return{arrayValue:{values:n}}}class _l extends pl{constructor(e){super(),this.elements=e}}function El(e,t){let n=kl(t);for(const r of e.elements)n=n.filter(e=>!qo(e,r));return{arrayValue:{values:n}}}class xl extends pl{constructor(e,t){super(),this.serializer=e,this.gt=t}}function Sl(e){return Po(e.integerValue||e.doubleValue)}function kl(e){return $o(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Cl{constructor(e,t){this.field=e,this.transform=t}}class Tl{constructor(e,t){this.version=e,this.transformResults=t}}class Nl{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Nl}static exists(e){return new Nl(void 0,e)}static updateTime(e){return new Nl(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Il(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Al{}function Dl(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Ul(e.key,Nl.none()):new Ol(e.key,e.data,Nl.none());{const n=e.data,r=ra.empty();let i=new To(to.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new jl(e.key,r,new Io(i.toArray()),Nl.none())}}function Ml(e,t,n){e instanceof Ol?function(e,t,n){const r=e.value.clone(),i=zl(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof jl?function(e,t,n){if(!Il(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=zl(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Fl(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Rl(e,t,n,r){return e instanceof Ol?function(e,t,n,r){if(!Il(e.precondition,t))return n;const i=e.value.clone(),s=Vl(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof jl?function(e,t,n,r){if(!Il(e.precondition,t))return n;const i=Vl(e.fieldTransforms,r,t),s=t.data;return s.setAll(Fl(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return Il(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Pl(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=yl(r.transform,e||null);null!=i&&(null===n&&(n=ra.empty()),n.set(r.field,i))}return n||null}function Ll(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Ys(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof wl&&t instanceof wl||e instanceof _l&&t instanceof _l?Ys(e.elements,t.elements,qo):e instanceof xl&&t instanceof xl?qo(e.gt,t.gt):e instanceof vl&&t instanceof vl}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Ol extends Al{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class jl extends Al{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Fl(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function zl(e,t,n){const r=new Map;Rs(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,gl(o,a,n[i]))}return r}function Vl(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,ml(e,s,t))}return r}class Ul extends Al{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Bl extends Al{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ql{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Ml(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Rl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Rl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=il();return this.mutations.forEach(r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Dl(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument($s.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),ll())}isEqual(e){return this.batchId===e.batchId&&Ys(this.mutations,e.mutations,(e,t)=>Ll(e,t))&&Ys(this.baseMutations,e.baseMutations,(e,t)=>Ll(e,t))}}class Hl{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Rs(e.mutations.length===n.length);let r=ol;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new Hl(e,t,n,r)}}class Kl{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class Ql{constructor(e,t){this.count=e,this.unchangedNames=t}}var Wl,Gl;function Yl(e){switch(e){default:return Ms();case Ls.CANCELLED:case Ls.UNKNOWN:case Ls.DEADLINE_EXCEEDED:case Ls.RESOURCE_EXHAUSTED:case Ls.INTERNAL:case Ls.UNAVAILABLE:case Ls.UNAUTHENTICATED:return!1;case Ls.INVALID_ARGUMENT:case Ls.NOT_FOUND:case Ls.ALREADY_EXISTS:case Ls.PERMISSION_DENIED:case Ls.FAILED_PRECONDITION:case Ls.ABORTED:case Ls.OUT_OF_RANGE:case Ls.UNIMPLEMENTED:case Ls.DATA_LOSS:return!0}}function Xl(e){if(void 0===e)return Is("GRPC error has no .code"),Ls.UNKNOWN;switch(e){case Wl.OK:return Ls.OK;case Wl.CANCELLED:return Ls.CANCELLED;case Wl.UNKNOWN:return Ls.UNKNOWN;case Wl.DEADLINE_EXCEEDED:return Ls.DEADLINE_EXCEEDED;case Wl.RESOURCE_EXHAUSTED:return Ls.RESOURCE_EXHAUSTED;case Wl.INTERNAL:return Ls.INTERNAL;case Wl.UNAVAILABLE:return Ls.UNAVAILABLE;case Wl.UNAUTHENTICATED:return Ls.UNAUTHENTICATED;case Wl.INVALID_ARGUMENT:return Ls.INVALID_ARGUMENT;case Wl.NOT_FOUND:return Ls.NOT_FOUND;case Wl.ALREADY_EXISTS:return Ls.ALREADY_EXISTS;case Wl.PERMISSION_DENIED:return Ls.PERMISSION_DENIED;case Wl.FAILED_PRECONDITION:return Ls.FAILED_PRECONDITION;case Wl.ABORTED:return Ls.ABORTED;case Wl.OUT_OF_RANGE:return Ls.OUT_OF_RANGE;case Wl.UNIMPLEMENTED:return Ls.UNIMPLEMENTED;case Wl.DATA_LOSS:return Ls.DATA_LOSS;default:return Ms()}}(Gl=Wl||(Wl={}))[Gl.OK=0]="OK",Gl[Gl.CANCELLED=1]="CANCELLED",Gl[Gl.UNKNOWN=2]="UNKNOWN",Gl[Gl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gl[Gl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gl[Gl.NOT_FOUND=5]="NOT_FOUND",Gl[Gl.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gl[Gl.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gl[Gl.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gl[Gl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gl[Gl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gl[Gl.ABORTED=10]="ABORTED",Gl[Gl.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gl[Gl.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gl[Gl.INTERNAL=13]="INTERNAL",Gl[Gl.UNAVAILABLE=14]="UNAVAILABLE",Gl[Gl.DATA_LOSS=15]="DATA_LOSS";class $l{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Jl}static getOrCreateInstance(){return null===Jl&&(Jl=new $l),Jl}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let Jl=null;function Zl(){return new TextEncoder}const eu=new Es([4294967295,4294967295],0);function tu(e){const t=Zl().encode(e),n=new _s;return n.update(t),new Uint8Array(n.digest())}function nu(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Es([n,r],0),new Es([i,s],0)]}class ru{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new iu("Invalid padding: ".concat(t));if(n<0)throw new iu("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new iu("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new iu("Invalid padding when bitmap length is 0: ".concat(t));this.It=8*e.length-t,this.Tt=Es.fromNumber(this.It)}Et(e,t,n){let r=e.add(t.multiply(Es.fromNumber(n)));return 1===r.compare(eu)&&(r=new Es([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=tu(e),[n,r]=nu(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);if(!this.At(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new ru(i,r,t);return n.forEach(e=>s.insert(e)),s}insert(e){if(0===this.It)return;const t=tu(e),[n,r]=nu(t);for(let i=0;i<this.hashCount;i++){const e=this.Et(n,r,i);this.Rt(e)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class iu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class su{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,ou.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new su($s.min(),r,new So(Gs),Za(),ll())}}class ou{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new ou(n,t,ll(),ll(),ll())}}class au{constructor(e,t,n,r){this.Pt=e,this.removedTargetIds=t,this.key=n,this.bt=r}}class lu{constructor(e,t){this.targetId=e,this.Vt=t}}class uu{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Do.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class cu{constructor(){this.St=0,this.Dt=du(),this.Ct=Do.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ll(),t=ll(),n=ll();return this.Dt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ms()}}),new ou(this.Ct,this.xt,e,t,n)}Ft(){this.Nt=!1,this.Dt=du()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class hu{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=Za(),this.zt=fu(),this.Wt=new So(Gs)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const n=this.Zt(t);switch(e.state){case 0:this.te(t)&&n.$t(e.resumeToken);break;case 1:n.Ut(),n.kt||n.Ft(),n.$t(e.resumeToken);break;case 2:n.Ut(),n.kt||this.removeTarget(t);break;case 3:this.te(t)&&(n.Kt(),n.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),n.$t(e.resumeToken));break;default:Ms()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((e,n)=>{this.te(n)&&t(n)})}ne(e){var t;const n=e.targetId,r=e.Vt.count,i=this.se(n);if(i){const s=i.target;if(Ma(s))if(0===r){const e=new no(s.path);this.Yt(n,e,sa.newNoDocument(e,$s.min()))}else Rs(1===r);else{const i=this.ie(n);if(i!==r){const r=this.re(e,i);if(0!==r){this.ee(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(n,e)}null===(t=$l.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,o,a,l;const u={localCacheCount:t,existenceFilterCount:n.count},c=n.unchangedNames;return c&&(u.bloomFilter={applied:0===e,hashCount:null!==(r=null==c?void 0:c.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(s=null===(i=null==c?void 0:c.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==o?o:0,padding:null!==(l=null===(a=null==c?void 0:c.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),u}(r,i,e.Vt))}}}}re(e,t){const{unchangedNames:n,count:r}=e.Vt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let a,l;try{a=Lo(i).toUint8Array()}catch(e){if(e instanceof Ao)return As("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new ru(a,s,o)}catch(e){return As(e instanceof iu?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.It?1:r!==t-this.oe(e.targetId,l)?2:0}oe(e,t){const n=this.Gt.getRemoteKeysForTarget(e);let r=0;return n.forEach(n=>{const i=this.Gt.ue(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());t.vt(s)||(this.Yt(e,n,null),r++)}),r}ce(e){const t=new Map;this.Qt.forEach((n,r)=>{const i=this.se(r);if(i){if(n.current&&Ma(i.target)){const t=new no(i.target.path);null!==this.jt.get(t)||this.ae(r,t)||this.Yt(r,t,sa.newNoDocument(t,e))}n.Mt&&(t.set(r,n.Ot()),n.Ft())}});let n=ll();this.zt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.se(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.jt.forEach((t,n)=>n.setReadTime(e));const r=new su(e,t,this.Wt,this.jt,n);return this.jt=Za(),this.zt=fu(),this.Wt=new So(Gs),r}Jt(e,t){if(!this.te(e))return;const n=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,n),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,n){if(!this.te(e))return;const r=this.Zt(e);this.ae(e,t)?r.Bt(t,1):r.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),n&&(this.jt=this.jt.insert(t,n))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new cu,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new To(Gs),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Ns("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new cu),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function fu(){return new So(no.comparator)}function du(){return new So(no.comparator)}const pu={asc:"ASCENDING",desc:"DESCENDING"},mu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gu={and:"AND",or:"OR"};class yu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function vu(e,t){return e.useProto3Json||mo(t)?t:{value:t}}function wu(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function bu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function _u(e,t){return wu(e,t.toTimestamp())}function Eu(e){return Rs(!!e),$s.fromTimestamp(function(e){const t=Ro(e);return new Xs(t.seconds,t.nanos)}(e))}function xu(e,t){return function(e){return new Zs(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function Su(e){const t=Zs.fromString(e);return Rs(Hu(t)),t}function ku(e,t){return xu(e.databaseId,t.path)}function Cu(e,t){const n=Su(t);if(n.get(1)!==e.databaseId.projectId)throw new Os(Ls.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Os(Ls.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new no(Au(n))}function Tu(e,t){return xu(e.databaseId,t)}function Nu(e){const t=Su(e);return 4===t.length?Zs.emptyPath():Au(t)}function Iu(e){return new Zs(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Au(e){return Rs(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Du(e,t,n){return{name:ku(e,t),fields:n.value.mapValue.fields}}function Mu(e,t){let n;if(t instanceof Ol)n={update:Du(e,t.key,t.value)};else if(t instanceof Ul)n={delete:ku(e,t.key)};else if(t instanceof jl)n={update:Du(e,t.key,t.data),updateMask:qu(t.fieldMask)};else{if(!(t instanceof Bl))return Ms();n={verify:ku(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof vl)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof wl)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof _l)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof xl)return{fieldPath:t.field.canonicalString(),increment:n.gt};throw Ms()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:_u(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ms()}(e,t.precondition)),n}function Ru(e,t){return{documents:[Tu(e,t.path)]}}function Pu(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Tu(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Tu(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Bu(da.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Vu(e.field),direction:ju(e.dir)}}(e))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=vu(e,t.limit);var a;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Lu(e){let t=Nu(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Rs(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Ou(e);return t instanceof da&&ma(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(e=>function(e){return new ua(Uu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,mo(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new oa(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new oa(n,t)}(n.endAt)),Pa(t,i,o,s,a,"F",l,u)}function Ou(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Uu(e.unaryFilter.field);return fa.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Uu(e.unaryFilter.field);return fa.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Uu(e.unaryFilter.field);return fa.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Uu(e.unaryFilter.field);return fa.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ms()}}(e):void 0!==e.fieldFilter?function(e){return fa.create(Uu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ms()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return da.create(e.compositeFilter.filters.map(e=>Ou(e)),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ms()}}(e.compositeFilter.op))}(e):Ms()}function ju(e){return pu[e]}function Fu(e){return mu[e]}function zu(e){return gu[e]}function Vu(e){return{fieldPath:e.canonicalString()}}function Uu(e){return to.fromServerFormat(e.fieldPath)}function Bu(e){return e instanceof fa?function(e){if("=="===e.op){if(Zo(e.value))return{unaryFilter:{field:Vu(e.field),op:"IS_NAN"}};if(Jo(e.value))return{unaryFilter:{field:Vu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Zo(e.value))return{unaryFilter:{field:Vu(e.field),op:"IS_NOT_NAN"}};if(Jo(e.value))return{unaryFilter:{field:Vu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Vu(e.field),op:Fu(e.op),value:e.value}}}(e):e instanceof da?function(e){const t=e.getFilters().map(e=>Bu(e));return 1===t.length?t[0]:{compositeFilter:{op:zu(e.op),filters:t}}}(e):Ms()}function qu(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Hu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Ku{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:$s.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:$s.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Do.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Ku(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ku(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ku(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Qu{constructor(e){this.fe=e}}function Wu(e){const t=Lu({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?qa(t,t.limit,"L"):t}class Gu{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(Po(e.integerValue));else if("doubleValue"in e){const n=Po(e.doubleValue);isNaN(n)?this.ye(t,13):(this.ye(t,15),go(n)?t.pe(0):t.pe(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ye(t,20),"string"==typeof n?t.Ie(n):(t.Ie("".concat(n.seconds||"")),t.pe(n.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Lo(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ye(t,45),t.pe(n.latitude||0),t.pe(n.longitude||0)}else"mapValue"in e?na(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Ms()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const n=e.fields||{};this.ye(t,55);for(const r of Object.keys(n))this.Te(r,t),this.me(n[r],t)}Pe(e,t){const n=e.values||[];this.ye(t,50);for(const r of n)this.me(r,t)}ve(e,t){this.ye(t,37),no.fromName(e).path.forEach(e=>{this.ye(t,60),this.be(e,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Gu.Ve=new Gu;class Yu{constructor(){this.rn=new Xu}addToCollectionParentIndex(e,t){return this.rn.add(t),ho.resolve()}getCollectionParents(e,t){return ho.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ho.resolve()}deleteFieldIndex(e,t){return ho.resolve()}getDocumentsMatchingTarget(e,t){return ho.resolve(null)}getIndexType(e,t){return ho.resolve(0)}getFieldIndexes(e,t){return ho.resolve([])}getNextCollectionGroupToUpdate(e){return ho.resolve(null)}getMinOffset(e,t){return ho.resolve(oo.min())}getMinOffsetFromCollectionGroup(e,t){return ho.resolve(oo.min())}updateCollectionGroup(e,t,n){return ho.resolve()}updateIndexEntries(e,t){return ho.resolve()}}class Xu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new To(Zs.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new To(Zs.comparator)).toArray()}}new Uint8Array(0);class $u{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new $u(e,$u.DEFAULT_COLLECTION_PERCENTILE,$u.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}$u.DEFAULT_COLLECTION_PERCENTILE=10,$u.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$u.DEFAULT=new $u(41943040,$u.DEFAULT_COLLECTION_PERCENTILE,$u.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$u.DISABLED=new $u(-1,0,0);class Ju{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new Ju(0)}static Mn(){return new Ju(-1)}}class Zu{constructor(){this.changes=new $a(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sa.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?ho.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ec{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class tc{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,t))).next(e=>(null!==n&&Rl(n.mutation,e,Io.empty(),Xs.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,ll()).next(()=>t))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ll();const r=rl();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=tl();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=rl();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,ll()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Za();const s=sl(),o=sl();return t.forEach((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof jl)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Rl(o.mutation,t,o.mutation.getFieldMask(),Xs.now())):s.set(t.key,Io.empty())}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>s.set(e,t)),t.forEach((e,t)=>{var n;return o.set(e,new ec(t,null!==(n=s.get(e))&&void 0!==n?n:null))}),o))}recalculateAndSaveOverlays(e,t){const n=sl();let r=new So((e,t)=>e-t),i=ll();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Io.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||ll()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=il();l.forEach(e=>{if(!i.has(e)){const r=Dl(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}}),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return ho.waitFor(s)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return no.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):za(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):ho.resolve(rl());let o=-1,a=i;return s.next(t=>ho.forEach(t,(t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?ho.resolve():this.remoteDocumentCache.getEntry(e,t).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,ll())).next(e=>({batchId:o,changes:nl(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new no(t)).next(e=>{let t=tl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=tl();return this.indexManager.getCollectionParents(e,r).next(s=>ho.forEach(s,s=>{const o=function(e,t){return new Ra(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(r));return this.getDocumentsMatchingCollectionQuery(e,o,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r))).next(e=>{r.forEach((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,sa.newInvalidDocument(r)))});let n=tl();return e.forEach((e,i)=>{const s=r.get(e);void 0!==s&&Rl(s.mutation,i,Io.empty(),Xs.now()),Wa(t,i)&&(n=n.insert(e,i))}),n})}}class nc{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ho.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var n;return this.cs.set(t.id,{id:(n=t).id,version:n.version,createTime:Eu(n.createTime)}),ho.resolve()}getNamedQuery(e,t){return ho.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,function(e){return{name:e.name,query:Wu(e.bundledQuery),readTime:Eu(e.readTime)}}(t)),ho.resolve()}}class rc{constructor(){this.overlays=new So(no.comparator),this.ls=new Map}getOverlay(e,t){return ho.resolve(this.overlays.get(t))}getOverlays(e,t){const n=rl();return ho.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.we(e,t,r)}),ho.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.ls.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.ls.delete(n)),ho.resolve()}getOverlaysForCollection(e,t,n){const r=rl(),i=t.length+1,s=new no(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return ho.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new So((e,t)=>e-t);const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=rl(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=rl(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>o.set(e,t)),!(o.size()>=r)););return ho.resolve(o)}we(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.ls.get(r.largestBatchId).delete(n.key);this.ls.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Kl(t,n));let i=this.ls.get(t);void 0===i&&(i=ll(),this.ls.set(t,i)),this.ls.set(t,i.add(n.key))}}class ic{constructor(){this.fs=new To(sc.ds),this.ws=new To(sc._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const n=new sc(e,t);this.fs=this.fs.add(n),this.ws=this.ws.add(n)}gs(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.ys(new sc(e,t))}ps(e,t){e.forEach(e=>this.removeReference(e,t))}Is(e){const t=new no(new Zs([])),n=new sc(t,e),r=new sc(t,e+1),i=[];return this.ws.forEachInRange([n,r],e=>{this.ys(e),i.push(e.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new no(new Zs([])),n=new sc(t,e),r=new sc(t,e+1);let i=ll();return this.ws.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new sc(e,0),n=this.fs.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class sc{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return no.comparator(e.key,t.key)||Gs(e.As,t.As)}static _s(e,t){return Gs(e.As,t.As)||no.comparator(e.key,t.key)}}class oc{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new To(sc.ds)}checkEmpty(e){return ho.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ql(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Rs=this.Rs.add(new sc(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return ho.resolve(s)}lookupMutationBatch(e,t){return ho.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.bs(n),i=r<0?0:r;return ho.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return ho.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ho.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new sc(t,0),r=new sc(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],e=>{const t=this.Ps(e.As);i.push(t)}),ho.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new To(Gs);return t.forEach(e=>{const t=new sc(e,0),r=new sc(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],e=>{n=n.add(e.As)})}),ho.resolve(this.Vs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;no.isDocumentKey(i)||(i=i.child(""));const s=new sc(new no(i),0);let o=new To(Gs);return this.Rs.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.As)),!0)},s),ho.resolve(this.Vs(o))}Vs(e){const t=[];return e.forEach(e=>{const n=this.Ps(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Rs(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return ho.forEach(t.mutations,r=>{const i=new sc(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.Rs=n})}Cn(e){}containsKey(e,t){const n=new sc(t,0),r=this.Rs.firstAfterOrEqual(n);return ho.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,ho.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ac{constructor(e){this.Ds=e,this.docs=new So(no.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ds(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return ho.resolve(n?n.document.mutableCopy():sa.newInvalidDocument(t))}getEntries(e,t){let n=Za();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():sa.newInvalidDocument(e))}),ho.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Za();const s=t.path,o=new no(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ao(so(o),n)<=0||(r.has(o.key)||Wa(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return ho.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ms()}Cs(e,t){return ho.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new lc(this)}getSize(e){return ho.resolve(this.size)}}class lc extends Zu{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.os.addEntry(e,r)):this.os.removeEntry(n)}),ho.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class uc{constructor(e){this.persistence=e,this.xs=new $a(e=>Aa(e),Da),this.lastRemoteSnapshotVersion=$s.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ic,this.targetCount=0,this.Ms=Ju.kn()}forEachTarget(e,t){return this.xs.forEach((e,n)=>t(n)),ho.resolve()}getLastRemoteSnapshotVersion(e){return ho.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ho.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ho.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ns&&(this.Ns=t),ho.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new Ju(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ho.resolve()}updateTargetData(e,t){return this.Fn(t),ho.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ho.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.xs.forEach((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.xs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)}),ho.waitFor(i).next(()=>r)}getTargetCount(e){return ho.resolve(this.targetCount)}getTargetData(e,t){const n=this.xs.get(t)||null;return ho.resolve(n)}addMatchingKeys(e,t,n){return this.ks.gs(t,n),ho.resolve()}removeMatchingKeys(e,t,n){this.ks.ps(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),ho.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ho.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ks.Es(t);return ho.resolve(n)}containsKey(e,t){return ho.resolve(this.ks.containsKey(t))}}class cc{constructor(e,t){this.$s={},this.overlays={},this.Os=new po(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new uc(this),this.indexManager=new Yu,this.remoteDocumentCache=function(e){return new ac(e)}(e=>this.referenceDelegate.Ls(e)),this.serializer=new Qu(t),this.qs=new nc(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new rc,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.$s[e.toKey()];return n||(n=new oc(t,this.referenceDelegate),this.$s[e.toKey()]=n),n}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,n){Ns("MemoryPersistence","Starting transaction:",e);const r=new hc(this.Os.next());return this.referenceDelegate.Us(),n(r).next(e=>this.referenceDelegate.Ks(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Gs(e,t){return ho.or(Object.values(this.$s).map(n=>()=>n.containsKey(e,t)))}}class hc extends uo{constructor(e){super(),this.currentSequenceNumber=e}}class fc{constructor(e){this.persistence=e,this.Qs=new ic,this.js=null}static zs(e){return new fc(e)}get Ws(){if(this.js)return this.js;throw Ms()}addReference(e,t,n){return this.Qs.addReference(n,t),this.Ws.delete(n.toString()),ho.resolve()}removeReference(e,t,n){return this.Qs.removeReference(n,t),this.Ws.add(n.toString()),ho.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ho.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(e=>this.Ws.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Ws.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ho.forEach(this.Ws,n=>{const r=no.fromPath(n);return this.Hs(e,r).next(e=>{e||t.removeEntry(r,$s.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(e=>{e?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ho.or([()=>ho.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class dc{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Fi=n,this.Bi=r}static Li(e,t){let n=ll(),r=ll();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new dc(e,t.fromCache,n,r)}}class pc{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ki(e,t).next(i=>i||this.Gi(e,t,r,n)).next(n=>n||this.Qi(e,t))}Ki(e,t){if(Oa(t))return ho.resolve(null);let n=Ua(t);return this.indexManager.getIndexType(e,n).next(r=>0===r?null:(null!==t.limit&&1===r&&(t=qa(t,null,"F"),n=Ua(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(r=>{const i=ll(...r);return this.Ui.getDocuments(e,i).next(r=>this.indexManager.getMinOffset(e,n).next(n=>{const s=this.ji(t,r);return this.zi(t,s,i,n.readTime)?this.Ki(e,qa(t,null,"F")):this.Wi(e,s,t,n)}))})))}Gi(e,t,n,r){return Oa(t)||r.isEqual($s.min())?this.Qi(e,t):this.Ui.getDocuments(e,n).next(i=>{const s=this.ji(t,i);return this.zi(t,s,n,r)?this.Qi(e,t):(Ts()<=V.DEBUG&&Ns("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Qa(t)),this.Wi(e,s,t,io(r,-1)))})}ji(e,t){let n=new To(Ya(e));return t.forEach((t,r)=>{Wa(e,r)&&(n=n.add(r))}),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Qi(e,t){return Ts()<=V.DEBUG&&Ns("QueryEngine","Using full collection scan to execute query:",Qa(t)),this.Ui.getDocumentsMatchingQuery(e,t,oo.min())}Wi(e,t,n,r){return this.Ui.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class mc{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new So(Gs),this.Yi=new $a(e=>Aa(e),Da),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(n)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new tc(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function gc(e,t,n,r){return new mc(e,t,n,r)}async function yc(e,t){const n=Ps(e);return await n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.tr(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],s=[];let o=ll();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next(e=>({er:e,removedBatchIds:i,addedBatchIds:s}))})})}function vc(e){const t=Ps(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Bs.getLastRemoteSnapshotVersion(e))}function wc(e,t,n){let r=ll(),i=ll();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Za();return n.forEach((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual($s.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):Ns("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)}),{nr:r,sr:i}})}function bc(e,t){const n=Ps(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function _c(e,t){const n=Ps(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Bs.getTargetData(e,t).next(i=>i?(r=i,ho.resolve(r)):n.Bs.allocateTargetId(e).next(i=>(r=new Ku(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Bs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e})}async function Ec(e,t,n){const r=Ps(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,e=>r.persistence.referenceDelegate.removeTarget(e,i))}catch(e){if(!fo(e))throw e;Ns("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function xc(e,t,n){const r=Ps(e);let i=$s.min(),s=ll();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Ps(e),i=r.Yi.get(n);return void 0!==i?ho.resolve(r.Ji.get(i)):r.Bs.getTargetData(t,n)}(r,e,Ua(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{s=e})}).next(()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:$s.min(),n?s:ll())).next(e=>(Sc(r,Ga(t),e),{documents:e,ir:s})))}function Sc(e,t,n){let r=e.Xi.get(t)||$s.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Xi.set(t,r)}class kc{constructor(){this.activeTargetIds=cl()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cc{constructor(){this.Hr=new kc,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,n){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new kc,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Tc{Yr(e){}shutdown(){}}class Nc{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Ns("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Ns("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Ic=null;function Ac(){return null===Ic?Ic=268435456+Math.round(2147483648*Math.random()):Ic++,"0x"+Ic.toString(16)}const Dc={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Mc{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const Rc="WebChannelConnection";class Pc extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.mo=t+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,n,r,i){const s=Ac(),o=this.To(e,t);Ns("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={};return this.Eo(a,r,i),this.Ao(e,o,a,n).then(t=>(Ns("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t),t=>{throw As("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t})}vo(e,t,n,r,i,s){return this.Io(e,t,n,r,i)}Eo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ks,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}To(e,t){const n=Dc[e];return"".concat(this.mo,"/v1/").concat(t,":").concat(n)}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,n,r){const i=Ac();return new Promise((s,o)=>{const a=new bs;a.setWithCredentials(!0),a.listenOnce(ms.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case ps.NO_ERROR:const t=a.getResponseJson();Ns(Rc,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case ps.TIMEOUT:Ns(Rc,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Os(Ls.DEADLINE_EXCEEDED,"Request time out"));break;case ps.HTTP_ERROR:const n=a.getStatus();if(Ns(Rc,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ls).indexOf(t)>=0?t:Ls.UNKNOWN}(t.status);o(new Os(e,t.message))}else o(new Os(Ls.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Os(Ls.UNAVAILABLE,"Connection failed."));break;default:Ms()}}finally{Ns(Rc,"RPC '".concat(e,"' ").concat(i," completed."))}});const l=JSON.stringify(r);Ns(Rc,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)})}Ro(e,t,n){const r=Ac(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=fs(),o=ds(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.xmlHttpFactory=new vs({})),this.Eo(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const u=i.join("");Ns(Rc,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),a);const c=s.createWebChannel(u,a);let h=!1,f=!1;const d=new Mc({ro:t=>{f?Ns(Rc,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(Ns(Rc,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),h=!0),Ns(Rc,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},oo:()=>c.close()}),p=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return p(c,ws.EventType.OPEN,()=>{f||Ns(Rc,"RPC '".concat(e,"' stream ").concat(r," transport opened."))}),p(c,ws.EventType.CLOSE,()=>{f||(f=!0,Ns(Rc,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.wo())}),p(c,ws.EventType.ERROR,t=>{f||(f=!0,As(Rc,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.wo(new Os(Ls.UNAVAILABLE,"The operation could not be completed")))}),p(c,ws.EventType.MESSAGE,t=>{var n;if(!f){const i=t.data[0];Rs(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){Ns(Rc,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=Wl[e];if(void 0!==t)return Xl(t)}(t),i=o.message;void 0===n&&(n=Ls.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),f=!0,d.wo(new Os(n,i)),c.close()}else Ns(Rc,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d._o(i)}}),p(o,gs.STAT_EVENT,t=>{t.stat===ys.PROXY?Ns(Rc,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===ys.NOPROXY&&Ns(Rc,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))}),setTimeout(()=>{d.fo()},0),d}}function Lc(){return"undefined"!=typeof document?document:null}function Oc(e){return new yu(e,!0)}class jc{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ii=e,this.timerId=t,this.Po=n,this.bo=r,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),n=Math.max(0,Date.now()-this.Co),r=Math.max(0,t-n);r>0&&Ns("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.So," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Do=this.ii.enqueueAfterDelay(this.timerId,r,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class Fc{constructor(e,t,n,r,i,s,o,a){this.ii=e,this.$o=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new jc(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,t){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,4!==e?this.qo.reset():t&&t.code===Ls.RESOURCE_EXHAUSTED?(Is(t.toString()),Is("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):t&&t.code===Ls.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(t)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(e=>{let[n,r]=e;this.Fo===t&&this.Zo(n,r)},t=>{e(()=>{const e=new Os(Ls.UNKNOWN,"Fetching auth token failed: "+t.message);return this.tu(e)})})}Zo(e,t){const n=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{n(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(e=>{n(()=>this.tu(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Ns("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Ns("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class zc extends Fc{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ms()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Rs(void 0===t||"string"==typeof t),Do.fromBase64String(t||"")):(Rs(void 0===t||t instanceof Uint8Array),Do.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Ls.UNKNOWN:Xl(e.code);return new Os(t,e.message||"")}(o);n=new uu(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Cu(e,r.document.name),s=Eu(r.document.updateTime),o=r.document.createTime?Eu(r.document.createTime):$s.min(),a=new ra({mapValue:{fields:r.document.fields}}),l=sa.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new au(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Cu(e,r.document),s=r.readTime?Eu(r.readTime):$s.min(),o=sa.newNoDocument(i,s),a=r.removedTargetIds||[];n=new au([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Cu(e,r.document),s=r.removedTargetIds||[];n=new au([],s,i,null)}else{if(!("filter"in t))return Ms();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new Ql(r,i),o=e.targetId;n=new lu(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return $s.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?$s.min():t.readTime?Eu(t.readTime):$s.min()}(e);return this.listener.nu(t,n)}su(e){const t={};t.database=Iu(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Ma(r)?{documents:Ru(e,r)}:{query:Pu(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=bu(e,t.resumeToken);const r=vu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo($s.min())>0){n.readTime=wu(e,t.snapshotVersion.toTimestamp());const r=vu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ms()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Wo(t)}iu(e){const t={};t.database=Iu(this.serializer),t.removeTarget=e,this.Wo(t)}}class Vc extends Fc{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Rs(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function(e,t){return e&&e.length>0?(Rs(void 0!==t),e.map(e=>function(e,t){let n=e.updateTime?Eu(e.updateTime):Eu(t);return n.isEqual($s.min())&&(n=Eu(t)),new Tl(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=Eu(e.commitTime);return this.listener.cu(n,t)}return Rs(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Iu(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>Mu(this.serializer,e))};this.Wo(t)}}class Uc extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.lu=!1}fu(){if(this.lu)throw new Os(Ls.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,n){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(r=>{let[i,s]=r;return this.connection.Io(e,t,n,i,s)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ls.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Os(Ls.UNKNOWN,e.toString())})}vo(e,t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(i=>{let[s,o]=i;return this.connection.vo(e,t,n,s,o,r)}).catch(e=>{throw"FirebaseError"===e.name?(e.code===Ls.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Os(Ls.UNKNOWN,e.toString())})}terminate(){this.lu=!0}}class Bc{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.mu?(Is(t),this.mu=!1):Ns("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class qc{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(e=>{n.enqueueAndForget(async()=>{Jc(this)&&(Ns("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ps(e);t.vu.add(4),await Kc(t),t.bu.set("Unknown"),t.vu.delete(4),await Hc(t)}(this))})}),this.bu=new Bc(n,r)}}async function Hc(e){if(Jc(e))for(const t of e.Ru)await t(!0)}async function Kc(e){for(const t of e.Ru)await t(!1)}function Qc(e,t){const n=Ps(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),$c(n)?Xc(n):gh(n).Ko()&&Gc(n,t))}function Wc(e,t){const n=Ps(e),r=gh(n);n.Au.delete(t),r.Ko()&&Yc(n,t),0===n.Au.size&&(r.Ko()?r.jo():Jc(n)&&n.bu.set("Unknown"))}function Gc(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo($s.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gh(e).su(t)}function Yc(e,t){e.Vu.qt(t),gh(e).iu(t)}function Xc(e){e.Vu=new hu({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),gh(e).start(),e.bu.gu()}function $c(e){return Jc(e)&&!gh(e).Uo()&&e.Au.size>0}function Jc(e){return 0===Ps(e).vu.size}function Zc(e){e.Vu=void 0}async function eh(e){e.Au.forEach((t,n)=>{Gc(e,t)})}async function th(e,t){Zc(e),$c(e)?(e.bu.Iu(t),Xc(e)):e.bu.set("Unknown")}async function nh(e,t,n){if(e.bu.set("Online"),t instanceof uu&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Au.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Au.delete(r),e.Vu.removeTarget(r))}(e,t)}catch(n){Ns("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await rh(e,n)}else if(t instanceof au?e.Vu.Ht(t):t instanceof lu?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual($s.min()))try{const t=await vc(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Vu.ce(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Au.get(r);i&&e.Au.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach((t,n)=>{const r=e.Au.get(t);if(!r)return;e.Au.set(t,r.withResumeToken(Do.EMPTY_BYTE_STRING,r.snapshotVersion)),Yc(e,t);const i=new Ku(r.target,t,n,r.sequenceNumber);Gc(e,i)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){Ns("RemoteStore","Failed to raise snapshot:",t),await rh(e,t)}}async function rh(e,t,n){if(!fo(t))throw t;e.vu.add(1),await Kc(e),e.bu.set("Offline"),n||(n=()=>vc(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{Ns("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Hc(e)})}function ih(e,t){return t().catch(n=>rh(e,n,t))}async function sh(e){const t=Ps(e),n=yh(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;oh(t);)try{const e=await bc(t.localStore,r);if(null===e){0===t.Eu.length&&n.jo();break}r=e.batchId,ah(t,e)}catch(e){await rh(t,e)}lh(t)&&uh(t)}function oh(e){return Jc(e)&&e.Eu.length<10}function ah(e,t){e.Eu.push(t);const n=yh(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function lh(e){return Jc(e)&&!yh(e).Uo()&&e.Eu.length>0}function uh(e){yh(e).start()}async function ch(e){yh(e).hu()}async function hh(e){const t=yh(e);for(const n of e.Eu)t.uu(n.mutations)}async function fh(e,t,n){const r=e.Eu.shift(),i=Hl.from(r,t,n);await ih(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await sh(e)}async function dh(e,t){t&&yh(e).ou&&await async function(e,t){if(Yl(n=t.code)&&n!==Ls.ABORTED){const n=e.Eu.shift();yh(e).Qo(),await ih(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),await sh(e)}var n}(e,t),lh(e)&&uh(e)}async function ph(e,t){const n=Ps(e);n.asyncQueue.verifyOperationInProgress(),Ns("RemoteStore","RemoteStore received new credentials");const r=Jc(n);n.vu.add(3),await Kc(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Hc(n)}async function mh(e,t){const n=Ps(e);t?(n.vu.delete(2),await Hc(n)):t||(n.vu.add(2),await Kc(n),n.bu.set("Unknown"))}function gh(e){return e.Su||(e.Su=function(e,t,n){const r=Ps(e);return r.fu(),new zc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:eh.bind(null,e),ao:th.bind(null,e),nu:nh.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),$c(e)?Xc(e):e.bu.set("Unknown")):(await e.Su.stop(),Zc(e))})),e.Su}function yh(e){return e.Du||(e.Du=function(e,t,n){const r=Ps(e);return r.fu(),new Vc(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{uo:ch.bind(null,e),ao:dh.bind(null,e),au:hh.bind(null,e),cu:fh.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await sh(e)):(await e.Du.stop(),e.Eu.length>0&&(Ns("RemoteStore","Stopping write stream with ".concat(e.Eu.length," pending writes")),e.Eu=[]))})),e.Du}class vh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new js,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new vh(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Os(Ls.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wh(e,t){if(Is("AsyncQueue","".concat(t,": ").concat(e)),fo(e))return new Os(Ls.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class bh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||no.comparator(t.key,n.key):(e,t)=>no.comparator(e.key,t.key),this.keyedMap=tl(),this.sortedSet=new So(this.comparator)}static emptySet(e){return new bh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof bh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new bh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class _h{constructor(){this.Cu=new So(no.comparator)}track(e){const t=e.doc.key,n=this.Cu.get(t);n?0!==e.type&&3===n.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==n.type?this.Cu=this.Cu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Cu=this.Cu.remove(t):1===e.type&&2===n.type?this.Cu=this.Cu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):Ms():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,n)=>{e.push(n)}),e}}class Eh{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach(e=>{s.push({type:0,doc:e})}),new Eh(e,t,bh.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ha(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class xh{constructor(){this.Nu=void 0,this.listeners=[]}}class Sh{constructor(){this.queries=new $a(e=>Ka(e),Ha),this.onlineState="Unknown",this.ku=new Set}}async function kh(e,t){const n=Ps(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new xh),i)try{s.Nu=await n.onListen(r)}catch(e){const n=wh(e,"Initialization of query '".concat(Qa(t.query),"' failed"));return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&Ih(n)}async function Ch(e,t){const n=Ps(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function Th(e,t){const n=Ps(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.listeners)e.$u(i)&&(r=!0);t.Nu=i}}r&&Ih(n)}function Nh(e,t,n){const r=Ps(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function Ih(e){e.ku.forEach(e=>{e.next()})}class Ah{constructor(e,t,n){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=n||{}}$u(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Eh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Ku||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){if(e.docChanges.length>0)return!0;const t=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Uu(e){e=Eh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class Dh{constructor(e){this.key=e}}class Mh{constructor(e){this.key=e}}class Rh{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ll(),this.mutatedKeys=ll(),this.tc=Ya(e),this.ec=new bh(this.tc)}get nc(){return this.Yu}sc(e,t){const n=t?t.ic:new _h,r=t?t.ec:this.ec;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const u=r.get(e),c=Wa(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),f=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let d=!1;u&&c?u.data.isEqual(c.data)?h!==f&&(n.track({type:3,doc:c}),d=!0):this.rc(u,c)||(n.track({type:2,doc:c}),d=!0,(a&&this.tc(c,a)>0||l&&this.tc(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),d=!0):u&&!c&&(n.track({type:1,doc:u}),d=!0,(a||l)&&(o=!0)),d&&(c?(s=s.add(c),i=f?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ec:s,ic:n,zi:o,mutatedKeys:i}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ms()}};return n(e)-n(t)}(e.type,t.type)||this.tc(e.doc,t.doc)),this.oc(n);const s=t?this.uc():[],o=0===this.Zu.size&&this.current?1:0,a=o!==this.Xu;return this.Xu=o,0!==i.length||a?{snapshot:new Eh(this.query,e.ec,r,i,e.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),cc:s}:{cc:s}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new _h,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(e=>this.Yu=this.Yu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Yu=this.Yu.delete(e)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ll(),this.ec.forEach(e=>{this.ac(e.key)&&(this.Zu=this.Zu.add(e.key))});const t=[];return e.forEach(e=>{this.Zu.has(e)||t.push(new Mh(e))}),this.Zu.forEach(n=>{e.has(n)||t.push(new Dh(n))}),t}hc(e){this.Yu=e.ir,this.Zu=ll();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return Eh.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class Ph{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Lh{constructor(e){this.key=e,this.fc=!1}}class Oh{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.dc={},this.wc=new $a(e=>Ka(e),Ha),this._c=new Map,this.mc=new Set,this.gc=new So(no.comparator),this.yc=new Map,this.Ic=new ic,this.Tc={},this.Ec=new Map,this.Ac=Ju.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}async function jh(e,t){const n=tf(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const e=await _c(n.localStore,Ua(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Fh(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&Qc(n.remoteStore,e)}return i}async function Fh(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.sc(n);i.zi&&(i=await xc(e.localStore,t.query,!1).then(e=>{let{documents:n}=e;return t.view.sc(n,i)}));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return Yh(e,t.targetId,o.cc),o.snapshot}(e,t,n,r);const s=await xc(e.localStore,t,!0),o=new Rh(t,s.ir),a=o.sc(s.documents),l=ou.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);Yh(e,n,u.cc);const c=new Ph(t,n,o);return e.wc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}async function zh(e,t){const n=Ps(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(e=>!Ha(e,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await Ec(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Wc(n.remoteStore,r.targetId),Wh(n,r.targetId)}).catch(co)):(Wh(n,r.targetId),await Ec(n.localStore,r.targetId,!0))}async function Vh(e,t){const n=Ps(e);try{const e=await function(e,t){const n=Ps(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const s=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const o=[];t.targetChanges.forEach((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Bs.removeMatchingKeys(e,s.removedDocuments,a).next(()=>n.Bs.addMatchingKeys(e,s.addedDocuments,a)));let u=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?u=u.withResumeToken(Do.EMPTY_BYTE_STRING,$s.min()).withLastLimboFreeSnapshotVersion($s.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,u,s)&&o.push(n.Bs.updateTargetData(e,u))});let a=Za(),l=ll();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),o.push(wc(e,s,t.documentUpdates).next(e=>{a=e.nr,l=e.sr})),!r.isEqual($s.min())){const t=n.Bs.getLastRemoteSnapshotVersion(e).next(t=>n.Bs.setTargetsMetadata(e,e.currentSequenceNumber,r));o.push(t)}return ho.waitFor(o).next(()=>s.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,l)).next(()=>a)}).then(e=>(n.Ji=i,e))}(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.yc.get(t);r&&(Rs(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.fc=!0:e.modifiedDocuments.size>0?Rs(r.fc):e.removedDocuments.size>0&&(Rs(r.fc),r.fc=!1))}),await Jh(n,e,t)}catch(e){await co(e)}}function Uh(e,t,n){const r=Ps(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wc.forEach((n,r)=>{const i=r.view.Mu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Ps(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Mu(t)&&(r=!0)}),r&&Ih(n)}(r.eventManager,t),e.length&&r.dc.nu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Bh(e,t,n){const r=Ps(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let e=new So(no.comparator);e=e.insert(s,sa.newNoDocument(s,$s.min()));const n=ll().add(s),i=new su($s.min(),new Map,new So(Gs),e,n);await Vh(r,i),r.gc=r.gc.remove(s),r.yc.delete(t),$h(r)}else await Ec(r.localStore,t,!1).then(()=>Wh(r,t,n)).catch(co)}async function qh(e,t){const n=Ps(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ps(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=ho.resolve();return s.forEach(e=>{o=o.next(()=>r.getEntry(t,e)).next(t=>{const s=n.docVersions.get(e);Rs(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),o.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ll();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}(n.localStore,t);Qh(n,r,null),Kh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Jh(n,e)}catch(e){await co(e)}}async function Hh(e,t,n){const r=Ps(e);try{const e=await function(e,t){const n=Ps(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Rs(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);Qh(r,t,n),Kh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Jh(r,e)}catch(n){await co(n)}}function Kh(e,t){(e.Ec.get(t)||[]).forEach(e=>{e.resolve()}),e.Ec.delete(t)}function Qh(e,t,n){const r=Ps(e);let i=r.Tc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function Wh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(t=>{e.Ic.containsKey(t)||Gh(e,t)})}function Gh(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);null!==n&&(Wc(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),$h(e))}function Yh(e,t,n){for(const r of n)r instanceof Dh?(e.Ic.addReference(r.key,t),Xh(e,r)):r instanceof Mh?(Ns("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||Gh(e,r.key)):Ms()}function Xh(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(Ns("SyncEngine","New document in limbo: "+n),e.mc.add(r),$h(e))}function $h(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new no(Zs.fromString(t)),r=e.Ac.next();e.yc.set(r,new Lh(n)),e.gc=e.gc.insert(n,r),Qc(e.remoteStore,new Ku(Ua(La(n.path)),r,"TargetPurposeLimboResolution",po.ct))}}async function Jh(e,t,n){const r=Ps(e),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((e,a)=>{o.push(r.Rc(a,t,n).then(e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=dc.Li(a.targetId,e);s.push(t)}}))}),await Promise.all(o),r.dc.nu(i),await async function(e,t){const n=Ps(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>ho.forEach(t,t=>ho.forEach(t.Fi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>ho.forEach(t.Bi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!fo(e))throw e;Ns("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.Ji.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(e,i)}}}(r.localStore,s))}async function Zh(e,t){const n=Ps(e);if(!n.currentUser.isEqual(t)){Ns("SyncEngine","User change. New user:",t.toKey());const e=await yc(n.localStore,t);n.currentUser=t,function(e){e.Ec.forEach(e=>{e.forEach(e=>{e.reject(new Os(Ls.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.Ec.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Jh(n,e.er)}}function ef(e,t){const n=Ps(e),r=n.yc.get(t);if(r&&r.fc)return ll().add(r.key);{let e=ll();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.wc.get(t);e=e.unionWith(r.view.nc)}return e}}function tf(e){const t=Ps(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Vh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ef.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Bh.bind(null,t),t.dc.nu=Th.bind(null,t.eventManager),t.dc.Pc=Nh.bind(null,t.eventManager),t}function nf(e){const t=Ps(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=qh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Hh.bind(null,t),t}class rf{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Oc(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return gc(this.persistence,new pc,e.initialUser,this.serializer)}createPersistence(e){return new cc(fc.zs,this.serializer)}createSharedClientState(e){return new Cc}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class sf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Uh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zh.bind(null,this.syncEngine),await mh(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Sh}createDatastore(e){const t=Oc(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new Pc(r));var r;return function(e,t,n,r){return new Uc(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>Uh(this.syncEngine,e,0),s=Nc.D()?new Nc:new Tc,new qc(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new Oh(e,t,n,r,i,s);return o&&(a.vc=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=Ps(e);Ns("RemoteStore","RemoteStore shutting down."),t.vu.add(5),await Kc(t),t.Pu.shutdown(),t.bu.set("Unknown")}(this.remoteStore)}}class of{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):Is("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class af{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Ss.UNAUTHENTICATED,this.clientId=Ws.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async e=>{Ns("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e}),this.appCheckCredentials.start(n,e=>(Ns("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Os(Ls.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new js;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=wh(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function lf(e,t){e.asyncQueue.verifyOperationInProgress(),Ns("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async e=>{r.isEqual(e)||(await yc(t.localStore,e),r=e)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function uf(e,t){e.asyncQueue.verifyOperationInProgress();const n=await hf(e);Ns("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(e=>ph(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>ph(t.remoteStore,n)),e._onlineComponents=t}function cf(e){return"FirebaseError"===e.name?e.code===Ls.FAILED_PRECONDITION||e.code===Ls.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function hf(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){Ns("FirestoreClient","Using user provided OfflineComponentProvider");try{await lf(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!cf(n))throw n;As("Error using user provided cache. Falling back to memory cache: "+n),await lf(e,new rf)}}else Ns("FirestoreClient","Using default OfflineComponentProvider"),await lf(e,new rf);return e._offlineComponents}async function ff(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(Ns("FirestoreClient","Using user provided OnlineComponentProvider"),await uf(e,e._uninitializedComponentsProvider._online)):(Ns("FirestoreClient","Using default OnlineComponentProvider"),await uf(e,new sf))),e._onlineComponents}function df(e){return ff(e).then(e=>e.syncEngine)}async function pf(e){const t=await ff(e),n=t.eventManager;return n.onListen=jh.bind(null,t.syncEngine),n.onUnlisten=zh.bind(null,t.syncEngine),n}function mf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new js;return e.asyncQueue.enqueueAndForget(async()=>function(e,t,n,r,i){const s=new of({next:n=>{t.enqueueAndForget(()=>Ch(e,o)),n.fromCache&&"server"===r.source?i.reject(new Os(Ls.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Ah(n,s,{includeMetadataChanges:!0,Ku:!0});return kh(e,o)}(await pf(e),e.asyncQueue,t,n,r)),r.promise}function gf(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const yf=new Map;function vf(e,t,n){if(!n)throw new Os(Ls.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function wf(e){if(!no.isDocumentKey(e))throw new Os(Ls.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function bf(e){if(no.isDocumentKey(e))throw new Os(Ls.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function _f(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Ms()}function Ef(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Os(Ls.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_f(e);throw new Os(Ls.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}function xf(e,t){if(t<=0)throw new Os(Ls.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}class Sf{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Os(Ls.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Os(Ls.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Os(Ls.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gf(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Os(Ls.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Os(Ls.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Os(Ls.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(t=this.experimentalLongPollingOptions,n=e.experimentalLongPollingOptions,t.timeoutSeconds===n.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var t,n}}class kf{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Sf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Os(Ls.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Os(Ls.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Sf(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new zs;switch(e.type){case"firstParty":return new qs(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Os(Ls.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=yf.get(e);t&&(Ns("ComponentProvider","Removing Datastore"),yf.delete(e),t.terminate())}(this),Promise.resolve()}}function Cf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Ef(e,kf))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&As("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Ss.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[_(JSON.stringify({alg:"none",type:"JWT"})),_(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Os(Ls.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Ss(s)}e._authCredentials=new Vs(new Fs(t,n))}}class Tf{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new If(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Tf(this.firestore,e,this._key)}}class Nf{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Nf(this.firestore,e,this._query)}}class If extends Nf{constructor(e,t,n){super(e,t,La(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Tf(this.firestore,null,new no(e))}withConverter(e){return new If(this.firestore,e,this._path)}}function Af(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=P(e),vf("collection","path",t),e instanceof kf){const n=Zs.fromString(t,...r);return bf(n),new If(e,null,n)}{if(!(e instanceof Tf||e instanceof If))throw new Os(Ls.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Zs.fromString(t,...r));return bf(n),new If(e.firestore,null,n)}}class Df{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new jc(this,"async_queue_retry"),this.Xc=()=>{const e=Lc();e&&Ns("AsyncQueue","Visibility state changed to "+e.visibilityState),this.qo.Mo()};const e=Lc();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=Lc();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new js;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(0!==this.Qc.length){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!fo(e))throw e;Ns("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(e=>{this.Wc=e,this.Hc=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Is("INTERNAL UNHANDLED ERROR: ",t),e}).then(e=>(this.Hc=!1,e))));return this.Gc=t,t}enqueueAfterDelay(e,t,n){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const r=vh.createAndSchedule(this,e,t,n,e=>this.na(e));return this.zc.push(r),r}Zc(){this.Wc&&Ms()}verifyOperationInProgress(){}async sa(){let e;do{e=this.Gc,await e}while(e!==this.Gc)}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Mf extends kf{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Df,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Pf(this),this._firestoreClient.terminate()}}function Rf(e){return e._firestoreClient||Pf(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Pf(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new zo(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,gf(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new af(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}class Lf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Lf(Do.fromBase64String(e))}catch(e){throw new Os(Ls.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new Lf(Do.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Of{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Os(Ls.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new to(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jf{constructor(e){this._methodName=e}}class Ff{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Os(Ls.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Os(Ls.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Gs(this._lat,e._lat)||Gs(this._long,e._long)}}const zf=/^__.*__$/;class Vf{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new jl(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ol(e,this.data,t,this.fieldTransforms)}}function Uf(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ms()}}class Bf{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Bf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.fa(e),r}da(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.aa({path:n,la:!1});return r.ua(),r}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return td(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(Uf(this.ca)&&zf.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class qf{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Oc(e)}ya(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Bf({ca:e,methodName:t,ga:n,path:to.emptyPath(),la:!1,ma:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hf(e){const t=e._freezeSettings(),n=Oc(e._databaseId);return new qf(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Kf(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.ya(s.merge||s.mergeFields?2:0,t,n,i);$f("Data must be an object, but it was:",o,r);const a=Yf(r,o);let l,u;if(s.merge)l=new Io(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=Jf(t,r,n);if(!o.contains(i))throw new Os(Ls.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));nd(e,i)||e.push(i)}l=new Io(e),u=o.fieldTransforms.filter(e=>l.covers(e.field))}else l=null,u=o.fieldTransforms;return new Vf(new ra(a),l,u)}class Qf extends jf{_toFieldTransform(e){return new Cl(e.path,new vl)}isEqual(e){return e instanceof Qf}}function Wf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Gf(n,e.ya(r?4:3,t))}function Gf(e,t){if(Xf(e=P(e)))return $f("Unsupported field value:",t,e),Yf(e,t);if(e instanceof jf)return function(e,t){if(!Uf(t.ca))throw t._a("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t._a("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&4!==t.ca)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Gf(i,t.wa(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=P(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return dl(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Xs.fromDate(e);return{timestampValue:wu(t.serializer,n)}}if(e instanceof Xs){const n=new Xs(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:wu(t.serializer,n)}}if(e instanceof Ff)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Lf)return{bytesValue:bu(t.serializer,e._byteString)};if(e instanceof Tf){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:xu(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a("Unsupported field value: ".concat(_f(e)))}(e,t)}function Yf(e,t){const n={};return xo(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Eo(e,(e,r)=>{const i=Gf(r,t.ha(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function Xf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Xs||e instanceof Ff||e instanceof Lf||e instanceof Tf||e instanceof jf)}function $f(e,t,n){if(!Xf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=_f(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}}function Jf(e,t,n){if((t=P(t))instanceof Of)return t._internalPath;if("string"==typeof t)return ed(e,t);throw td("Field path arguments must be of type string or ",e,!1,void 0,n)}const Zf=new RegExp("[~\\*/\\[\\]]");function ed(e,t,n){if(t.search(Zf)>=0)throw td("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Of(...t.split("."))._internalPath}catch(r){throw td("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function td(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new Os(Ls.INVALID_ARGUMENT,a+e+l)}function nd(e,t){return e.some(e=>e.isEqual(t))}class rd{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Tf(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new id(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(sd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class id extends rd{data(){return super.data()}}function sd(e,t){return"string"==typeof t?ed(e,t):t instanceof Of?t._internalPath:t._delegate._internalPath}function od(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Os(Ls.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ad{}class ld extends ad{}class ud extends ld{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new ud(e,t,n)}_apply(e){const t=this._parse(e);return md(e._query,t),new Nf(e.firestore,e.converter,Ba(e._query,t))}_parse(e){const t=Hf(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Os(Ls.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){pd(o,s);const t=[];for(const n of o)t.push(dd(r,e,n));a={arrayValue:{values:t}}}else a=dd(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||pd(o,s),a=Wf(n,"where",o,"in"===s||"not-in"===s);return fa.create(i,s,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class cd extends ad{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new cd(e,t)}_parse(e){const t=this._queryConstraints.map(t=>t._parse(e)).filter(e=>e.getFilters().length>0);return 1===t.length?t[0]:da.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)md(n,i),n=Ba(n,i)}(e._query,t),new Nf(e.firestore,e.converter,Ba(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class hd extends ld{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new hd(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Os(Ls.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Os(Ls.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new ua(t,n);return function(e,t){if(null===ja(e)){const n=Fa(e);null!==n&&gd(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Nf(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Ra(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class fd extends ld{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new fd(e,t,n)}_apply(e){return new Nf(e.firestore,e.converter,qa(e._query,this._limit,this._limitType))}}function dd(e,t,n){if("string"==typeof(n=P(n))){if(""===n)throw new Os(Ls.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!za(t)&&-1!==n.indexOf("/"))throw new Os(Ls.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(Zs.fromString(n));if(!no.isDocumentKey(r))throw new Os(Ls.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return Yo(e,new no(r))}if(n instanceof Tf)return Yo(e,n._key);throw new Os(Ls.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(_f(n),"."))}function pd(e,t){if(!Array.isArray(e)||0===e.length)throw new Os(Ls.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function md(e,t){if(t.isInequality()){const n=Fa(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new Os(Ls.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));const i=ja(e);null!==i&&gd(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Os(Ls.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Os(Ls.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}function gd(e,t,n){if(!n.isEqual(t))throw new Os(Ls.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}class yd{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Bo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Po(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Lo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Ms()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return Eo(e,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new Ff(Po(e.latitude),Po(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=jo(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Fo(e));default:return null}}convertTimestamp(e){const t=Ro(e);return new Xs(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Zs.fromString(e);Rs(Hu(n));const r=new Vo(n.get(1),n.get(3)),i=new no(n.popFirst(5));return r.isEqual(t)||Is("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function vd(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class wd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bd extends rd{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new _d(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(sd("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class _d extends bd{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Ed{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new wd(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new _d(this._firestore,this._userDataWriter,n.key,n,new wd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Os(Ls.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>{const r=new _d(e._firestore,e._userDataWriter,n.doc.key,n.doc,new wd(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}})}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new _d(e._firestore,e._userDataWriter,t.doc.key,t.doc,new wd(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:xd(t.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function xd(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ms()}}class Sd extends yd{constructor(e){super(),this.firestore=e}convertBytes(e){return new Lf(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Tf(this.firestore,null,t)}}function kd(e){e=Ef(e,Nf);const t=Ef(e.firestore,Mf),n=Rf(t),r=new Sd(t);return od(e._query),mf(n,e._query).then(n=>new Ed(t,r,e,n))}function Cd(e,t){const n=Ef(e.firestore,Mf),r=function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=P(e),1===arguments.length&&(t=Ws.A()),vf("doc","path",t),e instanceof kf){const n=Zs.fromString(t,...r);return wf(n),new Tf(e,null,new no(n))}{if(!(e instanceof Tf||e instanceof If))throw new Os(Ls.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Zs.fromString(t,...r));return wf(n),new Tf(e.firestore,e instanceof If?e.converter:null,new no(n))}}(e),i=vd(e.converter,t);return Td(n,[Kf(Hf(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Nl.exists(!1))]).then(()=>r)}function Td(e,t){return function(e,t){const n=new js;return e.asyncQueue.enqueueAndForget(async()=>async function(e,t,n){const r=nf(e);try{const e=await function(e,t){const n=Ps(e),r=Xs.now(),i=t.reduce((e,t)=>e.add(t.key),ll());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=Za(),l=ll();return n.Zi.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(l=l.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{s=i;const o=[];for(const e of t){const t=Pl(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new jl(e.key,t,ia(t.value.mapValue),Nl.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)}).next(t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:o.batchId,changes:nl(s)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Tc[e.currentUser.toKey()];r||(r=new So(Gs)),r=r.insert(t,n),e.Tc[e.currentUser.toKey()]=r}(r,e.batchId,n),await Jh(r,e.changes),await sh(r.remoteStore)}catch(e){const t=wh(e,"Failed to persist write");n.reject(t)}}(await df(e),t,n)),n.promise}(Rf(e),t)}function Nd(){return new Qf("serverTimestamp")}!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ks=e}("9.23.0"),Ue(new L("firestore",(e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new Mf(new Us(e.getProvider("auth-internal")),new Ks(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Os(Ls.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vo(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Qe(xs,"3.13.0",e),Qe(xs,"3.13.0","esm2017")}();const Id=Ke({apiKey:"AIzaSyDoTztz2TVK_s1Jm1m4x8U6GtLqWnce2kE",authDomain:"scammerdetection.firebaseapp.com",projectId:"scammerdetection",storageBucket:"scammerdetection.firebasestorage.app",messagingSenderId:"747621991332",appId:"1:747621991332:web:9d0dc613f839503c447731",measurementId:"G-Z5GKXFDL78"}),Ad=function(e,t){const n="object"==typeof e?e:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe;const t=Fe.get(e);if(!t&&e===Oe&&C())return Ke();if(!t)throw qe.create("no-app",{appName:e});return t}(),r="string"==typeof e?e:t||"(default)",i=Be(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=k("firestore");e&&Cf(i,...e)}return i}(Id),Dd=async()=>{try{const t=function(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof ad&&n.push(t),n=n.concat(i),function(e){const t=e.filter(e=>e instanceof cd).length,n=e.filter(e=>e instanceof ud).length;if(t>1||t>0&&n>0)throw new Os(Ls.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}(Af(Ad,"submissions"),function(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=sd("orderBy",e);return hd._create(n,t)}("timestamp","desc"),(xf("limit",e=100),fd._create("limit",e,"F")));return(await kd(t)).docs.map(e=>u({id:e.id},e.data()))}catch(t){throw console.error("Error getting submissions from Firebase:",t),t}var e};var Md=n(579);const Rd=e=>{let{onSubmissionSuccess:t,onError:n}=e;const[i,s]=(0,r.useState)(""),[o,a]=(0,r.useState)("message"),[l,c]=(0,r.useState)(!1),[h,f]=(0,r.useState)(null),d=e=>{switch(e){case"scam":return"#ef4444";case"suspicious":return"#f59e0b";case"safe":return"#10b981";default:return"#6b7280"}};return(0,Md.jsxs)("div",{className:"submission-form-container",children:[(0,Md.jsxs)("div",{className:"form-header",children:[(0,Md.jsx)("h2",{children:"Submit Suspicious Content"}),(0,Md.jsx)("p",{children:"Enter a suspicious URL or message to analyze for potential scams"})]}),(0,Md.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i.trim()){c(!0),f(null);try{const e=await fetch("".concat("https://scammerdetectionnetwork.netlify.app/.netlify/functions","/submit"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({text:i.trim(),type:o})}),a=await e.json();if(e.ok){try{const e=await(async e=>{try{return(await Cd(Af(Ad,"submissions"),u(u({},e),{},{timestamp:Nd()}))).id}catch(t){throw console.error("Error saving to Firebase:",t),t}})({text:i.trim(),type:o,riskScore:a.submission.riskScore,riskCategory:a.submission.riskCategory,features:a.submission.features,similarSubmissions:a.submission.similarSubmissions||[]});await(async e=>{try{return(await Cd(Af(Ad,"nodes"),u(u({},e),{},{timestamp:Nd()}))).id}catch(t){throw console.error("Error saving node to Firebase:",t),t}})({id:e,label:a.submission.text.length>50?a.submission.text.substring(0,50)+"...":a.submission.text,riskScore:a.submission.riskScore,riskCategory:a.submission.riskCategory,type:o,timestamp:new Date}),console.log("\u2705 Data saved to Firebase successfully")}catch(r){console.error("\u26a0\ufe0f Firebase save error (but ML analysis succeeded):",r)}f(a),t(a.submission),s("")}else n(a.error||"Failed to analyze submission")}catch(a){console.error("Submission error:",a),n("Network error. Please try again.")}finally{c(!1)}}else n("Please enter some text to analyze")},className:"submission-form",children:[(0,Md.jsxs)("div",{className:"form-group",children:[(0,Md.jsx)("label",{htmlFor:"type",children:"Content Type"}),(0,Md.jsxs)("select",{id:"type",value:o,onChange:e=>a(e.target.value),className:"form-select",children:[(0,Md.jsx)("option",{value:"message",children:"Text Message"}),(0,Md.jsx)("option",{value:"url",children:"URL/Link"}),(0,Md.jsx)("option",{value:"email",children:"Email"}),(0,Md.jsx)("option",{value:"sms",children:"SMS"})]})]}),(0,Md.jsxs)("div",{className:"form-group",children:[(0,Md.jsx)("label",{htmlFor:"text",children:"Content to Analyze"}),(0,Md.jsx)("textarea",{id:"text",value:i,onChange:e=>s(e.target.value),placeholder:"Enter the ".concat(o," content here..."),className:"form-textarea",rows:6,required:!0}),(0,Md.jsxs)("div",{className:"char-count",children:[i.length," characters"]})]}),(0,Md.jsx)("button",{type:"submit",disabled:l||!i.trim(),className:"submit-button btn-hover",children:l?(0,Md.jsxs)(Md.Fragment,{children:[(0,Md.jsx)("div",{className:"spinner"}),"Analyzing..."]}):(0,Md.jsxs)(Md.Fragment,{children:[(0,Md.jsx)(y,{size:20}),"Analyze Content"]})})]}),h&&(0,Md.jsxs)("div",{className:"analysis-result scale-in",children:[(0,Md.jsxs)("div",{className:"result-header",children:[(e=>{switch(e){case"scam":return(0,Md.jsx)(p,{size:24,color:"#ef4444"});case"suspicious":return(0,Md.jsx)(m,{size:24,color:"#f59e0b"});case"safe":return(0,Md.jsx)(g,{size:24,color:"#10b981"});default:return null}})(h.submission.riskCategory),(0,Md.jsx)("h3",{children:"Analysis Complete"})]}),(0,Md.jsxs)("div",{className:"result-details",children:[(0,Md.jsxs)("div",{className:"risk-score",children:[(0,Md.jsx)("span",{className:"score-label",children:"Risk Score:"}),(0,Md.jsxs)("span",{className:"score-value",style:{color:d(h.submission.riskCategory)},children:[h.submission.riskScore,"/100"]})]}),(0,Md.jsxs)("div",{className:"risk-category",children:[(0,Md.jsx)("span",{className:"category-label",children:"Classification:"}),(0,Md.jsx)("span",{className:"category-value",style:{color:d(h.submission.riskCategory),backgroundColor:d(h.submission.riskCategory)+"20"},children:h.submission.riskCategory.toUpperCase()})]})]}),(0,Md.jsxs)("div",{className:"features-analysis",children:[(0,Md.jsx)("h4",{children:"Detected Features:"}),(0,Md.jsx)("div",{className:"features-grid",children:Object.entries(h.submission.features).map(e=>{let[t,n]=e;return"boolean"===typeof n?(0,Md.jsxs)("div",{className:"feature-item ".concat(n?"detected":"not-detected"),children:[(0,Md.jsx)("span",{className:"feature-name",children:t.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}),(0,Md.jsx)("span",{className:"feature-value",children:n?"\u2713":"\u2717"})]},t):"number"===typeof n?(0,Md.jsxs)("div",{className:"feature-item",children:[(0,Md.jsx)("span",{className:"feature-name",children:t.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}),(0,Md.jsx)("span",{className:"feature-value",children:n})]},t):null})})]}),h.submission.similarSubmissions&&h.submission.similarSubmissions.length>0&&(0,Md.jsxs)("div",{className:"similarity-info",children:[(0,Md.jsx)("h4",{children:"Similar Submissions Found:"}),(0,Md.jsxs)("p",{children:["This content is similar to ",h.submission.similarSubmissions.length," other submission(s) in our database."]})]})]}),(0,Md.jsxs)("div",{className:"tips-section",children:[(0,Md.jsx)("h3",{children:"What to Look For"}),(0,Md.jsxs)("div",{className:"tips-grid",children:[(0,Md.jsxs)("div",{className:"tip-card",children:[(0,Md.jsx)("h4",{children:"\ud83d\udea8 High Risk Indicators"}),(0,Md.jsxs)("ul",{children:[(0,Md.jsx)("li",{children:"Urgent action required"}),(0,Md.jsx)("li",{children:"Threats of account suspension"}),(0,Md.jsx)("li",{children:"Requests for personal information"}),(0,Md.jsx)("li",{children:"Unusual payment demands"})]})]}),(0,Md.jsxs)("div",{className:"tip-card",children:[(0,Md.jsx)("h4",{children:"\u26a0\ufe0f Suspicious Patterns"}),(0,Md.jsxs)("ul",{children:[(0,Md.jsx)("li",{children:"Generic greetings"}),(0,Md.jsx)("li",{children:"Poor grammar/spelling"}),(0,Md.jsx)("li",{children:"Unfamiliar sender addresses"}),(0,Md.jsx)("li",{children:"Too-good-to-be-true offers"})]})]}),(0,Md.jsxs)("div",{className:"tip-card",children:[(0,Md.jsx)("h4",{children:"\u2705 Safe Practices"}),(0,Md.jsxs)("ul",{children:[(0,Md.jsx)("li",{children:"Verify sender identity"}),(0,Md.jsx)("li",{children:"Check official websites"}),(0,Md.jsx)("li",{children:"Don't click suspicious links"}),(0,Md.jsx)("li",{children:"Report suspicious content"})]})]})]})]})]})};function Pd(){}function Ld(e){return null==e?Pd:function(){return this.querySelector(e)}}function Od(){return[]}function jd(e){return null==e?Od:function(){return this.querySelectorAll(e)}}function Fd(e){return function(){return function(e){return null==e?[]:Array.isArray(e)?e:Array.from(e)}(e.apply(this,arguments))}}function zd(e){return function(){return this.matches(e)}}function Vd(e){return function(t){return t.matches(e)}}var Ud=Array.prototype.find;function Bd(){return this.firstElementChild}var qd=Array.prototype.filter;function Hd(){return Array.from(this.children)}function Kd(e){return new Array(e.length)}function Qd(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}function Wd(e,t,n,r,i,s){for(var o,a=0,l=t.length,u=s.length;a<u;++a)(o=t[a])?(o.__data__=s[a],r[a]=o):n[a]=new Qd(e,s[a]);for(;a<l;++a)(o=t[a])&&(i[a]=o)}function Gd(e,t,n,r,i,s,o){var a,l,u,c=new Map,h=t.length,f=s.length,d=new Array(h);for(a=0;a<h;++a)(l=t[a])&&(d[a]=u=o.call(l,l.__data__,a,t)+"",c.has(u)?i[a]=l:c.set(u,l));for(a=0;a<f;++a)u=o.call(e,s[a],a,s)+"",(l=c.get(u))?(r[a]=l,l.__data__=s[a],c.delete(u)):n[a]=new Qd(e,s[a]);for(a=0;a<h;++a)(l=t[a])&&c.get(d[a])===l&&(i[a]=l)}function Yd(e){return e.__data__}function Xd(e){return"object"===typeof e&&"length"in e?e:Array.from(e)}function $d(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}Qd.prototype={constructor:Qd,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};var Jd="http://www.w3.org/1999/xhtml";const Zd={svg:"http://www.w3.org/2000/svg",xhtml:Jd,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ep(e){var t=e+="",n=t.indexOf(":");return n>=0&&"xmlns"!==(t=e.slice(0,n))&&(e=e.slice(n+1)),Zd.hasOwnProperty(t)?{space:Zd[t],local:e}:e}function tp(e){return function(){this.removeAttribute(e)}}function np(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rp(e,t){return function(){this.setAttribute(e,t)}}function ip(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function sp(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}}function op(e,t){return function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ap(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function lp(e){return function(){this.style.removeProperty(e)}}function up(e,t,n){return function(){this.style.setProperty(e,t,n)}}function cp(e,t,n){return function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function hp(e,t){return e.style.getPropertyValue(t)||ap(e).getComputedStyle(e,null).getPropertyValue(t)}function fp(e){return function(){delete this[e]}}function dp(e,t){return function(){this[e]=t}}function pp(e,t){return function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}}function mp(e){return e.trim().split(/^|\s+/)}function gp(e){return e.classList||new yp(e)}function yp(e){this._node=e,this._names=mp(e.getAttribute("class")||"")}function vp(e,t){for(var n=gp(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function wp(e,t){for(var n=gp(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function bp(e){return function(){vp(this,e)}}function _p(e){return function(){wp(this,e)}}function Ep(e,t){return function(){(t.apply(this,arguments)?vp:wp)(this,e)}}function xp(){this.textContent=""}function Sp(e){return function(){this.textContent=e}}function kp(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}function Cp(){this.innerHTML=""}function Tp(e){return function(){this.innerHTML=e}}function Np(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}function Ip(){this.nextSibling&&this.parentNode.appendChild(this)}function Ap(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Dp(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Jd&&t.documentElement.namespaceURI===Jd?t.createElement(e):t.createElementNS(n,e)}}function Mp(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Rp(e){var t=ep(e);return(t.local?Mp:Dp)(t)}function Pp(){return null}function Lp(){var e=this.parentNode;e&&e.removeChild(this)}function Op(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jp(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Fp(e){return function(){var t=this.__on;if(t){for(var n,r=0,i=-1,s=t.length;r<s;++r)n=t[r],e.type&&n.type!==e.type||n.name!==e.name?t[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?t.length=i:delete this.__on}}}function zp(e,t,n){return function(){var r,i=this.__on,s=function(e){return function(t){e.call(this,t,this.__data__)}}(t);if(i)for(var o=0,a=i.length;o<a;++o)if((r=i[o]).type===e.type&&r.name===e.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=s,r.options=n),void(r.value=t);this.addEventListener(e.type,s,n),r={type:e.type,name:e.name,value:t,listener:s,options:n},i?i.push(r):this.__on=[r]}}function Vp(e,t,n){var r=ap(e),i=r.CustomEvent;"function"===typeof i?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Up(e,t){return function(){return Vp(this,e,t)}}function Bp(e,t){return function(){return Vp(this,e,t.apply(this,arguments))}}yp.prototype={add:function(e){this._names.indexOf(e)<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};var qp=[null];function Hp(e,t){this._groups=e,this._parents=t}function Kp(){return new Hp([[document.documentElement]],qp)}Hp.prototype=Kp.prototype={constructor:Hp,select:function(e){"function"!==typeof e&&(e=Ld(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s,o,a=t[i],l=a.length,u=r[i]=new Array(l),c=0;c<l;++c)(s=a[c])&&(o=e.call(s,s.__data__,c,a))&&("__data__"in s&&(o.__data__=s.__data__),u[c]=o);return new Hp(r,this._parents)},selectAll:function(e){e="function"===typeof e?Fd(e):jd(e);for(var t=this._groups,n=t.length,r=[],i=[],s=0;s<n;++s)for(var o,a=t[s],l=a.length,u=0;u<l;++u)(o=a[u])&&(r.push(e.call(o,o.__data__,u,a)),i.push(o));return new Hp(r,i)},selectChild:function(e){return this.select(null==e?Bd:function(e){return function(){return Ud.call(this.children,e)}}("function"===typeof e?e:Vd(e)))},selectChildren:function(e){return this.selectAll(null==e?Hd:function(e){return function(){return qd.call(this.children,e)}}("function"===typeof e?e:Vd(e)))},filter:function(e){"function"!==typeof e&&(e=zd(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s,o=t[i],a=o.length,l=r[i]=[],u=0;u<a;++u)(s=o[u])&&e.call(s,s.__data__,u,o)&&l.push(s);return new Hp(r,this._parents)},data:function(e,t){if(!arguments.length)return Array.from(this,Yd);var n=t?Gd:Wd,r=this._parents,i=this._groups;"function"!==typeof e&&(e=function(e){return function(){return e}}(e));for(var s=i.length,o=new Array(s),a=new Array(s),l=new Array(s),u=0;u<s;++u){var c=r[u],h=i[u],f=h.length,d=Xd(e.call(c,c&&c.__data__,u,r)),p=d.length,m=a[u]=new Array(p),g=o[u]=new Array(p);n(c,h,m,g,l[u]=new Array(f),d,t);for(var y,v,w=0,b=0;w<p;++w)if(y=m[w]){for(w>=b&&(b=w+1);!(v=g[b])&&++b<p;);y._next=v||null}}return(o=new Hp(o,r))._enter=a,o._exit=l,o},enter:function(){return new Hp(this._enter||this._groups.map(Kd),this._parents)},exit:function(){return new Hp(this._exit||this._groups.map(Kd),this._parents)},join:function(e,t,n){var r=this.enter(),i=this,s=this.exit();return"function"===typeof e?(r=e(r))&&(r=r.selection()):r=r.append(e+""),null!=t&&(i=t(i))&&(i=i.selection()),null==n?s.remove():n(s),r&&i?r.merge(i).order():i},merge:function(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),l=0;l<o;++l)for(var u,c=n[l],h=r[l],f=c.length,d=a[l]=new Array(f),p=0;p<f;++p)(u=c[p]||h[p])&&(d[p]=u);for(;l<i;++l)a[l]=n[l];return new Hp(a,this._parents)},selection:function(){return this},order:function(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r,i=e[t],s=i.length-1,o=i[s];--s>=0;)(r=i[s])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},sort:function(e){function t(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}e||(e=$d);for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o,a=n[s],l=a.length,u=i[s]=new Array(l),c=0;c<l;++c)(o=a[c])&&(u[c]=o);u.sort(t)}return new Hp(i,this._parents).order()},call:function(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null},size:function(){let e=0;for(const t of this)++e;return e},empty:function(){return!this.node()},each:function(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i,s=t[n],o=0,a=s.length;o<a;++o)(i=s[o])&&e.call(i,i.__data__,o,s);return this},attr:function(e,t){var n=ep(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==t?n.local?np:tp:"function"===typeof t?n.local?op:sp:n.local?ip:rp)(n,t))},style:function(e,t,n){return arguments.length>1?this.each((null==t?lp:"function"===typeof t?cp:up)(e,t,null==n?"":n)):hp(this.node(),e)},property:function(e,t){return arguments.length>1?this.each((null==t?fp:"function"===typeof t?pp:dp)(e,t)):this.node()[e]},classed:function(e,t){var n=mp(e+"");if(arguments.length<2){for(var r=gp(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof t?Ep:t?bp:_p)(n,t))},text:function(e){return arguments.length?this.each(null==e?xp:("function"===typeof e?kp:Sp)(e)):this.node().textContent},html:function(e){return arguments.length?this.each(null==e?Cp:("function"===typeof e?Np:Tp)(e)):this.node().innerHTML},raise:function(){return this.each(Ip)},lower:function(){return this.each(Ap)},append:function(e){var t="function"===typeof e?e:Rp(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})},insert:function(e,t){var n="function"===typeof e?e:Rp(e),r=null==t?Pp:"function"===typeof t?t:Ld(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Lp)},clone:function(e){return this.select(e?jp:Op)},datum:function(e){return arguments.length?this.property("__data__",e):this.node().__data__},on:function(e,t,n){var r,i,s=function(e){return e.trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");return n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),{type:e,name:t}})}(e+""),o=s.length;if(!(arguments.length<2)){for(a=t?zp:Fp,r=0;r<o;++r)this.each(a(s[r],t,n));return this}var a=this.node().__on;if(a)for(var l,u=0,c=a.length;u<c;++u)for(r=0,l=a[u];r<o;++r)if((i=s[r]).type===l.type&&i.name===l.name)return l.value},dispatch:function(e,t){return this.each(("function"===typeof t?Bp:Up)(e,t))},[Symbol.iterator]:function*(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r,i=e[t],s=0,o=i.length;s<o;++s)(r=i[s])&&(yield r)}};const Qp=Kp;var Wp={value:()=>{}};function Gp(){for(var e,t=0,n=arguments.length,r={};t<n;++t){if(!(e=arguments[t]+"")||e in r||/[\s.]/.test(e))throw new Error("illegal type: "+e);r[e]=[]}return new Yp(r)}function Yp(e){this._=e}function Xp(e,t){for(var n,r=0,i=e.length;r<i;++r)if((n=e[r]).name===t)return n.value}function $p(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Wp,e=e.slice(0,r).concat(e.slice(r+1));break}return null!=n&&e.push({name:t,value:n}),e}Yp.prototype=Gp.prototype={constructor:Yp,on:function(e,t){var n,r,i=this._,s=(r=i,(e+"").trim().split(/^|\s+/).map(function(e){var t="",n=e.indexOf(".");if(n>=0&&(t=e.slice(n+1),e=e.slice(0,n)),e&&!r.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:t}})),o=-1,a=s.length;if(!(arguments.length<2)){if(null!=t&&"function"!==typeof t)throw new Error("invalid callback: "+t);for(;++o<a;)if(n=(e=s[o]).type)i[n]=$p(i[n],e.name,t);else if(null==t)for(n in i)i[n]=$p(i[n],e.name,null);return this}for(;++o<a;)if((n=(e=s[o]).type)&&(n=Xp(i[n],e.name)))return n},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Yp(e)},call:function(e,t){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),s=0;s<n;++s)i[s]=arguments[s+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(s=0,n=(r=this._[e]).length;s<n;++s)r[s].value.apply(t,i)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,s=r.length;i<s;++i)r[i].value.apply(t,n)}};const Jp=Gp;var Zp,em,tm=0,nm=0,rm=0,im=0,sm=0,om=0,am="object"===typeof performance&&performance.now?performance:Date,lm="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function um(){return sm||(lm(cm),sm=am.now()+om)}function cm(){sm=0}function hm(){this._call=this._time=this._next=null}function fm(e,t,n){var r=new hm;return r.restart(e,t,n),r}function dm(){sm=(im=am.now())+om,tm=nm=0;try{!function(){um(),++tm;for(var e,t=Zp;t;)(e=sm-t._time)>=0&&t._call.call(void 0,e),t=t._next;--tm}()}finally{tm=0,function(){var e,t,n=Zp,r=1/0;for(;n;)n._call?(r>n._time&&(r=n._time),e=n,n=n._next):(t=n._next,n._next=null,n=e?e._next=t:Zp=t);em=e,mm(r)}(),sm=0}}function pm(){var e=am.now(),t=e-im;t>1e3&&(om-=t,im=e)}function mm(e){tm||(nm&&(nm=clearTimeout(nm)),e-sm>24?(e<1/0&&(nm=setTimeout(dm,e-am.now()-om)),rm&&(rm=clearInterval(rm))):(rm||(im=am.now(),rm=setInterval(pm,1e3)),tm=1,lm(dm)))}function gm(e,t,n){var r=new hm;return t=null==t?0:+t,r.restart(n=>{r.stop(),e(n+t)},t,n),r}hm.prototype=fm.prototype={constructor:hm,restart:function(e,t,n){if("function"!==typeof e)throw new TypeError("callback is not a function");n=(null==n?um():+n)+(null==t?0:+t),this._next||em===this||(em?em._next=this:Zp=this,em=this),this._call=e,this._time=n,mm()},stop:function(){this._call&&(this._call=null,this._time=1/0,mm())}};var ym=Jp("start","end","cancel","interrupt"),vm=[];function wm(e,t,n,r,i,s){var o=e.__transition;if(o){if(n in o)return}else e.__transition={};!function(e,t,n){var r,i=e.__transition;function s(e){n.state=1,n.timer.restart(o,n.delay,n.time),n.delay<=e&&o(e-n.delay)}function o(s){var u,c,h,f;if(1!==n.state)return l();for(u in i)if((f=i[u]).name===n.name){if(3===f.state)return gm(o);4===f.state?(f.state=6,f.timer.stop(),f.on.call("interrupt",e,e.__data__,f.index,f.group),delete i[u]):+u<t&&(f.state=6,f.timer.stop(),f.on.call("cancel",e,e.__data__,f.index,f.group),delete i[u])}if(gm(function(){3===n.state&&(n.state=4,n.timer.restart(a,n.delay,n.time),a(s))}),n.state=2,n.on.call("start",e,e.__data__,n.index,n.group),2===n.state){for(n.state=3,r=new Array(h=n.tween.length),u=0,c=-1;u<h;++u)(f=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function a(t){for(var i=t<n.duration?n.ease.call(null,t/n.duration):(n.timer.restart(l),n.state=5,1),s=-1,o=r.length;++s<o;)r[s].call(e,i);5===n.state&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){for(var r in n.state=6,n.timer.stop(),delete i[t],i)return;delete e.__transition}i[t]=n,n.timer=fm(s,0,n.time)}(e,n,{name:t,index:r,group:i,on:ym,tween:vm,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:0})}function bm(e,t){var n=Em(e,t);if(n.state>0)throw new Error("too late; already scheduled");return n}function _m(e,t){var n=Em(e,t);if(n.state>3)throw new Error("too late; already running");return n}function Em(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function xm(e,t){var n,r,i,s=e.__transition,o=!0;if(s){for(i in t=null==t?null:t+"",s)(n=s[i]).name===t?(r=n.state>2&&n.state<5,n.state=6,n.timer.stop(),n.on.call(r?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete s[i]):o=!1;o&&delete e.__transition}}function Sm(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var km,Cm=180/Math.PI,Tm={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Nm(e,t,n,r,i,s){var o,a,l;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(t,e)*Cm,skewX:Math.atan(l)*Cm,scaleX:o,scaleY:a}}function Im(e,t,n,r){function i(e){return e.length?e.pop()+" ":""}return function(s,o){var a=[],l=[];return s=e(s),o=e(o),function(e,r,i,s,o,a){if(e!==i||r!==s){var l=o.push("translate(",null,t,null,n);a.push({i:l-4,x:Sm(e,i)},{i:l-2,x:Sm(r,s)})}else(i||s)&&o.push("translate("+i+t+s+n)}(s.translateX,s.translateY,o.translateX,o.translateY,a,l),function(e,t,n,s){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),s.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Sm(e,t)})):t&&n.push(i(n)+"rotate("+t+r)}(s.rotate,o.rotate,a,l),function(e,t,n,s){e!==t?s.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Sm(e,t)}):t&&n.push(i(n)+"skewX("+t+r)}(s.skewX,o.skewX,a,l),function(e,t,n,r,s,o){if(e!==n||t!==r){var a=s.push(i(s)+"scale(",null,",",null,")");o.push({i:a-4,x:Sm(e,n)},{i:a-2,x:Sm(t,r)})}else 1===n&&1===r||s.push(i(s)+"scale("+n+","+r+")")}(s.scaleX,s.scaleY,o.scaleX,o.scaleY,a,l),s=o=null,function(e){for(var t,n=-1,r=l.length;++n<r;)a[(t=l[n]).i]=t.x(e);return a.join("")}}}var Am=Im(function(e){const t=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Tm:Nm(t.a,t.b,t.c,t.d,t.e,t.f)},"px, ","px)","deg)"),Dm=Im(function(e){return null==e?Tm:(km||(km=document.createElementNS("http://www.w3.org/2000/svg","g")),km.setAttribute("transform",e),(e=km.transform.baseVal.consolidate())?Nm((e=e.matrix).a,e.b,e.c,e.d,e.e,e.f):Tm)},", ",")",")");function Mm(e,t){var n,r;return function(){var i=_m(this,e),s=i.tween;if(s!==n)for(var o=0,a=(r=n=s).length;o<a;++o)if(r[o].name===t){(r=r.slice()).splice(o,1);break}i.tween=r}}function Rm(e,t,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var s=_m(this,e),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=a;break}l===u&&i.push(a)}s.tween=i}}function Pm(e,t,n){var r=e._id;return e.each(function(){var e=_m(this,r);(e.value||(e.value={}))[t]=n.apply(this,arguments)}),function(e){return Em(e,r).value[t]}}function Lm(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Om(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function jm(){}var Fm=.7,zm=1/Fm,Vm="\\s*([+-]?\\d+)\\s*",Um="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",qm=/^#([0-9a-f]{3,8})$/,Hm=new RegExp("^rgb\\(".concat(Vm,",").concat(Vm,",").concat(Vm,"\\)$")),Km=new RegExp("^rgb\\(".concat(Bm,",").concat(Bm,",").concat(Bm,"\\)$")),Qm=new RegExp("^rgba\\(".concat(Vm,",").concat(Vm,",").concat(Vm,",").concat(Um,"\\)$")),Wm=new RegExp("^rgba\\(".concat(Bm,",").concat(Bm,",").concat(Bm,",").concat(Um,"\\)$")),Gm=new RegExp("^hsl\\(".concat(Um,",").concat(Bm,",").concat(Bm,"\\)$")),Ym=new RegExp("^hsla\\(".concat(Um,",").concat(Bm,",").concat(Bm,",").concat(Um,"\\)$")),Xm={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function $m(){return this.rgb().formatHex()}function Jm(){return this.rgb().formatRgb()}function Zm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=qm.exec(e))?(n=t[1].length,t=parseInt(t[1],16),6===n?eg(t):3===n?new rg(t>>8&15|t>>4&240,t>>4&15|240&t,(15&t)<<4|15&t,1):8===n?tg(t>>24&255,t>>16&255,t>>8&255,(255&t)/255):4===n?tg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|240&t,((15&t)<<4|15&t)/255):null):(t=Hm.exec(e))?new rg(t[1],t[2],t[3],1):(t=Km.exec(e))?new rg(255*t[1]/100,255*t[2]/100,255*t[3]/100,1):(t=Qm.exec(e))?tg(t[1],t[2],t[3],t[4]):(t=Wm.exec(e))?tg(255*t[1]/100,255*t[2]/100,255*t[3]/100,t[4]):(t=Gm.exec(e))?ug(t[1],t[2]/100,t[3]/100,1):(t=Ym.exec(e))?ug(t[1],t[2]/100,t[3]/100,t[4]):Xm.hasOwnProperty(e)?eg(Xm[e]):"transparent"===e?new rg(NaN,NaN,NaN,0):null}function eg(e){return new rg(e>>16&255,e>>8&255,255&e,1)}function tg(e,t,n,r){return r<=0&&(e=t=n=NaN),new rg(e,t,n,r)}function ng(e,t,n,r){return 1===arguments.length?((i=e)instanceof jm||(i=Zm(i)),i?new rg((i=i.rgb()).r,i.g,i.b,i.opacity):new rg):new rg(e,t,n,null==r?1:r);var i}function rg(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}function ig(){return"#".concat(lg(this.r)).concat(lg(this.g)).concat(lg(this.b))}function sg(){const e=og(this.opacity);return"".concat(1===e?"rgb(":"rgba(").concat(ag(this.r),", ").concat(ag(this.g),", ").concat(ag(this.b)).concat(1===e?")":", ".concat(e,")"))}function og(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ag(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function lg(e){return((e=ag(e))<16?"0":"")+e.toString(16)}function ug(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new hg(e,t,n,r)}function cg(e){if(e instanceof hg)return new hg(e.h,e.s,e.l,e.opacity);if(e instanceof jm||(e=Zm(e)),!e)return new hg;if(e instanceof hg)return e;var t=(e=e.rgb()).r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),o=NaN,a=s-i,l=(s+i)/2;return a?(o=t===s?(n-r)/a+6*(n<r):n===s?(r-t)/a+2:(t-n)/a+4,a/=l<.5?s+i:2-s-i,o*=60):a=l>0&&l<1?0:o,new hg(o,a,l,e.opacity)}function hg(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}function fg(e){return(e=(e||0)%360)<0?e+360:e}function dg(e){return Math.max(0,Math.min(1,e||0))}function pg(e,t,n){return 255*(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)}function mg(e,t,n,r,i){var s=e*e,o=s*e;return((1-3*e+3*s-o)*t+(4-6*s+3*o)*n+(1+3*e+3*s-3*o)*r+o*i)/6}Lm(jm,Zm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:$m,formatHex:$m,formatHex8:function(){return this.rgb().formatHex8()},formatHsl:function(){return cg(this).formatHsl()},formatRgb:Jm,toString:Jm}),Lm(rg,ng,Om(jm,{brighter(e){return e=null==e?zm:Math.pow(zm,e),new rg(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=null==e?Fm:Math.pow(Fm,e),new rg(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new rg(ag(this.r),ag(this.g),ag(this.b),og(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ig,formatHex:ig,formatHex8:function(){return"#".concat(lg(this.r)).concat(lg(this.g)).concat(lg(this.b)).concat(lg(255*(isNaN(this.opacity)?1:this.opacity)))},formatRgb:sg,toString:sg})),Lm(hg,function(e,t,n,r){return 1===arguments.length?cg(e):new hg(e,t,n,null==r?1:r)},Om(jm,{brighter(e){return e=null==e?zm:Math.pow(zm,e),new hg(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=null==e?Fm:Math.pow(Fm,e),new hg(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+360*(this.h<0),t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new rg(pg(e>=240?e-240:e+120,i,r),pg(e,i,r),pg(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new hg(fg(this.h),dg(this.s),dg(this.l),og(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=og(this.opacity);return"".concat(1===e?"hsl(":"hsla(").concat(fg(this.h),", ").concat(100*dg(this.s),"%, ").concat(100*dg(this.l),"%").concat(1===e?")":", ".concat(e,")"))}}));const gg=e=>()=>e;function yg(e,t){return function(n){return e+n*t}}function vg(e){return 1===(e=+e)?wg:function(t,n){return n-t?function(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}(t,n,e):gg(isNaN(t)?n:t)}}function wg(e,t){var n=t-e;return n?yg(e,n):gg(isNaN(e)?t:e)}const bg=function e(t){var n=vg(t);function r(e,t){var r=n((e=ng(e)).r,(t=ng(t)).r),i=n(e.g,t.g),s=n(e.b,t.b),o=wg(e.opacity,t.opacity);return function(t){return e.r=r(t),e.g=i(t),e.b=s(t),e.opacity=o(t),e+""}}return r.gamma=e,r}(1);function _g(e){return function(t){var n,r,i=t.length,s=new Array(i),o=new Array(i),a=new Array(i);for(n=0;n<i;++n)r=ng(t[n]),s[n]=r.r||0,o[n]=r.g||0,a[n]=r.b||0;return s=e(s),o=e(o),a=e(a),r.opacity=1,function(e){return r.r=s(e),r.g=o(e),r.b=a(e),r+""}}}_g(function(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],s=e[r+1],o=r>0?e[r-1]:2*i-s,a=r<t-1?e[r+2]:2*s-i;return mg((n-r/t)*t,o,i,s,a)}}),_g(function(e){var t=e.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*t),i=e[(r+t-1)%t],s=e[r%t],o=e[(r+1)%t],a=e[(r+2)%t];return mg((n-r/t)*t,i,s,o,a)}});var Eg=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xg=new RegExp(Eg.source,"g");function Sg(e,t){var n,r,i,s=Eg.lastIndex=xg.lastIndex=0,o=-1,a=[],l=[];for(e+="",t+="";(n=Eg.exec(e))&&(r=xg.exec(t));)(i=r.index)>s&&(i=t.slice(s,i),a[o]?a[o]+=i:a[++o]=i),(n=n[0])===(r=r[0])?a[o]?a[o]+=r:a[++o]=r:(a[++o]=null,l.push({i:o,x:Sm(n,r)})),s=xg.lastIndex;return s<t.length&&(i=t.slice(s),a[o]?a[o]+=i:a[++o]=i),a.length<2?l[0]?function(e){return function(t){return e(t)+""}}(l[0].x):function(e){return function(){return e}}(t):(t=l.length,function(e){for(var n,r=0;r<t;++r)a[(n=l[r]).i]=n.x(e);return a.join("")})}function kg(e,t){var n;return("number"===typeof t?Sm:t instanceof Zm?bg:(n=Zm(t))?(t=n,bg):Sg)(e,t)}function Cg(e){return function(){this.removeAttribute(e)}}function Tg(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ng(e,t,n){var r,i,s=n+"";return function(){var o=this.getAttribute(e);return o===s?null:o===r?i:i=t(r=o,n)}}function Ig(e,t,n){var r,i,s=n+"";return function(){var o=this.getAttributeNS(e.space,e.local);return o===s?null:o===r?i:i=t(r=o,n)}}function Ag(e,t,n){var r,i,s;return function(){var o,a,l=n(this);if(null!=l)return(o=this.getAttribute(e))===(a=l+"")?null:o===r&&a===i?s:(i=a,s=t(r=o,l));this.removeAttribute(e)}}function Dg(e,t,n){var r,i,s;return function(){var o,a,l=n(this);if(null!=l)return(o=this.getAttributeNS(e.space,e.local))===(a=l+"")?null:o===r&&a===i?s:(i=a,s=t(r=o,l));this.removeAttributeNS(e.space,e.local)}}function Mg(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}(e,i)),n}return i._value=t,i}function Rg(e,t){var n,r;function i(){var i=t.apply(this,arguments);return i!==r&&(n=(r=i)&&function(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}(e,i)),n}return i._value=t,i}function Pg(e,t){return function(){bm(this,e).delay=+t.apply(this,arguments)}}function Lg(e,t){return t=+t,function(){bm(this,e).delay=t}}function Og(e,t){return function(){_m(this,e).duration=+t.apply(this,arguments)}}function jg(e,t){return t=+t,function(){_m(this,e).duration=t}}var Fg=Qp.prototype.constructor;function zg(e){return function(){this.style.removeProperty(e)}}var Vg=0;function Ug(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Bg(){return++Vg}var qg=Qp.prototype;Ug.prototype=function(e){return Qp().transition(e)}.prototype={constructor:Ug,select:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=Ld(e));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a,l,u=r[o],c=u.length,h=s[o]=new Array(c),f=0;f<c;++f)(a=u[f])&&(l=e.call(a,a.__data__,f,u))&&("__data__"in a&&(l.__data__=a.__data__),h[f]=l,wm(h[f],t,n,f,h,Em(a,n)));return new Ug(s,this._parents,t,n)},selectAll:function(e){var t=this._name,n=this._id;"function"!==typeof e&&(e=jd(e));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var l,u=r[a],c=u.length,h=0;h<c;++h)if(l=u[h]){for(var f,d=e.call(l,l.__data__,h,u),p=Em(l,n),m=0,g=d.length;m<g;++m)(f=d[m])&&wm(f,t,n,m,d,p);s.push(d),o.push(l)}return new Ug(s,o,t,n)},selectChild:qg.selectChild,selectChildren:qg.selectChildren,filter:function(e){"function"!==typeof e&&(e=zd(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var s,o=t[i],a=o.length,l=r[i]=[],u=0;u<a;++u)(s=o[u])&&e.call(s,s.__data__,u,o)&&l.push(s);return new Ug(r,this._parents,this._name,this._id)},merge:function(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var l,u=t[a],c=n[a],h=u.length,f=o[a]=new Array(h),d=0;d<h;++d)(l=u[d]||c[d])&&(f[d]=l);for(;a<r;++a)o[a]=t[a];return new Ug(o,this._parents,this._name,this._id)},selection:function(){return new Fg(this._groups,this._parents)},transition:function(){for(var e=this._name,t=this._id,n=Bg(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o,a=r[s],l=a.length,u=0;u<l;++u)if(o=a[u]){var c=Em(o,t);wm(o,e,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ug(r,this._parents,e,n)},call:qg.call,nodes:qg.nodes,node:qg.node,size:qg.size,empty:qg.empty,each:qg.each,on:function(e,t){var n=this._id;return arguments.length<2?Em(this.node(),n).on.on(e):this.each(function(e,t,n){var r,i,s=function(e){return(e+"").trim().split(/^|\s+/).every(function(e){var t=e.indexOf(".");return t>=0&&(e=e.slice(0,t)),!e||"start"===e})}(t)?bm:_m;return function(){var o=s(this,e),a=o.on;a!==r&&(i=(r=a).copy()).on(t,n),o.on=i}}(n,e,t))},attr:function(e,t){var n=ep(e),r="transform"===n?Dm:kg;return this.attrTween(e,"function"===typeof t?(n.local?Dg:Ag)(n,r,Pm(this,"attr."+e,t)):null==t?(n.local?Tg:Cg)(n):(n.local?Ig:Ng)(n,r,t))},attrTween:function(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!==typeof t)throw new Error;var r=ep(e);return this.tween(n,(r.local?Mg:Rg)(r,t))},style:function(e,t,n){var r="transform"===(e+="")?Am:kg;return null==t?this.styleTween(e,function(e,t){var n,r,i;return function(){var s=hp(this,e),o=(this.style.removeProperty(e),hp(this,e));return s===o?null:s===n&&o===r?i:i=t(n=s,r=o)}}(e,r)).on("end.style."+e,zg(e)):"function"===typeof t?this.styleTween(e,function(e,t,n){var r,i,s;return function(){var o=hp(this,e),a=n(this),l=a+"";return null==a&&(this.style.removeProperty(e),l=a=hp(this,e)),o===l?null:o===r&&l===i?s:(i=l,s=t(r=o,a))}}(e,r,Pm(this,"style."+e,t))).each(function(e,t){var n,r,i,s,o="style."+t,a="end."+o;return function(){var l=_m(this,e),u=l.on,c=null==l.value[o]?s||(s=zg(t)):void 0;u===n&&i===c||(r=(n=u).copy()).on(a,i=c),l.on=r}}(this._id,e)):this.styleTween(e,function(e,t,n){var r,i,s=n+"";return function(){var o=hp(this,e);return o===s?null:o===r?i:i=t(r=o,n)}}(e,r,t),n).on("end.style."+e,null)},styleTween:function(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==t)return this.tween(r,null);if("function"!==typeof t)throw new Error;return this.tween(r,function(e,t,n){var r,i;function s(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&function(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}(e,s,n)),r}return s._value=t,s}(e,t,null==n?"":n))},text:function(e){return this.tween("text","function"===typeof e?function(e){return function(){var t=e(this);this.textContent=null==t?"":t}}(Pm(this,"text",e)):function(e){return function(){this.textContent=e}}(null==e?"":e+""))},textTween:function(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(null==e)return this.tween(t,null);if("function"!==typeof e)throw new Error;return this.tween(t,function(e){var t,n;function r(){var r=e.apply(this,arguments);return r!==n&&(t=(n=r)&&function(e){return function(t){this.textContent=e.call(this,t)}}(r)),t}return r._value=e,r}(e))},remove:function(){return this.on("end.remove",function(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}(this._id))},tween:function(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r,i=Em(this.node(),n).tween,s=0,o=i.length;s<o;++s)if((r=i[s]).name===e)return r.value;return null}return this.each((null==t?Mm:Rm)(n,e,t))},delay:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Pg:Lg)(t,e)):Em(this.node(),t).delay},duration:function(e){var t=this._id;return arguments.length?this.each(("function"===typeof e?Og:jg)(t,e)):Em(this.node(),t).duration},ease:function(e){var t=this._id;return arguments.length?this.each(function(e,t){if("function"!==typeof t)throw new Error;return function(){_m(this,e).ease=t}}(t,e)):Em(this.node(),t).ease},easeVarying:function(e){if("function"!==typeof e)throw new Error;return this.each(function(e,t){return function(){var n=t.apply(this,arguments);if("function"!==typeof n)throw new Error;_m(this,e).ease=n}}(this._id,e))},end:function(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},l={value:function(){0===--i&&s()}};n.each(function(){var n=_m(this,r),i=n.on;i!==e&&((t=(e=i).copy())._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),n.on=t}),0===i&&s()})},[Symbol.iterator]:qg[Symbol.iterator]};var Hg={time:null,delay:0,duration:250,ease:function(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}};function Kg(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}Qp.prototype.interrupt=function(e){return this.each(function(){xm(this,e)})},Qp.prototype.transition=function(e){var t,n;e instanceof Ug?(t=e._id,e=e._name):(t=Bg(),(n=Hg).time=um(),e=null==e?null:e+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o,a=r[s],l=a.length,u=0;u<l;++u)(o=a[u])&&wm(o,e,t,u,a,n||Kg(o,t));return new Ug(r,this._parents,e,t)};const{abs:Qg,max:Wg,min:Gg}=Math;function Yg(e){return[+e[0],+e[1]]}function Xg(e){return[Yg(e[0]),Yg(e[1])]}["w","e"].map($g),["n","s"].map($g),["n","w","e","s","nw","ne","sw","se"].map($g);function $g(e){return{type:e}}function Jg(e){return"string"===typeof e?new Hp([[document.querySelector(e)]],[document.documentElement]):new Hp([[e]],qp)}function Zg(e,t){if(e=function(e){let t;for(;t=e.sourceEvent;)e=t;return e}(e),void 0===t&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const ey={passive:!1},ty={capture:!0,passive:!1};function ny(e){e.stopImmediatePropagation()}function ry(e){e.preventDefault(),e.stopImmediatePropagation()}function iy(e){var t=e.document.documentElement,n=Jg(e).on("dragstart.drag",ry,ty);"onselectstart"in t?n.on("selectstart.drag",ry,ty):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function sy(e,t){var n=e.document.documentElement,r=Jg(e).on("dragstart.drag",null);t&&(r.on("click.drag",ry,ty),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const oy=e=>()=>e;function ay(e,t){let{sourceEvent:n,subject:r,target:i,identifier:s,active:o,x:a,y:l,dx:u,dy:c,dispatch:h}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:r,enumerable:!0,configurable:!0},target:{value:i,enumerable:!0,configurable:!0},identifier:{value:s,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:l,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:h}})}function ly(e){return!e.ctrlKey&&!e.button}function uy(){return this.parentNode}function cy(e,t){return null==t?{x:e.x,y:e.y}:t}function hy(){return navigator.maxTouchPoints||"ontouchstart"in this}function fy(e,t,n,r){if(isNaN(t)||isNaN(n))return e;var i,s,o,a,l,u,c,h,f,d=e._root,p={data:r},m=e._x0,g=e._y0,y=e._x1,v=e._y1;if(!d)return e._root=p,e;for(;d.length;)if((u=t>=(s=(m+y)/2))?m=s:y=s,(c=n>=(o=(g+v)/2))?g=o:v=o,i=d,!(d=d[h=c<<1|u]))return i[h]=p,e;if(a=+e._x.call(null,d.data),l=+e._y.call(null,d.data),t===a&&n===l)return p.next=d,i?i[h]=p:e._root=p,e;do{i=i?i[h]=new Array(4):e._root=new Array(4),(u=t>=(s=(m+y)/2))?m=s:y=s,(c=n>=(o=(g+v)/2))?g=o:v=o}while((h=c<<1|u)===(f=(l>=o)<<1|a>=s));return i[f]=d,i[h]=p,e}function dy(e,t,n,r,i){this.node=e,this.x0=t,this.y0=n,this.x1=r,this.y1=i}function py(e){return e[0]}function my(e){return e[1]}function gy(e,t,n){var r=new yy(null==t?py:t,null==n?my:n,NaN,NaN,NaN,NaN);return null==e?r:r.addAll(e)}function yy(e,t,n,r,i,s){this._x=e,this._y=t,this._x0=n,this._y0=r,this._x1=i,this._y1=s,this._root=void 0}function vy(e){for(var t={data:e.data},n=t;e=e.next;)n=n.next={data:e.data};return t}ay.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};var wy=gy.prototype=yy.prototype;function by(e){return function(){return e}}function _y(e){return 1e-6*(e()-.5)}function Ey(e){return e.x+e.vx}function xy(e){return e.y+e.vy}function Sy(e){return e.index}function ky(e,t){var n=e.get(t);if(!n)throw new Error("node not found: "+t);return n}wy.copy=function(){var e,t,n=new yy(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=vy(r),n;for(e=[{source:r,target:n._root=new Array(4)}];r=e.pop();)for(var i=0;i<4;++i)(t=r.source[i])&&(t.length?e.push({source:t,target:r.target[i]=new Array(4)}):r.target[i]=vy(t));return n},wy.add=function(e){const t=+this._x.call(null,e),n=+this._y.call(null,e);return fy(this.cover(t,n),t,n,e)},wy.addAll=function(e){var t,n,r,i,s=e.length,o=new Array(s),a=new Array(s),l=1/0,u=1/0,c=-1/0,h=-1/0;for(n=0;n<s;++n)isNaN(r=+this._x.call(null,t=e[n]))||isNaN(i=+this._y.call(null,t))||(o[n]=r,a[n]=i,r<l&&(l=r),r>c&&(c=r),i<u&&(u=i),i>h&&(h=i));if(l>c||u>h)return this;for(this.cover(l,u).cover(c,h),n=0;n<s;++n)fy(this,o[n],a[n],e[n]);return this},wy.cover=function(e,t){if(isNaN(e=+e)||isNaN(t=+t))return this;var n=this._x0,r=this._y0,i=this._x1,s=this._y1;if(isNaN(n))i=(n=Math.floor(e))+1,s=(r=Math.floor(t))+1;else{for(var o,a,l=i-n||1,u=this._root;n>e||e>=i||r>t||t>=s;)switch(a=(t<r)<<1|e<n,(o=new Array(4))[a]=u,u=o,l*=2,a){case 0:i=n+l,s=r+l;break;case 1:n=i-l,s=r+l;break;case 2:i=n+l,r=s-l;break;case 3:n=i-l,r=s-l}this._root&&this._root.length&&(this._root=u)}return this._x0=n,this._y0=r,this._x1=i,this._y1=s,this},wy.data=function(){var e=[];return this.visit(function(t){if(!t.length)do{e.push(t.data)}while(t=t.next)}),e},wy.extent=function(e){return arguments.length?this.cover(+e[0][0],+e[0][1]).cover(+e[1][0],+e[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},wy.find=function(e,t,n){var r,i,s,o,a,l,u,c=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],m=this._root;for(m&&p.push(new dy(m,c,h,f,d)),null==n?n=1/0:(c=e-n,h=t-n,f=e+n,d=t+n,n*=n);l=p.pop();)if(!(!(m=l.node)||(i=l.x0)>f||(s=l.y0)>d||(o=l.x1)<c||(a=l.y1)<h))if(m.length){var g=(i+o)/2,y=(s+a)/2;p.push(new dy(m[3],g,y,o,a),new dy(m[2],i,y,g,a),new dy(m[1],g,s,o,y),new dy(m[0],i,s,g,y)),(u=(t>=y)<<1|e>=g)&&(l=p[p.length-1],p[p.length-1]=p[p.length-1-u],p[p.length-1-u]=l)}else{var v=e-+this._x.call(null,m.data),w=t-+this._y.call(null,m.data),b=v*v+w*w;if(b<n){var _=Math.sqrt(n=b);c=e-_,h=t-_,f=e+_,d=t+_,r=m.data}}return r},wy.remove=function(e){if(isNaN(s=+this._x.call(null,e))||isNaN(o=+this._y.call(null,e)))return this;var t,n,r,i,s,o,a,l,u,c,h,f,d=this._root,p=this._x0,m=this._y0,g=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((u=s>=(a=(p+g)/2))?p=a:g=a,(c=o>=(l=(m+y)/2))?m=l:y=l,t=d,!(d=d[h=c<<1|u]))return this;if(!d.length)break;(t[h+1&3]||t[h+2&3]||t[h+3&3])&&(n=t,f=h)}for(;d.data!==e;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):t?(i?t[h]=i:delete t[h],(d=t[0]||t[1]||t[2]||t[3])&&d===(t[3]||t[2]||t[1]||t[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)},wy.removeAll=function(e){for(var t=0,n=e.length;t<n;++t)this.remove(e[t]);return this},wy.root=function(){return this._root},wy.size=function(){var e=0;return this.visit(function(t){if(!t.length)do{++e}while(t=t.next)}),e},wy.visit=function(e){var t,n,r,i,s,o,a=[],l=this._root;for(l&&a.push(new dy(l,this._x0,this._y0,this._x1,this._y1));t=a.pop();)if(!e(l=t.node,r=t.x0,i=t.y0,s=t.x1,o=t.y1)&&l.length){var u=(r+s)/2,c=(i+o)/2;(n=l[3])&&a.push(new dy(n,u,c,s,o)),(n=l[2])&&a.push(new dy(n,r,c,u,o)),(n=l[1])&&a.push(new dy(n,u,i,s,c)),(n=l[0])&&a.push(new dy(n,r,i,u,c))}return this},wy.visitAfter=function(e){var t,n=[],r=[];for(this._root&&n.push(new dy(this._root,this._x0,this._y0,this._x1,this._y1));t=n.pop();){var i=t.node;if(i.length){var s,o=t.x0,a=t.y0,l=t.x1,u=t.y1,c=(o+l)/2,h=(a+u)/2;(s=i[0])&&n.push(new dy(s,o,a,c,h)),(s=i[1])&&n.push(new dy(s,c,a,l,h)),(s=i[2])&&n.push(new dy(s,o,h,c,u)),(s=i[3])&&n.push(new dy(s,c,h,l,u))}r.push(t)}for(;t=r.pop();)e(t.node,t.x0,t.y0,t.x1,t.y1);return this},wy.x=function(e){return arguments.length?(this._x=e,this):this._x},wy.y=function(e){return arguments.length?(this._y=e,this):this._y};const Cy=4294967296;function Ty(e){return e.x}function Ny(e){return e.y}var Iy=Math.PI*(3-Math.sqrt(5));function Ay(e){var t,n=1,r=.001,i=1-Math.pow(r,1/300),s=0,o=.6,a=new Map,l=fm(h),u=Jp("tick","end"),c=function(){let e=1;return()=>(e=(1664525*e+1013904223)%Cy)/Cy}();function h(){f(),u.call("tick",t),n<r&&(l.stop(),u.call("end",t))}function f(r){var l,u,c=e.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(s-n)*i,a.forEach(function(e){e(n)}),l=0;l<c;++l)null==(u=e[l]).fx?u.x+=u.vx*=o:(u.x=u.fx,u.vx=0),null==u.fy?u.y+=u.vy*=o:(u.y=u.fy,u.vy=0);return t}function d(){for(var t,n=0,r=e.length;n<r;++n){if((t=e[n]).index=n,null!=t.fx&&(t.x=t.fx),null!=t.fy&&(t.y=t.fy),isNaN(t.x)||isNaN(t.y)){var i=10*Math.sqrt(.5+n),s=n*Iy;t.x=i*Math.cos(s),t.y=i*Math.sin(s)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function p(t){return t.initialize&&t.initialize(e,c),t}return null==e&&(e=[]),d(),t={tick:f,restart:function(){return l.restart(h),t},stop:function(){return l.stop(),t},nodes:function(n){return arguments.length?(e=n,d(),a.forEach(p),t):e},alpha:function(e){return arguments.length?(n=+e,t):n},alphaMin:function(e){return arguments.length?(r=+e,t):r},alphaDecay:function(e){return arguments.length?(i=+e,t):+i},alphaTarget:function(e){return arguments.length?(s=+e,t):s},velocityDecay:function(e){return arguments.length?(o=1-e,t):1-o},randomSource:function(e){return arguments.length?(c=e,a.forEach(p),t):c},force:function(e,n){return arguments.length>1?(null==n?a.delete(e):a.set(e,p(n)),t):a.get(e)},find:function(t,n,r){var i,s,o,a,l,u=0,c=e.length;for(null==r?r=1/0:r*=r,u=0;u<c;++u)(o=(i=t-(a=e[u]).x)*i+(s=n-a.y)*s)<r&&(l=a,r=o);return l},on:function(e,n){return arguments.length>1?(u.on(e,n),t):u.on(e)}}}function Dy(e){return((e=Math.exp(e))+1/e)/2}const My=function e(t,n,r){function i(e,i){var s,o,a=e[0],l=e[1],u=e[2],c=i[0],h=i[1],f=i[2],d=c-a,p=h-l,m=d*d+p*p;if(m<1e-12)o=Math.log(f/u)/t,s=function(e){return[a+e*d,l+e*p,u*Math.exp(t*e*o)]};else{var g=Math.sqrt(m),y=(f*f-u*u+r*m)/(2*u*n*g),v=(f*f-u*u-r*m)/(2*f*n*g),w=Math.log(Math.sqrt(y*y+1)-y),b=Math.log(Math.sqrt(v*v+1)-v);o=(b-w)/t,s=function(e){var r=e*o,i=Dy(w),s=u/(n*g)*(i*function(e){return((e=Math.exp(2*e))-1)/(e+1)}(t*r+w)-function(e){return((e=Math.exp(e))-1/e)/2}(w));return[a+s*d,l+s*p,u*i/Dy(t*r+w)]}}return s.duration=1e3*o*t/Math.SQRT2,s}return i.rho=function(t){var n=Math.max(.001,+t),r=n*n;return e(n,r,r*r)},i}(Math.SQRT2,2,4),Ry=e=>()=>e;function Py(e,t){let{sourceEvent:n,target:r,transform:i,dispatch:s}=t;Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:s}})}function Ly(e,t,n){this.k=e,this.x=t,this.y=n}Ly.prototype={constructor:Ly,scale:function(e){return 1===e?this:new Ly(this.k*e,this.x,this.y)},translate:function(e,t){return 0===e&0===t?this:new Ly(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Oy=new Ly(1,0,0);function jy(e){e.stopImmediatePropagation()}function Fy(e){e.preventDefault(),e.stopImmediatePropagation()}function zy(e){return(!e.ctrlKey||"wheel"===e.type)&&!e.button}function Vy(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e).hasAttribute("viewBox")?[[(e=e.viewBox.baseVal).x,e.y],[e.x+e.width,e.y+e.height]]:[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]:[[0,0],[e.clientWidth,e.clientHeight]]}function Uy(){return this.__zoom||Oy}function By(e){return-e.deltaY*(1===e.deltaMode?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function qy(){return navigator.maxTouchPoints||"ontouchstart"in this}function Hy(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],s=e.invertY(t[0][1])-n[0][1],o=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>s?(s+o)/2:Math.min(0,s)||Math.max(0,o))}function Ky(){var e,t,n,r=zy,i=Vy,s=Hy,o=By,a=qy,l=[0,1/0],u=[[-1/0,-1/0],[1/0,1/0]],c=250,h=My,f=Jp("start","zoom","end"),d=0,p=10;function m(e){e.property("__zoom",Uy).on("wheel.zoom",E,{passive:!1}).on("mousedown.zoom",x).on("dblclick.zoom",S).filter(a).on("touchstart.zoom",k).on("touchmove.zoom",C).on("touchend.zoom touchcancel.zoom",T).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(e,t){return(t=Math.max(l[0],Math.min(l[1],t)))===e.k?e:new Ly(t,e.x,e.y)}function y(e,t,n){var r=t[0]-n[0]*e.k,i=t[1]-n[1]*e.k;return r===e.x&&i===e.y?e:new Ly(e.k,r,i)}function v(e){return[(+e[0][0]+ +e[1][0])/2,(+e[0][1]+ +e[1][1])/2]}function w(e,t,n,r){e.on("start.zoom",function(){b(this,arguments).event(r).start()}).on("interrupt.zoom end.zoom",function(){b(this,arguments).event(r).end()}).tween("zoom",function(){var e=this,s=arguments,o=b(e,s).event(r),a=i.apply(e,s),l=null==n?v(a):"function"===typeof n?n.apply(e,s):n,u=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),c=e.__zoom,f="function"===typeof t?t.apply(e,s):t,d=h(c.invert(l).concat(u/c.k),f.invert(l).concat(u/f.k));return function(e){if(1===e)e=f;else{var t=d(e),n=u/t[2];e=new Ly(n,l[0]-t[0]*n,l[1]-t[1]*n)}o.zoom(null,e)}})}function b(e,t,n){return!n&&e.__zooming||new _(e,t)}function _(e,t){this.that=e,this.args=t,this.active=0,this.sourceEvent=null,this.extent=i.apply(e,t),this.taps=0}function E(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(r.apply(this,arguments)){var a=b(this,n).event(e),c=this.__zoom,h=Math.max(l[0],Math.min(l[1],c.k*Math.pow(2,o.apply(this,arguments)))),f=Zg(e);if(a.wheel)a.mouse[0][0]===f[0]&&a.mouse[0][1]===f[1]||(a.mouse[1]=c.invert(a.mouse[0]=f)),clearTimeout(a.wheel);else{if(c.k===h)return;a.mouse=[f,c.invert(f)],xm(this),a.start()}Fy(e),a.wheel=setTimeout(function(){a.wheel=null,a.end()},150),a.zoom("mouse",s(y(g(c,h),a.mouse[0],a.mouse[1]),a.extent,u))}}function x(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];if(!n&&r.apply(this,arguments)){var a=e.currentTarget,l=b(this,i,!0).event(e),c=Jg(e.view).on("mousemove.zoom",function(e){if(Fy(e),!l.moved){var t=e.clientX-f,n=e.clientY-p;l.moved=t*t+n*n>d}l.event(e).zoom("mouse",s(y(l.that.__zoom,l.mouse[0]=Zg(e,a),l.mouse[1]),l.extent,u))},!0).on("mouseup.zoom",function(e){c.on("mousemove.zoom mouseup.zoom",null),sy(e.view,l.moved),Fy(e),l.event(e).end()},!0),h=Zg(e,a),f=e.clientX,p=e.clientY;iy(e.view),jy(e),l.mouse=[h,this.__zoom.invert(h)],xm(this),l.start()}}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];if(r.apply(this,arguments)){var a=this.__zoom,l=Zg(e.changedTouches?e.changedTouches[0]:e,this),h=a.invert(l),f=a.k*(e.shiftKey?.5:2),d=s(y(g(a,f),l,h),i.apply(this,n),u);Fy(e),c>0?Jg(this).transition().duration(c).call(w,d,l,e):Jg(this).call(m.transform,d,l,e)}}function k(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];if(r.apply(this,arguments)){var a,l,u,c,h=n.touches,f=h.length,d=b(this,s,n.changedTouches.length===f).event(n);for(jy(n),l=0;l<f;++l)c=[c=Zg(u=h[l],this),this.__zoom.invert(c),u.identifier],d.touch0?d.touch1||d.touch0[2]===c[2]||(d.touch1=c,d.taps=0):(d.touch0=c,a=!0,d.taps=1+!!e);e&&(e=clearTimeout(e)),a&&(d.taps<2&&(t=c[0],e=setTimeout(function(){e=null},500)),xm(this),d.start())}}function C(e){if(this.__zooming){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,o,a,l,c=b(this,n).event(e),h=e.changedTouches,f=h.length;for(Fy(e),i=0;i<f;++i)a=Zg(o=h[i],this),c.touch0&&c.touch0[2]===o.identifier?c.touch0[0]=a:c.touch1&&c.touch1[2]===o.identifier&&(c.touch1[0]=a);if(o=c.that.__zoom,c.touch1){var d=c.touch0[0],p=c.touch0[1],m=c.touch1[0],v=c.touch1[1],w=(w=m[0]-d[0])*w+(w=m[1]-d[1])*w,_=(_=v[0]-p[0])*_+(_=v[1]-p[1])*_;o=g(o,Math.sqrt(w/_)),a=[(d[0]+m[0])/2,(d[1]+m[1])/2],l=[(p[0]+v[0])/2,(p[1]+v[1])/2]}else{if(!c.touch0)return;a=c.touch0[0],l=c.touch0[1]}c.zoom("touch",s(y(o,a,l),c.extent,u))}}function T(e){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];if(this.__zooming){var o,a,l=b(this,i).event(e),u=e.changedTouches,c=u.length;for(jy(e),n&&clearTimeout(n),n=setTimeout(function(){n=null},500),o=0;o<c;++o)a=u[o],l.touch0&&l.touch0[2]===a.identifier?delete l.touch0:l.touch1&&l.touch1[2]===a.identifier&&delete l.touch1;if(l.touch1&&!l.touch0&&(l.touch0=l.touch1,delete l.touch1),l.touch0)l.touch0[1]=this.__zoom.invert(l.touch0[0]);else if(l.end(),2===l.taps&&(a=Zg(a,this),Math.hypot(t[0]-a[0],t[1]-a[1])<p)){var h=Jg(this).on("dblclick.zoom");h&&h.apply(this,arguments)}}}return m.transform=function(e,t,n,r){var i=e.selection?e.selection():e;i.property("__zoom",Uy),e!==i?w(e,t,n,r):i.interrupt().each(function(){b(this,arguments).event(r).start().zoom(null,"function"===typeof t?t.apply(this,arguments):t).end()})},m.scaleBy=function(e,t,n,r){m.scaleTo(e,function(){return this.__zoom.k*("function"===typeof t?t.apply(this,arguments):t)},n,r)},m.scaleTo=function(e,t,n,r){m.transform(e,function(){var e=i.apply(this,arguments),r=this.__zoom,o=null==n?v(e):"function"===typeof n?n.apply(this,arguments):n,a=r.invert(o),l="function"===typeof t?t.apply(this,arguments):t;return s(y(g(r,l),o,a),e,u)},n,r)},m.translateBy=function(e,t,n,r){m.transform(e,function(){return s(this.__zoom.translate("function"===typeof t?t.apply(this,arguments):t,"function"===typeof n?n.apply(this,arguments):n),i.apply(this,arguments),u)},null,r)},m.translateTo=function(e,t,n,r,o){m.transform(e,function(){var e=i.apply(this,arguments),o=this.__zoom,a=null==r?v(e):"function"===typeof r?r.apply(this,arguments):r;return s(Oy.translate(a[0],a[1]).scale(o.k).translate("function"===typeof t?-t.apply(this,arguments):-t,"function"===typeof n?-n.apply(this,arguments):-n),e,u)},r,o)},_.prototype={event:function(e){return e&&(this.sourceEvent=e),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(e,t){return this.mouse&&"mouse"!==e&&(this.mouse[1]=t.invert(this.mouse[0])),this.touch0&&"touch"!==e&&(this.touch0[1]=t.invert(this.touch0[0])),this.touch1&&"touch"!==e&&(this.touch1[1]=t.invert(this.touch1[0])),this.that.__zoom=t,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(e){var t=Jg(this.that).datum();f.call(e,this.that,new Py(e,{sourceEvent:this.sourceEvent,target:m,type:e,transform:this.that.__zoom,dispatch:f}),t)}},m.wheelDelta=function(e){return arguments.length?(o="function"===typeof e?e:Ry(+e),m):o},m.filter=function(e){return arguments.length?(r="function"===typeof e?e:Ry(!!e),m):r},m.touchable=function(e){return arguments.length?(a="function"===typeof e?e:Ry(!!e),m):a},m.extent=function(e){return arguments.length?(i="function"===typeof e?e:Ry([[+e[0][0],+e[0][1]],[+e[1][0],+e[1][1]]]),m):i},m.scaleExtent=function(e){return arguments.length?(l[0]=+e[0],l[1]=+e[1],m):[l[0],l[1]]},m.translateExtent=function(e){return arguments.length?(u[0][0]=+e[0][0],u[1][0]=+e[1][0],u[0][1]=+e[0][1],u[1][1]=+e[1][1],m):[[u[0][0],u[0][1]],[u[1][0],u[1][1]]]},m.constrain=function(e){return arguments.length?(s=e,m):s},m.duration=function(e){return arguments.length?(c=+e,m):c},m.interpolate=function(e){return arguments.length?(h=e,m):h},m.on=function(){var e=f.on.apply(f,arguments);return e===f?m:e},m.clickDistance=function(e){return arguments.length?(d=(e=+e)*e,m):Math.sqrt(d)},m.tapDistance=function(e){return arguments.length?(p=+e,m):p},m}Ly.prototype;const Qy=d("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Wy=d("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Gy=d("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Yy=d("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),Xy=e=>{let{data:t,onNodeClick:n}=e;const i=(0,r.useRef)(),s=(0,r.useRef)(),[o,a]=(0,r.useState)(1),[l,u]=(0,r.useState)(null),[c,h]=(0,r.useState)(null);(0,r.useEffect)(()=>{if(!t.nodes||0===t.nodes.length)return;Jg(i.current).selectAll("*").remove();const e=s.current.clientWidth,n=Math.max(600,window.innerHeight-200),r=Jg(i.current).attr("width",e).attr("height",n),o=Ky().scaleExtent([.1,4]).on("zoom",e=>{a(e.transform.k),l.attr("transform",e.transform)});r.call(o);const l=r.append("g"),u=Ay(t.nodes).force("link",function(e){var t,n,r,i,s,o,a=Sy,l=function(e){return 1/Math.min(i[e.source.index],i[e.target.index])},u=by(30),c=1;function h(r){for(var i=0,a=e.length;i<c;++i)for(var l,u,h,f,d,p,m,g=0;g<a;++g)u=(l=e[g]).source,f=(h=l.target).x+h.vx-u.x-u.vx||_y(o),d=h.y+h.vy-u.y-u.vy||_y(o),f*=p=((p=Math.sqrt(f*f+d*d))-n[g])/p*r*t[g],d*=p,h.vx-=f*(m=s[g]),h.vy-=d*m,u.vx+=f*(m=1-m),u.vy+=d*m}function f(){if(r){var o,l,u=r.length,c=e.length,h=new Map(r.map((e,t)=>[a(e,t,r),e]));for(o=0,i=new Array(u);o<c;++o)(l=e[o]).index=o,"object"!==typeof l.source&&(l.source=ky(h,l.source)),"object"!==typeof l.target&&(l.target=ky(h,l.target)),i[l.source.index]=(i[l.source.index]||0)+1,i[l.target.index]=(i[l.target.index]||0)+1;for(o=0,s=new Array(c);o<c;++o)l=e[o],s[o]=i[l.source.index]/(i[l.source.index]+i[l.target.index]);t=new Array(c),d(),n=new Array(c),p()}}function d(){if(r)for(var n=0,i=e.length;n<i;++n)t[n]=+l(e[n],n,e)}function p(){if(r)for(var t=0,i=e.length;t<i;++t)n[t]=+u(e[t],t,e)}return null==e&&(e=[]),h.initialize=function(e,t){r=e,o=t,f()},h.links=function(t){return arguments.length?(e=t,f(),h):e},h.id=function(e){return arguments.length?(a=e,h):a},h.iterations=function(e){return arguments.length?(c=+e,h):c},h.strength=function(e){return arguments.length?(l="function"===typeof e?e:by(+e),d(),h):l},h.distance=function(e){return arguments.length?(u="function"===typeof e?e:by(+e),p(),h):u},h}(t.edges).id(e=>e.id).distance(100)).force("charge",function(){var e,t,n,r,i,s=by(-30),o=1,a=1/0,l=.81;function u(n){var i,s=e.length,o=gy(e,Ty,Ny).visitAfter(h);for(r=n,i=0;i<s;++i)t=e[i],o.visit(f)}function c(){if(e){var t,n,r=e.length;for(i=new Array(r),t=0;t<r;++t)n=e[t],i[n.index]=+s(n,t,e)}}function h(e){var t,n,r,s,o,a=0,l=0;if(e.length){for(r=s=o=0;o<4;++o)(t=e[o])&&(n=Math.abs(t.value))&&(a+=t.value,l+=n,r+=n*t.x,s+=n*t.y);e.x=r/l,e.y=s/l}else{(t=e).x=t.data.x,t.y=t.data.y;do{a+=i[t.data.index]}while(t=t.next)}e.value=a}function f(e,s,u,c){if(!e.value)return!0;var h=e.x-t.x,f=e.y-t.y,d=c-s,p=h*h+f*f;if(d*d/l<p)return p<a&&(0===h&&(p+=(h=_y(n))*h),0===f&&(p+=(f=_y(n))*f),p<o&&(p=Math.sqrt(o*p)),t.vx+=h*e.value*r/p,t.vy+=f*e.value*r/p),!0;if(!(e.length||p>=a)){(e.data!==t||e.next)&&(0===h&&(p+=(h=_y(n))*h),0===f&&(p+=(f=_y(n))*f),p<o&&(p=Math.sqrt(o*p)));do{e.data!==t&&(d=i[e.data.index]*r/p,t.vx+=h*d,t.vy+=f*d)}while(e=e.next)}}return u.initialize=function(t,r){e=t,n=r,c()},u.strength=function(e){return arguments.length?(s="function"===typeof e?e:by(+e),c(),u):s},u.distanceMin=function(e){return arguments.length?(o=e*e,u):Math.sqrt(o)},u.distanceMax=function(e){return arguments.length?(a=e*e,u):Math.sqrt(a)},u.theta=function(e){return arguments.length?(l=e*e,u):Math.sqrt(l)},u}().strength(-300)).force("center",function(e,t){var n,r=1;function i(){var i,s,o=n.length,a=0,l=0;for(i=0;i<o;++i)a+=(s=n[i]).x,l+=s.y;for(a=(a/o-e)*r,l=(l/o-t)*r,i=0;i<o;++i)(s=n[i]).x-=a,s.y-=l}return null==e&&(e=0),null==t&&(t=0),i.initialize=function(e){n=e},i.x=function(t){return arguments.length?(e=+t,i):e},i.y=function(e){return arguments.length?(t=+e,i):t},i.strength=function(e){return arguments.length?(r=+e,i):r},i}(e/2,n/2)).force("collision",function(e){var t,n,r,i=1,s=1;function o(){for(var e,o,l,u,c,h,f,d=t.length,p=0;p<s;++p)for(o=gy(t,Ey,xy).visitAfter(a),e=0;e<d;++e)l=t[e],h=n[l.index],f=h*h,u=l.x+l.vx,c=l.y+l.vy,o.visit(m);function m(e,t,n,s,o){var a=e.data,d=e.r,p=h+d;if(!a)return t>u+p||s<u-p||n>c+p||o<c-p;if(a.index>l.index){var m=u-a.x-a.vx,g=c-a.y-a.vy,y=m*m+g*g;y<p*p&&(0===m&&(y+=(m=_y(r))*m),0===g&&(y+=(g=_y(r))*g),y=(p-(y=Math.sqrt(y)))/y*i,l.vx+=(m*=y)*(p=(d*=d)/(f+d)),l.vy+=(g*=y)*p,a.vx-=m*(p=1-p),a.vy-=g*p)}}}function a(e){if(e.data)return e.r=n[e.data.index];for(var t=e.r=0;t<4;++t)e[t]&&e[t].r>e.r&&(e.r=e[t].r)}function l(){if(t){var r,i,s=t.length;for(n=new Array(s),r=0;r<s;++r)i=t[r],n[i.index]=+e(i,r,t)}}return"function"!==typeof e&&(e=by(null==e?1:+e)),o.initialize=function(e,n){t=e,r=n,l()},o.iterations=function(e){return arguments.length?(s=+e,o):s},o.strength=function(e){return arguments.length?(i=+e,o):i},o.radius=function(t){return arguments.length?(e="function"===typeof t?t:by(+t),l(),o):e},o}().radius(50)),c=l.append("g").attr("class","links").selectAll("line").data(t.edges).enter().append("line").attr("stroke","#94a3b8").attr("stroke-width",2).attr("opacity",.6),h=l.append("g").attr("class","nodes").selectAll("g").data(t.nodes).enter().append("g").attr("class","node").call(function(){var e,t,n,r,i=ly,s=uy,o=cy,a=hy,l={},u=Jp("start","drag","end"),c=0,h=0;function f(e){e.on("mousedown.drag",d).filter(a).on("touchstart.drag",g).on("touchmove.drag",y,ey).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(o,a){if(!r&&i.call(this,o,a)){var l=w(this,s.call(this,o,a),o,a,"mouse");l&&(Jg(o.view).on("mousemove.drag",p,ty).on("mouseup.drag",m,ty),iy(o.view),ny(o),n=!1,e=o.clientX,t=o.clientY,l("start",o))}}function p(r){if(ry(r),!n){var i=r.clientX-e,s=r.clientY-t;n=i*i+s*s>h}l.mouse("drag",r)}function m(e){Jg(e.view).on("mousemove.drag mouseup.drag",null),sy(e.view,n),ry(e),l.mouse("end",e)}function g(e,t){if(i.call(this,e,t)){var n,r,o=e.changedTouches,a=s.call(this,e,t),l=o.length;for(n=0;n<l;++n)(r=w(this,a,e,t,o[n].identifier,o[n]))&&(ny(e),r("start",e,o[n]))}}function y(e){var t,n,r=e.changedTouches,i=r.length;for(t=0;t<i;++t)(n=l[r[t].identifier])&&(ry(e),n("drag",e,r[t]))}function v(e){var t,n,i=e.changedTouches,s=i.length;for(r&&clearTimeout(r),r=setTimeout(function(){r=null},500),t=0;t<s;++t)(n=l[i[t].identifier])&&(ny(e),n("end",e,i[t]))}function w(e,t,n,r,i,s){var a,h,d,p=u.copy(),m=Zg(s||n,t);if(null!=(d=o.call(e,new ay("beforestart",{sourceEvent:n,target:f,identifier:i,active:c,x:m[0],y:m[1],dx:0,dy:0,dispatch:p}),r)))return a=d.x-m[0]||0,h=d.y-m[1]||0,function n(s,o,u){var g,y=m;switch(s){case"start":l[i]=n,g=c++;break;case"end":delete l[i],--c;case"drag":m=Zg(u||o,t),g=c}p.call(s,e,new ay(s,{sourceEvent:o,subject:d,target:f,identifier:i,active:g,x:m[0]+a,y:m[1]+h,dx:m[0]-y[0],dy:m[1]-y[1],dispatch:p}),r)}}return f.filter=function(e){return arguments.length?(i="function"===typeof e?e:oy(!!e),f):i},f.container=function(e){return arguments.length?(s="function"===typeof e?e:oy(e),f):s},f.subject=function(e){return arguments.length?(o="function"===typeof e?e:oy(e),f):o},f.touchable=function(e){return arguments.length?(a="function"===typeof e?e:oy(!!e),f):a},f.on=function(){var e=u.on.apply(u,arguments);return e===u?f:e},f.clickDistance=function(e){return arguments.length?(h=(e=+e)*e,f):Math.sqrt(h)},f}().on("start",function(e,t){e.active||u.alphaTarget(.3).restart();t.fx=t.x,t.fy=t.y}).on("drag",function(e,t){t.fx=e.x,t.fy=e.y}).on("end",function(e,t){e.active||u.alphaTarget(0);t.fx=null,t.fy=null}));return h.append("circle").attr("r",e=>Math.max(8,Math.min(20,e.riskScore/5))).attr("fill",e=>f(e.riskCategory)).attr("stroke","#fff").attr("stroke-width",2).attr("cursor","pointer").on("mouseover",d).on("mouseout",p).on("click",m),h.append("text").text(e=>e.label.length>20?e.label.substring(0,20)+"...":e.label).attr("x",0).attr("y",e=>Math.max(8,Math.min(20,e.riskScore/5))+20).attr("text-anchor","middle").attr("font-size","12px").attr("fill","#374151").attr("pointer-events","none"),h.append("text").text(e=>e.riskScore).attr("x",0).attr("y",0).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size","10px").attr("font-weight","bold").attr("fill","#fff").attr("pointer-events","none"),u.on("tick",()=>{c.attr("x1",e=>e.source.x).attr("y1",e=>e.source.y).attr("x2",e=>e.target.x).attr("y2",e=>e.target.y),h.attr("transform",e=>"translate(".concat(e.x,",").concat(e.y,")"))}),()=>{u.stop()}},[t]);const f=e=>{switch(e){case"scam":return"#ef4444";case"suspicious":return"#f59e0b";case"safe":return"#10b981";default:return"#6b7280"}},d=(e,t)=>{var n,r;const i='\n      <div class="graph-tooltip">\n        <h4>'.concat(t.label,"</h4>\n        <p><strong>Risk Score:</strong> ").concat(t.riskScore,"/100</p>\n        <p><strong>Category:</strong> ").concat(t.riskCategory,"</p>\n        <p><strong>Type:</strong> ").concat(t.type,"</p>\n        <p><strong>Timestamp:</strong> ").concat(new Date((null===(n=t.timestamp)||void 0===n||null===(r=n.toDate)||void 0===r?void 0:r.call(n))||t.timestamp).toLocaleString(),"</p>\n      </div>\n    ");h({content:i,x:e.pageX+10,y:e.pageY-10})},p=()=>{h(null)},m=(e,t)=>{u(t),n&&n(t)};return t.nodes&&0!==t.nodes.length?(0,Md.jsxs)("div",{className:"graph-container",ref:s,children:[(0,Md.jsxs)("div",{className:"graph-controls",children:[(0,Md.jsx)("button",{onClick:()=>{Jg(i.current).transition().call(Ky().scaleBy,1.5)},className:"control-btn",title:"Zoom In",children:(0,Md.jsx)(Wy,{size:20})}),(0,Md.jsx)("button",{onClick:()=>{Jg(i.current).transition().call(Ky().scaleBy,1/1.5)},className:"control-btn",title:"Zoom Out",children:(0,Md.jsx)(Gy,{size:20})}),(0,Md.jsx)("button",{onClick:()=>{Jg(i.current).transition().call(Ky().transform,Oy)},className:"control-btn",title:"Reset View",children:(0,Md.jsx)(Yy,{size:20})}),(0,Md.jsxs)("div",{className:"zoom-level",children:["Zoom: ",Math.round(100*o),"%"]})]}),(0,Md.jsxs)("div",{className:"graph-legend",children:[(0,Md.jsx)("h4",{children:"Risk Categories"}),[{category:"safe",label:"Safe",color:"#10b981"},{category:"suspicious",label:"Suspicious",color:"#f59e0b"},{category:"scam",label:"Scam",color:"#ef4444"}].map(e=>(0,Md.jsxs)("div",{className:"legend-item",children:[(0,Md.jsx)("div",{className:"legend-color",style:{backgroundColor:e.color}}),(0,Md.jsx)("span",{className:"legend-label",children:e.label})]},e.category)),(0,Md.jsxs)("div",{className:"legend-info",children:[(0,Md.jsx)("p",{children:"Node size = Risk Score"}),(0,Md.jsx)("p",{children:"Connections = Similar Content"})]})]}),(0,Md.jsx)("svg",{ref:i,className:"network-svg"}),c&&(0,Md.jsx)("div",{className:"graph-tooltip-container",style:{left:c.x,top:c.y},dangerouslySetInnerHTML:{__html:c.content}}),l&&(0,Md.jsxs)("div",{className:"selected-node-info",children:[(0,Md.jsx)("h4",{children:"Selected Node"}),(0,Md.jsxs)("div",{className:"node-details",children:[(0,Md.jsxs)("p",{children:[(0,Md.jsx)("strong",{children:"Content:"})," ",l.label]}),(0,Md.jsxs)("p",{children:[(0,Md.jsx)("strong",{children:"Risk Score:"})," ",l.riskScore,"/100"]}),(0,Md.jsxs)("p",{children:[(0,Md.jsx)("strong",{children:"Category:"})," ",l.riskCategory]}),(0,Md.jsxs)("p",{children:[(0,Md.jsx)("strong",{children:"Type:"})," ",l.type]})]}),(0,Md.jsx)("button",{onClick:()=>u(null),className:"close-btn",children:"\xd7"})]})]}):(0,Md.jsx)("div",{className:"graph-container empty",children:(0,Md.jsxs)("div",{className:"empty-state",children:[(0,Md.jsx)(Qy,{size:48,color:"#6b7280"}),(0,Md.jsx)("h3",{children:"No Network Data"}),(0,Md.jsx)("p",{children:"Submit some content to see the network visualization"})]})})},$y=d("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),Jy=d("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Zy=d("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ev=e=>{let{submissions:t,onRefresh:n}=e;const[i,s]=(0,r.useState)(""),[o,a]=(0,r.useState)("all"),[l,u]=(0,r.useState)("timestamp"),[c,h]=(0,r.useState)("desc"),[f,d]=(0,r.useState)(null),[y,v]=(0,r.useState)(!1),w=(0,r.useMemo)(()=>{let e=t.filter(e=>{const t=e.text.toLowerCase().includes(i.toLowerCase())||e.riskCategory.toLowerCase().includes(i.toLowerCase())||e.type.toLowerCase().includes(i.toLowerCase()),n="all"===o||e.riskCategory===o;return t&&n});return e.sort((e,t)=>{var n,r,i,s;let o,a;switch(l){case"riskScore":o=e.riskScore,a=t.riskScore;break;case"timestamp":o=new Date((null===(n=e.timestamp)||void 0===n||null===(r=n.toDate)||void 0===r?void 0:r.call(n))||e.timestamp),a=new Date((null===(i=t.timestamp)||void 0===i||null===(s=i.toDate)||void 0===s?void 0:s.call(i))||t.timestamp);break;case"text":o=e.text.toLowerCase(),a=t.text.toLowerCase();break;default:o=e[l],a=t[l]}return"asc"===c?o>a?1:-1:o<a?1:-1}),e},[t,i,o,l,c]),b=e=>{switch(e){case"scam":return(0,Md.jsx)(p,{size:20,color:"#ef4444"});case"suspicious":return(0,Md.jsx)(m,{size:20,color:"#f59e0b"});case"safe":return(0,Md.jsx)(g,{size:20,color:"#10b981"});default:return null}},_=e=>{switch(e){case"scam":return"#ef4444";case"suspicious":return"#f59e0b";case"safe":return"#10b981";default:return"#6b7280"}},E=e=>{if(!e)return"Unknown";let t;return t=e.toDate&&"function"===typeof e.toDate?e.toDate():e._seconds?new Date(1e3*e._seconds):e instanceof Date?e:new Date(e),isNaN(t.getTime())?"Invalid Date":t.toLocaleString()},x=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return e.length<=t?e:e.substring(0,t)+"..."},S={total:t.length,safe:t.filter(e=>"safe"===e.riskCategory).length,suspicious:t.filter(e=>"suspicious"===e.riskCategory).length,scam:t.filter(e=>"scam"===e.riskCategory).length};return(0,Md.jsxs)("div",{className:"submissions-list-container",children:[(0,Md.jsxs)("div",{className:"list-header",children:[(0,Md.jsxs)("div",{className:"header-content",children:[(0,Md.jsx)("h2",{children:"Submission History"}),(0,Md.jsx)("p",{children:"View and analyze all submitted content"})]}),(0,Md.jsxs)("button",{onClick:n,className:"refresh-btn btn-hover",children:[(0,Md.jsx)($y,{size:20}),"Refresh"]})]}),(0,Md.jsxs)("div",{className:"stats-cards",children:[(0,Md.jsxs)("div",{className:"stat-card total",children:[(0,Md.jsx)("h3",{children:"Total"}),(0,Md.jsx)("p",{className:"stat-number",children:S.total})]}),(0,Md.jsxs)("div",{className:"stat-card safe",children:[(0,Md.jsx)("h3",{children:"Safe"}),(0,Md.jsx)("p",{className:"stat-number",children:S.safe})]}),(0,Md.jsxs)("div",{className:"stat-card suspicious",children:[(0,Md.jsx)("h3",{children:"Suspicious"}),(0,Md.jsx)("p",{className:"stat-number",children:S.suspicious})]}),(0,Md.jsxs)("div",{className:"stat-card scam",children:[(0,Md.jsx)("h3",{children:"Scam"}),(0,Md.jsx)("p",{className:"stat-number",children:S.scam})]})]}),(0,Md.jsxs)("div",{className:"filters-section",children:[(0,Md.jsxs)("div",{className:"search-box",children:[(0,Md.jsx)(Jy,{size:20,color:"#6b7280"}),(0,Md.jsx)("input",{type:"text",placeholder:"Search submissions...",value:i,onChange:e=>s(e.target.value),className:"search-input"})]}),(0,Md.jsxs)("div",{className:"filter-controls",children:[(0,Md.jsxs)("div",{className:"filter-group",children:[(0,Md.jsx)("label",{htmlFor:"category-filter",children:"Category:"}),(0,Md.jsxs)("select",{id:"category-filter",value:o,onChange:e=>a(e.target.value),className:"filter-select",children:[(0,Md.jsx)("option",{value:"all",children:"All Categories"}),(0,Md.jsx)("option",{value:"safe",children:"Safe"}),(0,Md.jsx)("option",{value:"suspicious",children:"Suspicious"}),(0,Md.jsx)("option",{value:"scam",children:"Scam"})]})]}),(0,Md.jsxs)("div",{className:"filter-group",children:[(0,Md.jsx)("label",{htmlFor:"sort-by",children:"Sort by:"}),(0,Md.jsxs)("select",{id:"sort-by",value:l,onChange:e=>u(e.target.value),className:"filter-select",children:[(0,Md.jsx)("option",{value:"timestamp",children:"Date"}),(0,Md.jsx)("option",{value:"riskScore",children:"Risk Score"}),(0,Md.jsx)("option",{value:"text",children:"Content"}),(0,Md.jsx)("option",{value:"type",children:"Type"})]})]}),(0,Md.jsx)("button",{onClick:()=>h("asc"===c?"desc":"asc"),className:"sort-order-btn",title:"Sort ".concat("asc"===c?"Descending":"Ascending"),children:"asc"===c?"\u2191":"\u2193"})]})]}),(0,Md.jsxs)("div",{className:"results-count",children:["Showing ",w.length," of ",t.length," submissions"]}),(0,Md.jsx)("div",{className:"submissions-grid",children:0===w.length?(0,Md.jsxs)("div",{className:"no-results",children:[(0,Md.jsx)("p",{children:"No submissions match your current filters."}),(0,Md.jsx)("p",{children:"Try adjusting your search criteria or filters."})]}):w.map(e=>(0,Md.jsxs)("div",{className:"submission-card",children:[(0,Md.jsxs)("div",{className:"card-header",children:[(0,Md.jsxs)("div",{className:"risk-indicator",children:[b(e.riskCategory),(0,Md.jsx)("span",{className:"risk-badge",style:{color:_(e.riskCategory),backgroundColor:_(e.riskCategory)+"20"},children:e.riskCategory.toUpperCase()})]}),(0,Md.jsxs)("div",{className:"submission-meta",children:[(0,Md.jsx)("span",{className:"submission-type",children:e.type}),(0,Md.jsx)("span",{className:"submission-time",children:E(e.timestamp)})]})]}),(0,Md.jsxs)("div",{className:"card-content",children:[(0,Md.jsx)("p",{className:"submission-text",children:x(e.text,150)}),(0,Md.jsxs)("div",{className:"risk-score",children:[(0,Md.jsx)("span",{className:"score-label",children:"Risk Score:"}),(0,Md.jsxs)("span",{className:"score-value",style:{color:_(e.riskCategory)},children:[e.riskScore,"/100"]})]}),e.features&&(0,Md.jsxs)("div",{className:"features-summary",children:[(0,Md.jsx)("span",{className:"features-label",children:"Key Features:"}),(0,Md.jsx)("div",{className:"features-tags",children:Object.entries(e.features).filter(e=>{let[t,n]=e;return"boolean"===typeof n&&n}).slice(0,3).map(e=>{let[t,n]=e;return(0,Md.jsx)("span",{className:"feature-tag",children:t.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())},t)})})]})]}),(0,Md.jsx)("div",{className:"card-actions",children:(0,Md.jsxs)("button",{className:"view-details-btn",onClick:()=>{d(e),v(!0)},children:[(0,Md.jsx)(Zy,{size:16}),"View Details"]})})]},e.id))}),y&&f&&(0,Md.jsx)("div",{className:"modal-overlay",onClick:()=>v(!1),children:(0,Md.jsxs)("div",{className:"modal-content",onClick:e=>e.stopPropagation(),children:[(0,Md.jsxs)("div",{className:"modal-header",children:[(0,Md.jsx)("h3",{children:"Submission Details"}),(0,Md.jsx)("button",{className:"modal-close-btn",onClick:()=>v(!1),children:"\xd7"})]}),(0,Md.jsxs)("div",{className:"modal-body",children:[(0,Md.jsxs)("div",{className:"detail-section",children:[(0,Md.jsx)("h4",{children:"Content"}),(0,Md.jsx)("p",{className:"full-text",children:f.text})]}),(0,Md.jsxs)("div",{className:"detail-section",children:[(0,Md.jsx)("h4",{children:"Analysis Results"}),(0,Md.jsxs)("div",{className:"analysis-grid",children:[(0,Md.jsxs)("div",{className:"analysis-item",children:[(0,Md.jsx)("span",{className:"label",children:"Risk Score:"}),(0,Md.jsxs)("span",{className:"value risk-score",style:{color:_(f.riskCategory)},children:[f.riskScore,"/100"]})]}),(0,Md.jsxs)("div",{className:"analysis-item",children:[(0,Md.jsx)("span",{className:"label",children:"Category:"}),(0,Md.jsx)("span",{className:"value risk-badge",style:{color:_(f.riskCategory),backgroundColor:_(f.riskCategory)+"20"},children:f.riskCategory.toUpperCase()})]}),(0,Md.jsxs)("div",{className:"analysis-item",children:[(0,Md.jsx)("span",{className:"label",children:"Type:"}),(0,Md.jsx)("span",{className:"value",children:f.type})]}),(0,Md.jsxs)("div",{className:"analysis-item",children:[(0,Md.jsx)("span",{className:"label",children:"Timestamp:"}),(0,Md.jsx)("span",{className:"value",children:E(f.timestamp)})]})]})]}),f.features&&(0,Md.jsxs)("div",{className:"detail-section",children:[(0,Md.jsx)("h4",{children:"Detected Features"}),(0,Md.jsx)("div",{className:"features-grid",children:Object.entries(f.features).map(e=>{let[t,n]=e;return(0,Md.jsxs)("div",{className:"feature-item ".concat("boolean"===typeof n?n?"detected":"not-detected":""),children:[(0,Md.jsx)("span",{className:"feature-name",children:t.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase())}),(0,Md.jsx)("span",{className:"feature-value",children:"boolean"===typeof n?n?"\u2713":"\u2717":n})]},t)})})]}),f.similarSubmissions&&f.similarSubmissions.length>0&&(0,Md.jsxs)("div",{className:"detail-section",children:[(0,Md.jsx)("h4",{children:"Similar Submissions"}),(0,Md.jsxs)("p",{children:["This content is similar to ",f.similarSubmissions.length," other submission(s)."]})]})]})]})})]})},tv=d("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z",key:"3xmgem"}]]),nv=d("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),rv=()=>(0,Md.jsx)("header",{className:"header",children:(0,Md.jsxs)("div",{className:"header-container",children:[(0,Md.jsxs)("div",{className:"header-brand",children:[(0,Md.jsxs)("div",{className:"brand-icon",children:[(0,Md.jsx)(tv,{size:32}),(0,Md.jsx)(nv,{size:16,className:"brand-accent"})]}),(0,Md.jsxs)("div",{className:"brand-text",children:[(0,Md.jsx)("h1",{className:"brand-title",children:"ScamGuard"}),(0,Md.jsx)("p",{className:"brand-subtitle",children:"Real-time Scam Detection Network"})]})]}),(0,Md.jsx)("div",{className:"header-actions",children:(0,Md.jsxs)("div",{className:"status-indicator",children:[(0,Md.jsx)("div",{className:"status-dot active"}),(0,Md.jsx)("span",{className:"status-text",children:"Live Detection Active"})]})})]})}),iv=d("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),sv=d("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),ov=d("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);const av=function(){const[e,t]=(0,r.useState)("submit"),[n,i]=(0,r.useState)([]),[s,o]=(0,r.useState)({nodes:[],edges:[]}),[a,l]=(0,r.useState)(!1),[c,h]=(0,r.useState)(null);(0,r.useEffect)(()=>{f(),d()},[]);const f=async()=>{try{const e=await Dd();i(e)}catch(e){console.error("Error fetching submissions from Firebase:",e),m("Error fetching submissions","error")}},d=async()=>{try{const e=await(async()=>{try{const[e,t]=await Promise.all([kd(Af(Ad,"nodes")),kd(Af(Ad,"edges"))]);return{nodes:e.docs.map(e=>u({id:e.id},e.data())),edges:t.docs.map(e=>u({id:e.id},e.data()))}}catch(e){throw console.error("Error getting graph data from Firebase:",e),e}})();o(e)}catch(e){console.error("Error fetching graph data from Firebase:",e),m("Error fetching graph data","error")}},p=e=>{i(t=>[e,...t]),d(),m("Submission analyzed successfully!","success")},m=function(e){h({message:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success"}),setTimeout(()=>h(null),3e3)},g=[{id:"submit",label:"Submit",icon:tv,description:"Submit suspicious URLs or messages for analysis"},{id:"graph",label:"Network",icon:iv,description:"Visualize scam network connections and patterns"},{id:"submissions",label:"History",icon:sv,description:"View all analyzed submissions and results"},{id:"analytics",label:"Analytics",icon:ov,description:"Risk score statistics and trends"}];return(0,Md.jsxs)("div",{className:"App",children:[(0,Md.jsx)(rv,{}),(0,Md.jsx)("main",{className:"main-content",children:(0,Md.jsxs)("div",{className:"container",children:[(0,Md.jsx)("nav",{className:"tab-navigation",children:g.map(n=>{const r=n.icon;return(0,Md.jsxs)("button",{className:"tab-button ".concat(e===n.id?"active":""),onClick:()=>t(n.id),children:[(0,Md.jsx)(r,{size:20}),(0,Md.jsx)("span",{className:"tab-label",children:n.label}),(0,Md.jsx)("span",{className:"tab-description",children:n.description})]},n.id)})}),(0,Md.jsx)("div",{className:"tab-content fade-in",children:(()=>{switch(e){case"submit":return(0,Md.jsx)(Rd,{onSubmissionSuccess:p,onError:e=>m(e,"error")});case"graph":return(0,Md.jsx)(Xy,{data:s,onNodeClick:e=>{t("submissions")}});case"submissions":return(0,Md.jsx)(ev,{submissions:n,onRefresh:f});case"analytics":return(0,Md.jsxs)("div",{className:"analytics-container",children:[(0,Md.jsx)("h2",{children:"Risk Analytics"}),(0,Md.jsxs)("div",{className:"stats-grid",children:[(0,Md.jsxs)("div",{className:"stat-card",children:[(0,Md.jsx)("h3",{children:"Total Submissions"}),(0,Md.jsx)("p",{className:"stat-number",children:n.length})]}),(0,Md.jsxs)("div",{className:"stat-card",children:[(0,Md.jsx)("h3",{children:"High Risk"}),(0,Md.jsx)("p",{className:"stat-number risk-high",children:n.filter(e=>"scam"===e.riskCategory).length})]}),(0,Md.jsxs)("div",{className:"stat-card",children:[(0,Md.jsx)("h3",{children:"Suspicious"}),(0,Md.jsx)("p",{className:"stat-number risk-medium",children:n.filter(e=>"suspicious"===e.riskCategory).length})]}),(0,Md.jsxs)("div",{className:"stat-card",children:[(0,Md.jsx)("h3",{children:"Safe"}),(0,Md.jsx)("p",{className:"stat-number risk-low",children:n.filter(e=>"safe"===e.riskCategory).length})]})]}),(0,Md.jsxs)("div",{className:"risk-distribution",children:[(0,Md.jsx)("h3",{children:"Risk Score Distribution"}),(0,Md.jsx)("div",{className:"risk-bars",children:[0,20,40,60,80,100].map((e,t)=>{const r=n.filter(t=>t.riskScore>=e&&t.riskScore<e+20).length,i=Math.max(...[0,20,40,60,80,100].map(e=>n.filter(t=>t.riskScore>=e&&t.riskScore<e+20).length)),s=i>0?r/i*100:0;return(0,Md.jsxs)("div",{className:"risk-bar",children:[(0,Md.jsxs)("div",{className:"bar-label",children:[e,"-",e+19]}),(0,Md.jsx)("div",{className:"bar-container",children:(0,Md.jsx)("div",{className:"bar-fill",style:{height:"".concat(s,"%")}})}),(0,Md.jsx)("div",{className:"bar-count",children:r})]},e)})})]})]});default:return null}})()})]})}),c&&(0,Md.jsx)("div",{className:"toast ".concat(c.type),children:c.message})]})};i.createRoot(document.getElementById("root")).render((0,Md.jsx)(r.StrictMode,{children:(0,Md.jsx)(av,{})}))})();
//# sourceMappingURL=main.d3029274.js.map